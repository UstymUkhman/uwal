var an=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var o=(e,n,t)=>(an(e,n,"read from private field"),t?t.call(e):n.get(e)),$=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},S=(e,n,t,r)=>(an(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t);var G=(e,n,t)=>(an(e,n,"access private method"),t);import{C as gn,T as Vn,E as On,N as Gn,U as un}from"./index-BWftAgnI.js";let E=1e-6,p=Float32Array;function bn(e){const n=p;return p=e,n}function en(e=0,n=0){const t=new p(2);return e!==void 0&&(t[0]=e,n!==void 0&&(t[1]=n)),t}let In=Float32Array;const Ln=en;function Nn(e,n,t){return t=t||new p(2),t[0]=e,t[1]=n,t}function Wn(e,n){return n=n||new p(2),n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n}function Yn(e,n){return n=n||new p(2),n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n}function jn(e,n){return n=n||new p(2),n[0]=Math.round(e[0]),n[1]=Math.round(e[1]),n}function Qn(e,n=0,t=1,r){return r=r||new p(2),r[0]=Math.min(t,Math.max(n,e[0])),r[1]=Math.min(t,Math.max(n,e[1])),r}function Xn(e,n,t){return t=t||new p(2),t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Hn(e,n,t,r){return r=r||new p(2),r[0]=e[0]+n[0]*t,r[1]=e[1]+n[1]*t,r}function Jn(e,n){const t=e[0],r=e[1],i=e[0],a=e[1],u=Math.sqrt(t*t+r*r),f=Math.sqrt(i*i+a*a),l=u*f,c=l&&Bn(e,n)/l;return Math.acos(c)}function Mn(e,n,t){return t=t||new p(2),t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}const Kn=Mn;function Zn(e,n){return Math.abs(e[0]-n[0])<E&&Math.abs(e[1]-n[1])<E}function kn(e,n){return e[0]===n[0]&&e[1]===n[1]}function Sn(e,n,t,r){return r=r||new p(2),r[0]=e[0]+t*(n[0]-e[0]),r[1]=e[1]+t*(n[1]-e[1]),r}function dn(e,n,t,r){return r=r||new p(2),r[0]=e[0]+t[0]*(n[0]-e[0]),r[1]=e[1]+t[1]*(n[1]-e[1]),r}function ne(e,n,t){return t=t||new p(2),t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ee(e,n,t){return t=t||new p(2),t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ln(e,n,t){return t=t||new p(2),t[0]=e[0]*n,t[1]=e[1]*n,t}const te=ln;function re(e,n,t){return t=t||new p(2),t[0]=e[0]/n,t[1]=e[1]/n,t}function wn(e,n){return n=n||new p(2),n[0]=1/e[0],n[1]=1/e[1],n}const oe=wn;function ie(e,n,t){t=t||new In(3);const r=e[0]*n[1]-e[1]*n[0];return t[0]=0,t[1]=0,t[2]=r,t}function Bn(e,n){return e[0]*n[0]+e[1]*n[1]}function sn(e){const n=e[0],t=e[1];return Math.sqrt(n*n+t*t)}const ce=sn;function An(e){const n=e[0],t=e[1];return n*n+t*t}const ae=An;function Cn(e,n){const t=e[0]-n[0],r=e[1]-n[1];return Math.sqrt(t*t+r*r)}const ue=Cn;function mn(e,n){const t=e[0]-n[0],r=e[1]-n[1];return t*t+r*r}const fe=mn;function Tn(e,n){n=n||new p(2);const t=e[0],r=e[1],i=Math.sqrt(t*t+r*r);return i>1e-5?(n[0]=t/i,n[1]=r/i):(n[0]=0,n[1]=0),n}function he(e,n){return n=n||new p(2),n[0]=-e[0],n[1]=-e[1],n}function pn(e,n){return n=n||new p(2),n[0]=e[0],n[1]=e[1],n}const le=pn;function Pn(e,n,t){return t=t||new p(2),t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}const se=Pn;function Un(e,n,t){return t=t||new p(2),t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}const pe=Un;function $e(e=1,n){n=n||new p(2);const t=Math.random()*2*Math.PI;return n[0]=Math.cos(t)*e,n[1]=Math.sin(t)*e,n}function ge(e){return e=e||new p(2),e[0]=0,e[1]=0,e}function xe(e,n,t){t=t||new p(2);const r=e[0],i=e[1];return t[0]=r*n[0]+i*n[4]+n[12],t[1]=r*n[1]+i*n[5]+n[13],t}function ye(e,n,t){t=t||new p(2);const r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[8],t[1]=n[1]*r+n[5]*i+n[9],t}function Me(e,n,t,r){r=r||new p(2);const i=e[0]-n[0],a=e[1]-n[1],u=Math.sin(t),f=Math.cos(t);return r[0]=i*f-a*u+n[0],r[1]=i*u+a*f+n[1],r}function En(e,n,t){return t=t||new p(2),Tn(e,t),ln(t,n,t)}function Se(e,n,t){return t=t||new p(2),sn(e)>n?En(e,n,t):pn(e,t)}function we(e,n,t){return t=t||new p(2),Sn(e,n,.5,t)}var xn=Object.freeze({__proto__:null,add:Xn,addScaled:Hn,angle:Jn,ceil:Wn,clamp:Qn,clone:le,copy:pn,create:en,cross:ie,dist:ue,distSq:fe,distance:Cn,distanceSq:mn,div:pe,divScalar:re,divide:Un,dot:Bn,equals:kn,equalsApproximately:Zn,floor:Yn,fromValues:Ln,inverse:wn,invert:oe,len:ce,lenSq:ae,length:sn,lengthSq:An,lerp:Sn,lerpV:dn,max:ne,midpoint:we,min:ee,mul:se,mulScalar:ln,multiply:Pn,negate:he,normalize:Tn,random:$e,rotate:Me,round:jn,scale:te,set:Nn,setDefaultType:bn,setLength:En,sub:Kn,subtract:Mn,transformMat3:ye,transformMat4:xe,truncate:Se,zero:ge});let yn=Float32Array;const Rn=new Map([[Float32Array,()=>new Float32Array(12)],[Float64Array,()=>new Float64Array(12)],[Array,()=>new Array(12).fill(0)]]);let M=Rn.get(Float32Array);function Be(e){const n=yn;return yn=e,M=Rn.get(e),n}function Ae(e,n,t,r,i,a,u,f,l){const c=M();return c[3]=0,c[7]=0,c[11]=0,e!==void 0&&(c[0]=e,n!==void 0&&(c[1]=n,t!==void 0&&(c[2]=t,r!==void 0&&(c[4]=r,i!==void 0&&(c[5]=i,a!==void 0&&(c[6]=a,u!==void 0&&(c[8]=u,f!==void 0&&(c[9]=f,l!==void 0&&(c[10]=l))))))))),c}function Ce(e,n,t,r,i,a,u,f,l,c){return c=c||M(),c[0]=e,c[1]=n,c[2]=t,c[3]=0,c[4]=r,c[5]=i,c[6]=a,c[7]=0,c[8]=u,c[9]=f,c[10]=l,c[11]=0,c}function me(e,n){return n=n||M(),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=0,n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=0,n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=0,n}function Te(e,n){n=n||M();const t=e[0],r=e[1],i=e[2],a=e[3],u=t+t,f=r+r,l=i+i,c=t*u,g=r*u,s=r*f,A=i*u,h=i*f,x=i*l,w=a*u,y=a*f,T=a*l;return n[0]=1-s-x,n[1]=g+T,n[2]=A-y,n[3]=0,n[4]=g-T,n[5]=1-c-x,n[6]=h+w,n[7]=0,n[8]=A+y,n[9]=h-w,n[10]=1-c-s,n[11]=0,n}function Pe(e,n){return n=n||M(),n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[8]=-e[8],n[9]=-e[9],n[10]=-e[10],n}function $n(e,n){return n=n||M(),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[8]=e[8],n[9]=e[9],n[10]=e[10],n}const Ue=$n;function Ee(e,n){return Math.abs(e[0]-n[0])<E&&Math.abs(e[1]-n[1])<E&&Math.abs(e[2]-n[2])<E&&Math.abs(e[4]-n[4])<E&&Math.abs(e[5]-n[5])<E&&Math.abs(e[6]-n[6])<E&&Math.abs(e[8]-n[8])<E&&Math.abs(e[9]-n[9])<E&&Math.abs(e[10]-n[10])<E}function Re(e,n){return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[8]===n[8]&&e[9]===n[9]&&e[10]===n[10]}function zn(e){return e=e||M(),e[0]=1,e[1]=0,e[2]=0,e[4]=0,e[5]=1,e[6]=0,e[8]=0,e[9]=0,e[10]=1,e}function ze(e,n){if(n=n||M(),n===e){let s;return s=e[1],e[1]=e[4],e[4]=s,s=e[2],e[2]=e[8],e[8]=s,s=e[6],e[6]=e[9],e[9]=s,n}const t=e[0*4+0],r=e[0*4+1],i=e[0*4+2],a=e[1*4+0],u=e[1*4+1],f=e[1*4+2],l=e[2*4+0],c=e[2*4+1],g=e[2*4+2];return n[0]=t,n[1]=a,n[2]=l,n[4]=r,n[5]=u,n[6]=c,n[8]=i,n[9]=f,n[10]=g,n}function qn(e,n){n=n||M();const t=e[0*4+0],r=e[0*4+1],i=e[0*4+2],a=e[1*4+0],u=e[1*4+1],f=e[1*4+2],l=e[2*4+0],c=e[2*4+1],g=e[2*4+2],s=g*u-f*c,A=-g*a+f*l,h=c*a-u*l,x=1/(t*s+r*A+i*h);return n[0]=s*x,n[1]=(-g*r+i*c)*x,n[2]=(f*r-i*u)*x,n[4]=A*x,n[5]=(g*t-i*l)*x,n[6]=(-f*t+i*a)*x,n[8]=h*x,n[9]=(-c*t+r*l)*x,n[10]=(u*t-r*a)*x,n}function qe(e){const n=e[0],t=e[0*4+1],r=e[0*4+2],i=e[1*4+0],a=e[1*4+1],u=e[1*4+2],f=e[2*4+0],l=e[2*4+1],c=e[2*4+2];return n*(a*c-l*u)-i*(t*c-l*r)+f*(t*u-a*r)}const ve=qn;function vn(e,n,t){t=t||M();const r=e[0],i=e[1],a=e[2],u=e[4],f=e[5],l=e[6],c=e[8],g=e[9],s=e[10],A=n[0],h=n[1],x=n[2],w=n[4],y=n[5],T=n[6],P=n[8],j=n[9],Q=n[10];return t[0]=r*A+u*h+c*x,t[1]=i*A+f*h+g*x,t[2]=a*A+l*h+s*x,t[4]=r*w+u*y+c*T,t[5]=i*w+f*y+g*T,t[6]=a*w+l*y+s*T,t[8]=r*P+u*j+c*Q,t[9]=i*P+f*j+g*Q,t[10]=a*P+l*j+s*Q,t}const Fe=vn;function _e(e,n,t){return t=t||zn(),e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[4]=e[4],t[5]=e[5],t[6]=e[6]),t[8]=n[0],t[9]=n[1],t[10]=1,t}function De(e,n){return n=n||en(),n[0]=e[8],n[1]=e[9],n}function Ve(e,n,t){t=t||en();const r=n*4;return t[0]=e[r+0],t[1]=e[r+1],t}function Oe(e,n,t,r){r!==e&&(r=$n(e,r));const i=t*4;return r[i+0]=n[0],r[i+1]=n[1],r}function Ge(e,n){n=n||en();const t=e[0],r=e[1],i=e[4],a=e[5];return n[0]=Math.sqrt(t*t+r*r),n[1]=Math.sqrt(i*i+a*a),n}function be(e,n){return n=n||M(),n[0]=1,n[1]=0,n[2]=0,n[4]=0,n[5]=1,n[6]=0,n[8]=e[0],n[9]=e[1],n[10]=1,n}function Ie(e,n,t){t=t||M();const r=n[0],i=n[1],a=e[0],u=e[1],f=e[2],l=e[1*4+0],c=e[1*4+1],g=e[1*4+2],s=e[2*4+0],A=e[2*4+1],h=e[2*4+2];return e!==t&&(t[0]=a,t[1]=u,t[2]=f,t[4]=l,t[5]=c,t[6]=g),t[8]=a*r+l*i+s,t[9]=u*r+c*i+A,t[10]=f*r+g*i+h,t}function Le(e,n){n=n||M();const t=Math.cos(e),r=Math.sin(e);return n[0]=t,n[1]=r,n[2]=0,n[4]=-r,n[5]=t,n[6]=0,n[8]=0,n[9]=0,n[10]=1,n}function Ne(e,n,t){t=t||M();const r=e[0*4+0],i=e[0*4+1],a=e[0*4+2],u=e[1*4+0],f=e[1*4+1],l=e[1*4+2],c=Math.cos(n),g=Math.sin(n);return t[0]=c*r+g*u,t[1]=c*i+g*f,t[2]=c*a+g*l,t[4]=c*u-g*r,t[5]=c*f-g*i,t[6]=c*l-g*a,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10]),t}function We(e,n){return n=n||M(),n[0]=e[0],n[1]=0,n[2]=0,n[4]=0,n[5]=e[1],n[6]=0,n[8]=0,n[9]=0,n[10]=1,n}function Ye(e,n,t){t=t||M();const r=n[0],i=n[1];return t[0]=r*e[0*4+0],t[1]=r*e[0*4+1],t[2]=r*e[0*4+2],t[4]=i*e[1*4+0],t[5]=i*e[1*4+1],t[6]=i*e[1*4+2],e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10]),t}function je(e,n){return n=n||M(),n[0]=e,n[1]=0,n[2]=0,n[4]=0,n[5]=e,n[6]=0,n[8]=0,n[9]=0,n[10]=1,n}function Qe(e,n,t){return t=t||M(),t[0]=n*e[0*4+0],t[1]=n*e[0*4+1],t[2]=n*e[0*4+2],t[4]=n*e[1*4+0],t[5]=n*e[1*4+1],t[6]=n*e[1*4+2],e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10]),t}var U=Object.freeze({__proto__:null,clone:Ue,copy:$n,create:Ae,determinant:qe,equals:Re,equalsApproximately:Ee,fromMat4:me,fromQuat:Te,getAxis:Ve,getScaling:Ge,getTranslation:De,identity:zn,inverse:qn,invert:ve,mul:Fe,multiply:vn,negate:Pe,rotate:Ne,rotation:Le,scale:Ye,scaling:We,set:Ce,setAxis:Oe,setDefaultType:Be,setTranslation:_e,translate:Ie,translation:be,transpose:ze,uniformScale:Qe,uniformScaling:je}),B,C,b,z,X,H,J,K,v,q,Z,I,L,D,k,N,m,W,Y,F,V,O,_,d,R,rn,Fn,on,_n,cn,Dn,nn,fn;class Xe{constructor(n){$(this,rn);$(this,on);$(this,cn);$(this,nn);$(this,B,void 0);$(this,C,void 0);$(this,b,0);$(this,z,!1);$(this,X,U.create());$(this,H,U.create());$(this,J,U.create());$(this,K,U.create());$(this,v,void 0);$(this,q,void 0);$(this,Z,void 0);$(this,I,void 0);$(this,L,void 0);$(this,D,void 0);$(this,k,void 0);$(this,N,[1,1]);$(this,m,[0,0]);$(this,W,[0,0]);$(this,Y,[0,0]);$(this,F,{min:xn.create(),max:xn.create()});$(this,V,gn({color:4,matrix:12}));$(this,O,gn({color:0,matrix:4}));$(this,_,new Float32Array(o(this,V).color+o(this,V).matrix));$(this,d,o(this,_).subarray(o(this,O).color,o(this,O).color+o(this,V).color));$(this,R,o(this,_).subarray(o(this,O).matrix,o(this,O).matrix+o(this,V).matrix));n.segments||Vn(On.REQUIRED_SEGMENTS),S(this,v,n.label??"Shape"),S(this,C,n.radius??0),S(this,B,n.renderer),S(this,q,n.segments);const{startAngle:t,endAngle:r,innerRadius:i}=n;G(this,rn,Fn).call(this,t,r,i),G(this,on,_n).call(this),G(this,cn,Dn).call(this),this.Scale=o(this,N),this.Origin=o(this,m),this.Rotation=o(this,b),this.Position=o(this,Y)}Update(){return o(this,B).SetVertexBuffers(o(this,I)),o(this,B).SetIndexBuffer(o(this,L)),o(this,B).SetBindGroups(o(this,k)),G(this,nn,fn).call(this)}set Color(n){o(this,d).set(n),o(this,B).WriteBuffer(o(this,D),o(this,_))}get Color(){return o(this,d)}set Position(n){U.translation(S(this,Y,n),o(this,K)),S(this,z,!0)}get Position(){return o(this,Y)}set Rotation(n){U.rotation(S(this,b,n),o(this,J)),S(this,z,!0)}get Rotation(){return o(this,b)}set Scale(n){U.scaling(S(this,N,n),o(this,H)),S(this,z,!0)}get Scale(){return o(this,N)}set Origin(n){o(this,m)[0]=n[0],o(this,m)[1]=n[1],o(this,m)[0]*=-o(this,C),o(this,m)[1]*=-o(this,C),U.translation(o(this,m),o(this,X)),o(this,m)[0]=n[0]||0,o(this,m)[1]=n[1]||0,S(this,z,!0)}get Origin(){return o(this,m)}get Center(){return o(G(this,nn,fn).call(this),W)}get Vertices(){return o(this,Z)}get Transform(){return o(this,R)}get BoundingBox(){return o(this,F)}}B=new WeakMap,C=new WeakMap,b=new WeakMap,z=new WeakMap,X=new WeakMap,H=new WeakMap,J=new WeakMap,K=new WeakMap,v=new WeakMap,q=new WeakMap,Z=new WeakMap,I=new WeakMap,L=new WeakMap,D=new WeakMap,k=new WeakMap,N=new WeakMap,m=new WeakMap,W=new WeakMap,Y=new WeakMap,F=new WeakMap,V=new WeakMap,O=new WeakMap,_=new WeakMap,d=new WeakMap,R=new WeakMap,rn=new WeakSet,Fn=function(n=0,t=Gn.TAU,r=0){const i=t-n,a=new Float32Array((o(this,q)+1)*2*3);for(let u=0,f=0;f<=o(this,q);++f){const l=n+f*i/o(this,q),c=Math.cos(l),g=Math.sin(l);a[u++]=c*o(this,C),a[u++]=g*o(this,C),a[u++]=c*r,a[u++]=g*r}S(this,I,o(this,B).CreateBuffer({size:a.byteLength,label:`${o(this,v)} Vertex Data Buffer`,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST})),o(this,B).WriteBuffer(o(this,I),a)},on=new WeakSet,_n=function(){const n=new Uint32Array(S(this,Z,o(this,q)*6));for(let t=0,r=0;r<o(this,q);r++){const i=r*2;n[t++]=i+1,n[t++]=i+3,n[t++]=i+2,n[t++]=i+2,n[t++]=i+0,n[t++]=i+1}S(this,L,o(this,B).CreateBuffer({size:n.byteLength,label:`${o(this,v)} Index Buffer`,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST})),o(this,B).WriteBuffer(o(this,L),n)},cn=new WeakSet,Dn=function(){S(this,D,o(this,B).CreateBuffer({size:o(this,_).length*Float32Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,label:`${o(this,v)} Uniform Buffer`})),S(this,k,o(this,B).CreateBindGroup(o(this,B).CreateBindGroupEntries([{buffer:o(this,B).ResolutionBuffer},{buffer:o(this,D)}]),0,`${o(this,v)} Bind Group`))},nn=new WeakSet,fn=function(){if(o(this,z)){U.multiply(o(this,K),o(this,J),o(this,R)),U.multiply(o(this,R),o(this,H),o(this,R)),U.multiply(o(this,R),o(this,X),o(this,R)),o(this,B).WriteBuffer(o(this,D),o(this,_));const n=o(this,W)[0]=o(this,R)[8],t=o(this,W)[1]=o(this,R)[9];o(this,F).min[0]=n-o(this,C),o(this,F).min[1]=t-o(this,C),o(this,F).max[0]=n+o(this,C),o(this,F).max[1]=t+o(this,C),S(this,z,!1)}return this};var He="@group(0)@binding(0)var<uniform>resolution: vec2f;fn GetClipSpace(position: vec2f)->vec2f{let clipSpace=position/resolution*2-1;return clipSpace*vec2f(1,-1);}",Je="struct Shape{color: vec4f,matrix: mat3x3f};@group(0)@binding(1)var<uniform>shape: Shape;@vertex fn vertex(@location(0)position: vec2f)->@builtin(position)vec4f {let matrixPosition=shape.matrix*vec3f(position,1);let clipSpace=GetClipSpace(matrixPosition.xy);return vec4f(clipSpace,0.0,1.0);}@fragment fn fragment()->@location(0)vec4f {return shape.color;}";/**
 * @example 2D Shapes
 * @author Ustym Ukhman <ustym.ukhman@gmail.com>
 * @description This example is developed by using a version listed below.
 * Please note that this code may be simplified in future
 * thanks to more recent library APIs.
 * @version 0.0.4
 * @license MIT
 */let tn,hn;async function ke(e){let n;try{n=new(await un.RenderPipeline(e,"2D Shapes"))}catch(h){alert(h)}const t=[],r=[],i=[],a=[],u=n.CreatePassDescriptor(n.CreateColorAttachment(void 0,"clear","store",[0,0,0,1])),f=n.CreateShaderModule([He,Je]);n.CreatePipeline({fragment:n.CreateFragmentState(f),vertex:n.CreateVertexState(f,"vertex",[{arrayStride:Float32Array.BYTES_PER_ELEMENT*2,attributes:[n.CreateVertexBufferAttribute("float32x2")]}])});function l(){t.splice(0),r.splice(0),i.splice(0),a.splice(0),cancelAnimationFrame(tn)}function c(){g(),tn=requestAnimationFrame(A)}function g(){for(let h=3;h<=12;h++){const x=h===11&&64||h;for(let w=0;w<2;w++){const y=s(50,100),T=y*s(.75,.95),P=new Xe({innerRadius:T*w,renderer:n,segments:x,radius:y});P.Position=[s(y,e.width-y),s(y,e.height-y)],P.Rotation=s(Math.PI*2),r.push(s(1,10)),t.push(s(.1)),i.push(P),a.push([s(-1,1),s(-1,1)]),P.Color=[s(.3,1),s(.2,1),s(.4,1),1]}}}function s(h,x){return h===void 0?(h=0,x=1):x===void 0&&(x=h,h=0),Math.random()*(x-h)+h}function A(){tn=requestAnimationFrame(A),u.colorAttachments[0].view=n.CurrentTextureView,i.forEach(h=>n.Render(h.Update().Vertices,!1));for(let h=0,x=i.length;h<x;h++){const w=i[h],y=a[h],{min:T,max:P}=w.BoundingBox,[j,Q]=w.Position;(T[0]<=0||P[0]>=e.width)&&(y[0]*=-1),(T[1]<=0||P[1]>=e.height)&&(y[1]*=-1),w.Rotation+=t[h],w.Position=[j+y[0]*r[h],Q+y[1]*r[h]]}n.Submit()}hn=new ResizeObserver(h=>{for(const x of h){const{inlineSize:w,blockSize:y}=x.contentBoxSize[0];n.SetCanvasSize(w,y)}l(),c()}),hn.observe(e)}function de(){un.OnDeviceLost=()=>{},cancelAnimationFrame(tn),hn.disconnect(),un.Destroy()}export{de as destroy,ke as run};
