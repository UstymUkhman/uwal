import{N as F}from"./Node-DuQUmuyq.js";import{v as U,m as s,M as v}from"./index-jg0arK8r.js";class V extends F{#o=U.set(0,1,0);#s=60;#e=1;#h=1e3;#r=innerWidth/innerHeight;#a=s.identity();#t=new Float32Array(24);#i=s.identity();constructor(t=60,e=1,m=1e3,h=innerWidth/innerHeight){super("PerspectiveCamera"),this.#s=t,this.#e=e,this.#h=m,this.#r=typeof h!="number"?h.AspectRatio:h,this.UpdateProjectionMatrix()}#n(t=!1){const[e,m,h,u,M,P,l,x,d,j,f,g,r,a,o,n]=this.#i;if(this.#t[0]=r+d,this.#t[1]=a+j,this.#t[2]=o+f,this.#t[3]=n+g,this.#t[4]=r-d,this.#t[5]=a-j,this.#t[6]=o-f,this.#t[7]=n-g,this.#t[8]=r-M,this.#t[9]=a-P,this.#t[10]=o-l,this.#t[11]=n-x,this.#t[12]=r-e,this.#t[13]=a-m,this.#t[14]=o-h,this.#t[15]=n-u,this.#t[16]=r+M,this.#t[17]=a+P,this.#t[18]=o+l,this.#t[19]=n+x,this.#t[20]=r+e,this.#t[21]=a+m,this.#t[22]=o+h,this.#t[23]=n+u,!t)return this.#t;for(let p=0;p<6;++p){const i=p*4,c=Math.hypot(this.#t[i+0],this.#t[i+1],this.#t[i+2])||1;this.#t[i+0]/=c,this.#t[i+1]/=c,this.#t[i+2]/=c,this.#t[i+3]/=c}return this.#t}UpdateViewProjectionMatrix(){return s.inverse(this.LocalMatrix,this.#a),s.multiply(this.ProjectionMatrix,this.#a,this.#i),this.#n(),this.#i}UpdateProjectionMatrix(){const t=v.DegreesToRadians(this.#s);return s.perspective(t,this.#r,this.#e,this.#h,this.ProjectionMatrix)}LookAt(t,e=this.#o){return s.lookAt(this.Position,t,e,this.#a),s.multiply(this.ProjectionMatrix,this.#a,this.#i)}get ViewProjectionMatrix(){return this.#i}get Frustum(){return this.#t}set FieldOfView(t){this.#s=t,this.UpdateProjectionMatrix()}get FieldOfView(){return this.#s}set AspectRatio(t){this.#r=typeof t!="number"?t.AspectRatio:t,this.UpdateProjectionMatrix()}get AspectRatio(){return this.#r}set Near(t){this.#e=t,this.UpdateProjectionMatrix()}get Near(){return this.#e}set Far(t){this.#h=t,this.UpdateProjectionMatrix()}get Far(){return this.#h}}export{V as P};
