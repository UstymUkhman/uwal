var It=f=>{throw TypeError(f)};var yt=(f,x,O)=>x.has(f)||It("Cannot "+O);var I=(f,x,O)=>(yt(f,x,"read from private field"),O?O.call(f):x.get(f)),J=(f,x,O)=>x.has(f)?It("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(f):x.set(f,O),ln=(f,x,O,K)=>(yt(f,x,"write to private field"),K?K.call(f,O):x.set(f,O),O),nt=(f,x,O)=>(yt(f,x,"access private method"),O);import{C as Ut,T as Xt,E as Qt,N as Lt}from"./index-D9QQZyze.js";var cs="struct Shape{color: vec4f,matrix: mat3x3f};@group(0)@binding(0)var<uniform>resolution: vec2f;fn GetClipSpace(position: vec2f)->vec2f{let clipSpace=position/resolution*2-1;return clipSpace*vec2f(1,-1);}@group(0)@binding(1)var<uniform>shape: Shape;fn GetVertexClipSpace(position: vec2f)->vec4f{let matrixPosition=shape.matrix*vec3f(position,1);let clipSpace=GetClipSpace(matrixPosition.xy);return vec4f(clipSpace,0.0,1.0);}@vertex fn vertex(@location(0)position: vec2f)->@builtin(position)vec4f {return GetVertexClipSpace(position);}";function Wt(f,x){return class extends f{constructor(...O){super(...O),x(this)}}}const jt=Wt(Array,f=>f.fill(0));let _=1e-6;function Ht(f){function x(n=0,e=0){const t=new f(2);return n!==void 0&&(t[0]=n,e!==void 0&&(t[1]=e)),t}const O=x;function K(n,e,t){const s=t??new f(2);return s[0]=n,s[1]=e,s}function k(n,e){const t=e??new f(2);return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function b(n,e){const t=e??new f(2);return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function en(n,e){const t=e??new f(2);return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function C(n,e=0,t=1,s){const u=s??new f(2);return u[0]=Math.min(t,Math.max(e,n[0])),u[1]=Math.min(t,Math.max(e,n[1])),u}function Mn(n,e,t){const s=t??new f(2);return s[0]=n[0]+e[0],s[1]=n[1]+e[1],s}function An(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+e[0]*t,u[1]=n[1]+e[1]*t,u}function Dn(n,e){const t=n[0],s=n[1],u=e[0],D=e[1],z=Math.sqrt(t*t+s*s),c=Math.sqrt(u*u+D*D),r=z*c,h=r&&En(n,e)/r;return Math.acos(h)}function dn(n,e,t){const s=t??new f(2);return s[0]=n[0]-e[0],s[1]=n[1]-e[1],s}const Yn=dn;function on(n,e){return Math.abs(n[0]-e[0])<_&&Math.abs(n[1]-e[1])<_}function Fn(n,e){return n[0]===e[0]&&n[1]===e[1]}function qn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+t*(e[0]-n[0]),u[1]=n[1]+t*(e[1]-n[1]),u}function Bn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+t[0]*(e[0]-n[0]),u[1]=n[1]+t[1]*(e[1]-n[1]),u}function Zn(n,e,t){const s=t??new f(2);return s[0]=Math.max(n[0],e[0]),s[1]=Math.max(n[1],e[1]),s}function Sn(n,e,t){const s=t??new f(2);return s[0]=Math.min(n[0],e[0]),s[1]=Math.min(n[1],e[1]),s}function pn(n,e,t){const s=t??new f(2);return s[0]=n[0]*e,s[1]=n[1]*e,s}const _n=pn;function Pn(n,e,t){const s=t??new f(2);return s[0]=n[0]/e,s[1]=n[1]/e,s}function In(n,e){const t=e??new f(2);return t[0]=1/n[0],t[1]=1/n[1],t}const Gn=In;function Un(n,e,t){const s=t??new f(3),u=n[0]*e[1]-n[1]*e[0];return s[0]=0,s[1]=0,s[2]=u,s}function En(n,e){return n[0]*e[0]+n[1]*e[1]}function sn(n){const e=n[0],t=n[1];return Math.sqrt(e*e+t*t)}const Xn=sn;function j(n){const e=n[0],t=n[1];return e*e+t*t}const N=j;function Q(n,e){const t=n[0]-e[0],s=n[1]-e[1];return Math.sqrt(t*t+s*s)}const w=Q;function B(n,e){const t=n[0]-e[0],s=n[1]-e[1];return t*t+s*s}const p=B;function S(n,e){const t=e??new f(2),s=n[0],u=n[1],D=Math.sqrt(s*s+u*u);return D>1e-5?(t[0]=s/D,t[1]=u/D):(t[0]=0,t[1]=0),t}function $(n,e){const t=e??new f(2);return t[0]=-n[0],t[1]=-n[1],t}function U(n,e){const t=e??new f(2);return t[0]=n[0],t[1]=n[1],t}const Y=U;function Z(n,e,t){const s=t??new f(2);return s[0]=n[0]*e[0],s[1]=n[1]*e[1],s}const L=Z;function F(n,e,t){const s=t??new f(2);return s[0]=n[0]/e[0],s[1]=n[1]/e[1],s}const G=F;function H(n=1,e){const t=e??new f(2),s=Math.random()*2*Math.PI;return t[0]=Math.cos(s)*n,t[1]=Math.sin(s)*n,t}function d(n){const e=n??new f(2);return e[0]=0,e[1]=0,e}function q(n,e,t){const s=t??new f(2),u=n[0],D=n[1];return s[0]=u*e[0]+D*e[4]+e[12],s[1]=u*e[1]+D*e[5]+e[13],s}function o(n,e,t){const s=t??new f(2),u=n[0],D=n[1];return s[0]=e[0]*u+e[4]*D+e[8],s[1]=e[1]*u+e[5]*D+e[9],s}function i(n,e,t,s){const u=s??new f(2),D=n[0]-e[0],z=n[1]-e[1],c=Math.sin(t),r=Math.cos(t);return u[0]=D*r-z*c+e[0],u[1]=D*c+z*r+e[1],u}function a(n,e,t){const s=t??new f(2);return S(n,s),pn(s,e,s)}function M(n,e,t){const s=t??new f(2);return sn(n)>e?a(n,e,s):U(n,s)}function P(n,e,t){const s=t??new f(2);return qn(n,e,.5,s)}return{create:x,fromValues:O,set:K,ceil:k,floor:b,round:en,clamp:C,add:Mn,addScaled:An,angle:Dn,subtract:dn,sub:Yn,equalsApproximately:on,equals:Fn,lerp:qn,lerpV:Bn,max:Zn,min:Sn,mulScalar:pn,scale:_n,divScalar:Pn,inverse:In,invert:Gn,cross:Un,dot:En,length:sn,len:Xn,lengthSq:j,lenSq:N,distance:Q,dist:w,distanceSq:B,distSq:p,normalize:S,negate:$,copy:U,clone:Y,multiply:Z,mul:L,divide:F,div:G,random:H,zero:d,transformMat4:q,transformMat3:o,rotate:i,setLength:a,truncate:M,midpoint:P}}const Et=new Map;function Ot(f){let x=Et.get(f);return x||(x=Ht(f),Et.set(f,x)),x}function Nt(f){const x=Ot(f);function O(w,B,p,S,$,U,Y,Z,L){const F=new f(12);return F[3]=0,F[7]=0,F[11]=0,w!==void 0&&(F[0]=w,B!==void 0&&(F[1]=B,p!==void 0&&(F[2]=p,S!==void 0&&(F[4]=S,$!==void 0&&(F[5]=$,U!==void 0&&(F[6]=U,Y!==void 0&&(F[8]=Y,Z!==void 0&&(F[9]=Z,L!==void 0&&(F[10]=L))))))))),F}function K(w,B,p,S,$,U,Y,Z,L,F){const G=F??new f(12);return G[0]=w,G[1]=B,G[2]=p,G[3]=0,G[4]=S,G[5]=$,G[6]=U,G[7]=0,G[8]=Y,G[9]=Z,G[10]=L,G[11]=0,G}function k(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[3]=0,p[4]=w[4],p[5]=w[5],p[6]=w[6],p[7]=0,p[8]=w[8],p[9]=w[9],p[10]=w[10],p[11]=0,p}function b(w,B){const p=B??new f(12),S=w[0],$=w[1],U=w[2],Y=w[3],Z=S+S,L=$+$,F=U+U,G=S*Z,H=$*Z,d=$*L,q=U*Z,o=U*L,i=U*F,a=Y*Z,M=Y*L,P=Y*F;return p[0]=1-d-i,p[1]=H+P,p[2]=q-M,p[3]=0,p[4]=H-P,p[5]=1-G-i,p[6]=o+a,p[7]=0,p[8]=q+M,p[9]=o-a,p[10]=1-G-d,p[11]=0,p}function en(w,B){const p=B??new f(12);return p[0]=-w[0],p[1]=-w[1],p[2]=-w[2],p[4]=-w[4],p[5]=-w[5],p[6]=-w[6],p[8]=-w[8],p[9]=-w[9],p[10]=-w[10],p}function C(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[4]=w[4],p[5]=w[5],p[6]=w[6],p[8]=w[8],p[9]=w[9],p[10]=w[10],p}const Mn=C;function An(w,B){return Math.abs(w[0]-B[0])<_&&Math.abs(w[1]-B[1])<_&&Math.abs(w[2]-B[2])<_&&Math.abs(w[4]-B[4])<_&&Math.abs(w[5]-B[5])<_&&Math.abs(w[6]-B[6])<_&&Math.abs(w[8]-B[8])<_&&Math.abs(w[9]-B[9])<_&&Math.abs(w[10]-B[10])<_}function Dn(w,B){return w[0]===B[0]&&w[1]===B[1]&&w[2]===B[2]&&w[4]===B[4]&&w[5]===B[5]&&w[6]===B[6]&&w[8]===B[8]&&w[9]===B[9]&&w[10]===B[10]}function dn(w){const B=w??new f(12);return B[0]=1,B[1]=0,B[2]=0,B[4]=0,B[5]=1,B[6]=0,B[8]=0,B[9]=0,B[10]=1,B}function Yn(w,B){const p=B??new f(12);if(p===w){let d;return d=w[1],w[1]=w[4],w[4]=d,d=w[2],w[2]=w[8],w[8]=d,d=w[6],w[6]=w[9],w[9]=d,p}const S=w[0*4+0],$=w[0*4+1],U=w[0*4+2],Y=w[1*4+0],Z=w[1*4+1],L=w[1*4+2],F=w[2*4+0],G=w[2*4+1],H=w[2*4+2];return p[0]=S,p[1]=Y,p[2]=F,p[4]=$,p[5]=Z,p[6]=G,p[8]=U,p[9]=L,p[10]=H,p}function on(w,B){const p=B??new f(12),S=w[0*4+0],$=w[0*4+1],U=w[0*4+2],Y=w[1*4+0],Z=w[1*4+1],L=w[1*4+2],F=w[2*4+0],G=w[2*4+1],H=w[2*4+2],d=H*Z-L*G,q=-H*Y+L*F,o=G*Y-Z*F,i=1/(S*d+$*q+U*o);return p[0]=d*i,p[1]=(-H*$+U*G)*i,p[2]=(L*$-U*Z)*i,p[4]=q*i,p[5]=(H*S-U*F)*i,p[6]=(-L*S+U*Y)*i,p[8]=o*i,p[9]=(-G*S+$*F)*i,p[10]=(Z*S-$*Y)*i,p}function Fn(w){const B=w[0],p=w[0*4+1],S=w[0*4+2],$=w[1*4+0],U=w[1*4+1],Y=w[1*4+2],Z=w[2*4+0],L=w[2*4+1],F=w[2*4+2];return B*(U*F-L*Y)-$*(p*F-L*S)+Z*(p*Y-U*S)}const qn=on;function Bn(w,B,p){const S=p??new f(12),$=w[0],U=w[1],Y=w[2],Z=w[4],L=w[5],F=w[6],G=w[8],H=w[9],d=w[10],q=B[0],o=B[1],i=B[2],a=B[4],M=B[5],P=B[6],n=B[8],e=B[9],t=B[10];return S[0]=$*q+Z*o+G*i,S[1]=U*q+L*o+H*i,S[2]=Y*q+F*o+d*i,S[4]=$*a+Z*M+G*P,S[5]=U*a+L*M+H*P,S[6]=Y*a+F*M+d*P,S[8]=$*n+Z*e+G*t,S[9]=U*n+L*e+H*t,S[10]=Y*n+F*e+d*t,S}const Zn=Bn;function Sn(w,B,p){const S=p??dn();return w!==S&&(S[0]=w[0],S[1]=w[1],S[2]=w[2],S[4]=w[4],S[5]=w[5],S[6]=w[6]),S[8]=B[0],S[9]=B[1],S[10]=1,S}function pn(w,B){const p=B??x.create();return p[0]=w[8],p[1]=w[9],p}function _n(w,B,p){const S=p??x.create(),$=B*4;return S[0]=w[$+0],S[1]=w[$+1],S}function Pn(w,B,p,S){const $=S===w?w:C(w,S),U=p*4;return $[U+0]=B[0],$[U+1]=B[1],$}function In(w,B){const p=B??x.create(),S=w[0],$=w[1],U=w[4],Y=w[5];return p[0]=Math.sqrt(S*S+$*$),p[1]=Math.sqrt(U*U+Y*Y),p}function Gn(w,B){const p=B??new f(12);return p[0]=1,p[1]=0,p[2]=0,p[4]=0,p[5]=1,p[6]=0,p[8]=w[0],p[9]=w[1],p[10]=1,p}function Un(w,B,p){const S=p??new f(12),$=B[0],U=B[1],Y=w[0],Z=w[1],L=w[2],F=w[1*4+0],G=w[1*4+1],H=w[1*4+2],d=w[2*4+0],q=w[2*4+1],o=w[2*4+2];return w!==S&&(S[0]=Y,S[1]=Z,S[2]=L,S[4]=F,S[5]=G,S[6]=H),S[8]=Y*$+F*U+d,S[9]=Z*$+G*U+q,S[10]=L*$+H*U+o,S}function En(w,B){const p=B??new f(12),S=Math.cos(w),$=Math.sin(w);return p[0]=S,p[1]=$,p[2]=0,p[4]=-$,p[5]=S,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function sn(w,B,p){const S=p??new f(12),$=w[0*4+0],U=w[0*4+1],Y=w[0*4+2],Z=w[1*4+0],L=w[1*4+1],F=w[1*4+2],G=Math.cos(B),H=Math.sin(B);return S[0]=G*$+H*Z,S[1]=G*U+H*L,S[2]=G*Y+H*F,S[4]=G*Z-H*$,S[5]=G*L-H*U,S[6]=G*F-H*Y,w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function Xn(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=0,p[2]=0,p[4]=0,p[5]=w[1],p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function j(w,B,p){const S=p??new f(12),$=B[0],U=B[1];return S[0]=$*w[0*4+0],S[1]=$*w[0*4+1],S[2]=$*w[0*4+2],S[4]=U*w[1*4+0],S[5]=U*w[1*4+1],S[6]=U*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function N(w,B){const p=B??new f(12);return p[0]=w,p[1]=0,p[2]=0,p[4]=0,p[5]=w,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function Q(w,B,p){const S=p??new f(12);return S[0]=B*w[0*4+0],S[1]=B*w[0*4+1],S[2]=B*w[0*4+2],S[4]=B*w[1*4+0],S[5]=B*w[1*4+1],S[6]=B*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}return{clone:Mn,create:O,set:K,fromMat4:k,fromQuat:b,negate:en,copy:C,equalsApproximately:An,equals:Dn,identity:dn,transpose:Yn,inverse:on,invert:qn,determinant:Fn,mul:Zn,multiply:Bn,setTranslation:Sn,getTranslation:pn,getAxis:_n,setAxis:Pn,getScaling:In,translation:Gn,translate:Un,rotation:En,rotate:sn,scaling:Xn,scale:j,uniformScaling:N,uniformScale:Q}}const Vt=new Map;function Jt(f){let x=Vt.get(f);return x||(x=Nt(f),Vt.set(f,x)),x}function Kt(f){function x(c,r,h){const l=new f(3);return c!==void 0&&(l[0]=c,r!==void 0&&(l[1]=r,h!==void 0&&(l[2]=h))),l}const O=x;function K(c,r,h,l){const y=l??new f(3);return y[0]=c,y[1]=r,y[2]=h,y}function k(c,r){const h=r??new f(3);return h[0]=Math.ceil(c[0]),h[1]=Math.ceil(c[1]),h[2]=Math.ceil(c[2]),h}function b(c,r){const h=r??new f(3);return h[0]=Math.floor(c[0]),h[1]=Math.floor(c[1]),h[2]=Math.floor(c[2]),h}function en(c,r){const h=r??new f(3);return h[0]=Math.round(c[0]),h[1]=Math.round(c[1]),h[2]=Math.round(c[2]),h}function C(c,r=0,h=1,l){const y=l??new f(3);return y[0]=Math.min(h,Math.max(r,c[0])),y[1]=Math.min(h,Math.max(r,c[1])),y[2]=Math.min(h,Math.max(r,c[2])),y}function Mn(c,r,h){const l=h??new f(3);return l[0]=c[0]+r[0],l[1]=c[1]+r[1],l[2]=c[2]+r[2],l}function An(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+r[0]*h,y[1]=c[1]+r[1]*h,y[2]=c[2]+r[2]*h,y}function Dn(c,r){const h=c[0],l=c[1],y=c[2],g=r[0],A=r[1],T=r[2],R=Math.sqrt(h*h+l*l+y*y),E=Math.sqrt(g*g+A*A+T*T),V=R*E,X=V&&En(c,r)/V;return Math.acos(X)}function dn(c,r,h){const l=h??new f(3);return l[0]=c[0]-r[0],l[1]=c[1]-r[1],l[2]=c[2]-r[2],l}const Yn=dn;function on(c,r){return Math.abs(c[0]-r[0])<_&&Math.abs(c[1]-r[1])<_&&Math.abs(c[2]-r[2])<_}function Fn(c,r){return c[0]===r[0]&&c[1]===r[1]&&c[2]===r[2]}function qn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+h*(r[0]-c[0]),y[1]=c[1]+h*(r[1]-c[1]),y[2]=c[2]+h*(r[2]-c[2]),y}function Bn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+h[0]*(r[0]-c[0]),y[1]=c[1]+h[1]*(r[1]-c[1]),y[2]=c[2]+h[2]*(r[2]-c[2]),y}function Zn(c,r,h){const l=h??new f(3);return l[0]=Math.max(c[0],r[0]),l[1]=Math.max(c[1],r[1]),l[2]=Math.max(c[2],r[2]),l}function Sn(c,r,h){const l=h??new f(3);return l[0]=Math.min(c[0],r[0]),l[1]=Math.min(c[1],r[1]),l[2]=Math.min(c[2],r[2]),l}function pn(c,r,h){const l=h??new f(3);return l[0]=c[0]*r,l[1]=c[1]*r,l[2]=c[2]*r,l}const _n=pn;function Pn(c,r,h){const l=h??new f(3);return l[0]=c[0]/r,l[1]=c[1]/r,l[2]=c[2]/r,l}function In(c,r){const h=r??new f(3);return h[0]=1/c[0],h[1]=1/c[1],h[2]=1/c[2],h}const Gn=In;function Un(c,r,h){const l=h??new f(3),y=c[2]*r[0]-c[0]*r[2],g=c[0]*r[1]-c[1]*r[0];return l[0]=c[1]*r[2]-c[2]*r[1],l[1]=y,l[2]=g,l}function En(c,r){return c[0]*r[0]+c[1]*r[1]+c[2]*r[2]}function sn(c){const r=c[0],h=c[1],l=c[2];return Math.sqrt(r*r+h*h+l*l)}const Xn=sn;function j(c){const r=c[0],h=c[1],l=c[2];return r*r+h*h+l*l}const N=j;function Q(c,r){const h=c[0]-r[0],l=c[1]-r[1],y=c[2]-r[2];return Math.sqrt(h*h+l*l+y*y)}const w=Q;function B(c,r){const h=c[0]-r[0],l=c[1]-r[1],y=c[2]-r[2];return h*h+l*l+y*y}const p=B;function S(c,r){const h=r??new f(3),l=c[0],y=c[1],g=c[2],A=Math.sqrt(l*l+y*y+g*g);return A>1e-5?(h[0]=l/A,h[1]=y/A,h[2]=g/A):(h[0]=0,h[1]=0,h[2]=0),h}function $(c,r){const h=r??new f(3);return h[0]=-c[0],h[1]=-c[1],h[2]=-c[2],h}function U(c,r){const h=r??new f(3);return h[0]=c[0],h[1]=c[1],h[2]=c[2],h}const Y=U;function Z(c,r,h){const l=h??new f(3);return l[0]=c[0]*r[0],l[1]=c[1]*r[1],l[2]=c[2]*r[2],l}const L=Z;function F(c,r,h){const l=h??new f(3);return l[0]=c[0]/r[0],l[1]=c[1]/r[1],l[2]=c[2]/r[2],l}const G=F;function H(c=1,r){const h=r??new f(3),l=Math.random()*2*Math.PI,y=Math.random()*2-1,g=Math.sqrt(1-y*y)*c;return h[0]=Math.cos(l)*g,h[1]=Math.sin(l)*g,h[2]=y*c,h}function d(c){const r=c??new f(3);return r[0]=0,r[1]=0,r[2]=0,r}function q(c,r,h){const l=h??new f(3),y=c[0],g=c[1],A=c[2],T=r[3]*y+r[7]*g+r[11]*A+r[15]||1;return l[0]=(r[0]*y+r[4]*g+r[8]*A+r[12])/T,l[1]=(r[1]*y+r[5]*g+r[9]*A+r[13])/T,l[2]=(r[2]*y+r[6]*g+r[10]*A+r[14])/T,l}function o(c,r,h){const l=h??new f(3),y=c[0],g=c[1],A=c[2];return l[0]=y*r[0*4+0]+g*r[1*4+0]+A*r[2*4+0],l[1]=y*r[0*4+1]+g*r[1*4+1]+A*r[2*4+1],l[2]=y*r[0*4+2]+g*r[1*4+2]+A*r[2*4+2],l}function i(c,r,h){const l=h??new f(3),y=c[0],g=c[1],A=c[2];return l[0]=y*r[0]+g*r[4]+A*r[8],l[1]=y*r[1]+g*r[5]+A*r[9],l[2]=y*r[2]+g*r[6]+A*r[10],l}function a(c,r,h){const l=h??new f(3),y=r[0],g=r[1],A=r[2],T=r[3]*2,R=c[0],E=c[1],V=c[2],X=g*V-A*E,W=A*R-y*V,v=y*E-g*R;return l[0]=R+X*T+(g*v-A*W)*2,l[1]=E+W*T+(A*X-y*v)*2,l[2]=V+v*T+(y*W-g*X)*2,l}function M(c,r){const h=r??new f(3);return h[0]=c[12],h[1]=c[13],h[2]=c[14],h}function P(c,r,h){const l=h??new f(3),y=r*4;return l[0]=c[y+0],l[1]=c[y+1],l[2]=c[y+2],l}function n(c,r){const h=r??new f(3),l=c[0],y=c[1],g=c[2],A=c[4],T=c[5],R=c[6],E=c[8],V=c[9],X=c[10];return h[0]=Math.sqrt(l*l+y*y+g*g),h[1]=Math.sqrt(A*A+T*T+R*R),h[2]=Math.sqrt(E*E+V*V+X*X),h}function e(c,r,h,l){const y=l??new f(3),g=[],A=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],A[0]=g[0],A[1]=g[1]*Math.cos(h)-g[2]*Math.sin(h),A[2]=g[1]*Math.sin(h)+g[2]*Math.cos(h),y[0]=A[0]+r[0],y[1]=A[1]+r[1],y[2]=A[2]+r[2],y}function t(c,r,h,l){const y=l??new f(3),g=[],A=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],A[0]=g[2]*Math.sin(h)+g[0]*Math.cos(h),A[1]=g[1],A[2]=g[2]*Math.cos(h)-g[0]*Math.sin(h),y[0]=A[0]+r[0],y[1]=A[1]+r[1],y[2]=A[2]+r[2],y}function s(c,r,h,l){const y=l??new f(3),g=[],A=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],A[0]=g[0]*Math.cos(h)-g[1]*Math.sin(h),A[1]=g[0]*Math.sin(h)+g[1]*Math.cos(h),A[2]=g[2],y[0]=A[0]+r[0],y[1]=A[1]+r[1],y[2]=A[2]+r[2],y}function u(c,r,h){const l=h??new f(3);return S(c,l),pn(l,r,l)}function D(c,r,h){const l=h??new f(3);return sn(c)>r?u(c,r,l):U(c,l)}function z(c,r,h){const l=h??new f(3);return qn(c,r,.5,l)}return{create:x,fromValues:O,set:K,ceil:k,floor:b,round:en,clamp:C,add:Mn,addScaled:An,angle:Dn,subtract:dn,sub:Yn,equalsApproximately:on,equals:Fn,lerp:qn,lerpV:Bn,max:Zn,min:Sn,mulScalar:pn,scale:_n,divScalar:Pn,inverse:In,invert:Gn,cross:Un,dot:En,length:sn,len:Xn,lengthSq:j,lenSq:N,distance:Q,dist:w,distanceSq:B,distSq:p,normalize:S,negate:$,copy:U,clone:Y,multiply:Z,mul:L,divide:F,div:G,random:H,zero:d,transformMat4:q,transformMat4Upper3x3:o,transformMat3:i,transformQuat:a,getTranslation:M,getAxis:P,getScaling:n,rotateX:e,rotateY:t,rotateZ:s,setLength:u,truncate:D,midpoint:z}}const $t=new Map;function zt(f){let x=$t.get(f);return x||(x=Kt(f),$t.set(f,x)),x}function kt(f){const x=zt(f);function O(n,e,t,s,u,D,z,c,r,h,l,y,g,A,T,R){const E=new f(16);return n!==void 0&&(E[0]=n,e!==void 0&&(E[1]=e,t!==void 0&&(E[2]=t,s!==void 0&&(E[3]=s,u!==void 0&&(E[4]=u,D!==void 0&&(E[5]=D,z!==void 0&&(E[6]=z,c!==void 0&&(E[7]=c,r!==void 0&&(E[8]=r,h!==void 0&&(E[9]=h,l!==void 0&&(E[10]=l,y!==void 0&&(E[11]=y,g!==void 0&&(E[12]=g,A!==void 0&&(E[13]=A,T!==void 0&&(E[14]=T,R!==void 0&&(E[15]=R)))))))))))))))),E}function K(n,e,t,s,u,D,z,c,r,h,l,y,g,A,T,R,E){const V=E??new f(16);return V[0]=n,V[1]=e,V[2]=t,V[3]=s,V[4]=u,V[5]=D,V[6]=z,V[7]=c,V[8]=r,V[9]=h,V[10]=l,V[11]=y,V[12]=g,V[13]=A,V[14]=T,V[15]=R,V}function k(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=0,t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(n,e){const t=e??new f(16),s=n[0],u=n[1],D=n[2],z=n[3],c=s+s,r=u+u,h=D+D,l=s*c,y=u*c,g=u*r,A=D*c,T=D*r,R=D*h,E=z*c,V=z*r,X=z*h;return t[0]=1-g-R,t[1]=y+X,t[2]=A-V,t[3]=0,t[4]=y-X,t[5]=1-l-R,t[6]=T+E,t[7]=0,t[8]=A+V,t[9]=T-E,t[10]=1-l-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function en(n,e){const t=e??new f(16);return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t}function C(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}const Mn=C;function An(n,e){return Math.abs(n[0]-e[0])<_&&Math.abs(n[1]-e[1])<_&&Math.abs(n[2]-e[2])<_&&Math.abs(n[3]-e[3])<_&&Math.abs(n[4]-e[4])<_&&Math.abs(n[5]-e[5])<_&&Math.abs(n[6]-e[6])<_&&Math.abs(n[7]-e[7])<_&&Math.abs(n[8]-e[8])<_&&Math.abs(n[9]-e[9])<_&&Math.abs(n[10]-e[10])<_&&Math.abs(n[11]-e[11])<_&&Math.abs(n[12]-e[12])<_&&Math.abs(n[13]-e[13])<_&&Math.abs(n[14]-e[14])<_&&Math.abs(n[15]-e[15])<_}function Dn(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]}function dn(n){const e=n??new f(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Yn(n,e){const t=e??new f(16);if(t===n){let W;return W=n[1],n[1]=n[4],n[4]=W,W=n[2],n[2]=n[8],n[8]=W,W=n[3],n[3]=n[12],n[12]=W,W=n[6],n[6]=n[9],n[9]=W,W=n[7],n[7]=n[13],n[13]=W,W=n[11],n[11]=n[14],n[14]=W,t}const s=n[0*4+0],u=n[0*4+1],D=n[0*4+2],z=n[0*4+3],c=n[1*4+0],r=n[1*4+1],h=n[1*4+2],l=n[1*4+3],y=n[2*4+0],g=n[2*4+1],A=n[2*4+2],T=n[2*4+3],R=n[3*4+0],E=n[3*4+1],V=n[3*4+2],X=n[3*4+3];return t[0]=s,t[1]=c,t[2]=y,t[3]=R,t[4]=u,t[5]=r,t[6]=g,t[7]=E,t[8]=D,t[9]=h,t[10]=A,t[11]=V,t[12]=z,t[13]=l,t[14]=T,t[15]=X,t}function on(n,e){const t=e??new f(16),s=n[0*4+0],u=n[0*4+1],D=n[0*4+2],z=n[0*4+3],c=n[1*4+0],r=n[1*4+1],h=n[1*4+2],l=n[1*4+3],y=n[2*4+0],g=n[2*4+1],A=n[2*4+2],T=n[2*4+3],R=n[3*4+0],E=n[3*4+1],V=n[3*4+2],X=n[3*4+3],W=A*X,v=V*T,nn=h*X,tn=V*l,cn=h*T,rn=A*l,un=D*X,fn=V*z,an=D*T,wn=A*z,xn=D*l,yn=h*z,gn=y*E,zn=R*g,Vn=c*E,$n=R*r,Tn=c*g,ht=y*r,lt=s*E,Mt=R*u,Dt=s*g,dt=y*u,pt=s*r,xt=c*u,St=W*r+tn*g+cn*E-(v*r+nn*g+rn*E),qt=v*u+un*g+wn*E-(W*u+fn*g+an*E),Bt=nn*u+fn*r+xn*E-(tn*u+un*r+yn*E),Pt=rn*u+an*r+yn*g-(cn*u+wn*r+xn*g),hn=1/(s*St+c*qt+y*Bt+R*Pt);return t[0]=hn*St,t[1]=hn*qt,t[2]=hn*Bt,t[3]=hn*Pt,t[4]=hn*(v*c+nn*y+rn*R-(W*c+tn*y+cn*R)),t[5]=hn*(W*s+fn*y+an*R-(v*s+un*y+wn*R)),t[6]=hn*(tn*s+un*c+yn*R-(nn*s+fn*c+xn*R)),t[7]=hn*(cn*s+wn*c+xn*y-(rn*s+an*c+yn*y)),t[8]=hn*(gn*l+$n*T+Tn*X-(zn*l+Vn*T+ht*X)),t[9]=hn*(zn*z+lt*T+dt*X-(gn*z+Mt*T+Dt*X)),t[10]=hn*(Vn*z+Mt*l+pt*X-($n*z+lt*l+xt*X)),t[11]=hn*(ht*z+Dt*l+xt*T-(Tn*z+dt*l+pt*T)),t[12]=hn*(Vn*A+ht*V+zn*h-(Tn*V+gn*h+$n*A)),t[13]=hn*(Dt*V+gn*D+Mt*A-(lt*A+dt*V+zn*D)),t[14]=hn*(lt*h+xt*V+$n*D-(pt*V+Vn*D+Mt*h)),t[15]=hn*(pt*A+Tn*D+dt*h-(Dt*h+xt*A+ht*D)),t}function Fn(n){const e=n[0],t=n[0*4+1],s=n[0*4+2],u=n[0*4+3],D=n[1*4+0],z=n[1*4+1],c=n[1*4+2],r=n[1*4+3],h=n[2*4+0],l=n[2*4+1],y=n[2*4+2],g=n[2*4+3],A=n[3*4+0],T=n[3*4+1],R=n[3*4+2],E=n[3*4+3],V=y*E,X=R*g,W=c*E,v=R*r,nn=c*g,tn=y*r,cn=s*E,rn=R*u,un=s*g,fn=y*u,an=s*r,wn=c*u,xn=V*z+v*l+nn*T-(X*z+W*l+tn*T),yn=X*t+cn*l+fn*T-(V*t+rn*l+un*T),gn=W*t+rn*z+an*T-(v*t+cn*z+wn*T),zn=tn*t+un*z+wn*l-(nn*t+fn*z+an*l);return e*xn+D*yn+h*gn+A*zn}const qn=on;function Bn(n,e,t){const s=t??new f(16),u=n[0],D=n[1],z=n[2],c=n[3],r=n[4],h=n[5],l=n[6],y=n[7],g=n[8],A=n[9],T=n[10],R=n[11],E=n[12],V=n[13],X=n[14],W=n[15],v=e[0],nn=e[1],tn=e[2],cn=e[3],rn=e[4],un=e[5],fn=e[6],an=e[7],wn=e[8],xn=e[9],yn=e[10],gn=e[11],zn=e[12],Vn=e[13],$n=e[14],Tn=e[15];return s[0]=u*v+r*nn+g*tn+E*cn,s[1]=D*v+h*nn+A*tn+V*cn,s[2]=z*v+l*nn+T*tn+X*cn,s[3]=c*v+y*nn+R*tn+W*cn,s[4]=u*rn+r*un+g*fn+E*an,s[5]=D*rn+h*un+A*fn+V*an,s[6]=z*rn+l*un+T*fn+X*an,s[7]=c*rn+y*un+R*fn+W*an,s[8]=u*wn+r*xn+g*yn+E*gn,s[9]=D*wn+h*xn+A*yn+V*gn,s[10]=z*wn+l*xn+T*yn+X*gn,s[11]=c*wn+y*xn+R*yn+W*gn,s[12]=u*zn+r*Vn+g*$n+E*Tn,s[13]=D*zn+h*Vn+A*$n+V*Tn,s[14]=z*zn+l*Vn+T*$n+X*Tn,s[15]=c*zn+y*Vn+R*$n+W*Tn,s}const Zn=Bn;function Sn(n,e,t){const s=t??dn();return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11]),s[12]=e[0],s[13]=e[1],s[14]=e[2],s[15]=1,s}function pn(n,e){const t=e??x.create();return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function _n(n,e,t){const s=t??x.create(),u=e*4;return s[0]=n[u+0],s[1]=n[u+1],s[2]=n[u+2],s}function Pn(n,e,t,s){const u=s===n?s:C(n,s),D=t*4;return u[D+0]=e[0],u[D+1]=e[1],u[D+2]=e[2],u}function In(n,e){const t=e??x.create(),s=n[0],u=n[1],D=n[2],z=n[4],c=n[5],r=n[6],h=n[8],l=n[9],y=n[10];return t[0]=Math.sqrt(s*s+u*u+D*D),t[1]=Math.sqrt(z*z+c*c+r*r),t[2]=Math.sqrt(h*h+l*l+y*y),t}function Gn(n,e,t,s,u){const D=u??new f(16),z=Math.tan(Math.PI*.5-.5*n);if(D[0]=z/e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=z,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,Number.isFinite(s)){const c=1/(t-s);D[10]=s*c,D[14]=s*t*c}else D[10]=-1,D[14]=-t;return D}function Un(n,e,t,s=1/0,u){const D=u??new f(16),z=1/Math.tan(n*.5);if(D[0]=z/e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=z,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,s===1/0)D[10]=0,D[14]=t;else{const c=1/(s-t);D[10]=t*c,D[14]=s*t*c}return D}function En(n,e,t,s,u,D,z){const c=z??new f(16);return c[0]=2/(e-n),c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2/(s-t),c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1/(u-D),c[11]=0,c[12]=(e+n)/(n-e),c[13]=(s+t)/(t-s),c[14]=u/(u-D),c[15]=1,c}function sn(n,e,t,s,u,D,z){const c=z??new f(16),r=e-n,h=s-t,l=u-D;return c[0]=2*u/r,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*u/h,c[6]=0,c[7]=0,c[8]=(n+e)/r,c[9]=(s+t)/h,c[10]=D/l,c[11]=-1,c[12]=0,c[13]=0,c[14]=u*D/l,c[15]=0,c}function Xn(n,e,t,s,u,D=1/0,z){const c=z??new f(16),r=e-n,h=s-t;if(c[0]=2*u/r,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*u/h,c[6]=0,c[7]=0,c[8]=(n+e)/r,c[9]=(s+t)/h,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,D===1/0)c[10]=0,c[14]=u;else{const l=1/(D-u);c[10]=u*l,c[14]=D*u*l}return c}const j=x.create(),N=x.create(),Q=x.create();function w(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(e,n,Q),Q),x.normalize(x.cross(t,Q,j),j),x.normalize(x.cross(Q,j,N),N),u[0]=j[0],u[1]=j[1],u[2]=j[2],u[3]=0,u[4]=N[0],u[5]=N[1],u[6]=N[2],u[7]=0,u[8]=Q[0],u[9]=Q[1],u[10]=Q[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function B(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(n,e,Q),Q),x.normalize(x.cross(t,Q,j),j),x.normalize(x.cross(Q,j,N),N),u[0]=j[0],u[1]=j[1],u[2]=j[2],u[3]=0,u[4]=N[0],u[5]=N[1],u[6]=N[2],u[7]=0,u[8]=Q[0],u[9]=Q[1],u[10]=Q[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function p(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(n,e,Q),Q),x.normalize(x.cross(t,Q,j),j),x.normalize(x.cross(Q,j,N),N),u[0]=j[0],u[1]=N[0],u[2]=Q[0],u[3]=0,u[4]=j[1],u[5]=N[1],u[6]=Q[1],u[7]=0,u[8]=j[2],u[9]=N[2],u[10]=Q[2],u[11]=0,u[12]=-(j[0]*n[0]+j[1]*n[1]+j[2]*n[2]),u[13]=-(N[0]*n[0]+N[1]*n[1]+N[2]*n[2]),u[14]=-(Q[0]*n[0]+Q[1]*n[1]+Q[2]*n[2]),u[15]=1,u}function S(n,e){const t=e??new f(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function $(n,e,t){const s=t??new f(16),u=e[0],D=e[1],z=e[2],c=n[0],r=n[1],h=n[2],l=n[3],y=n[1*4+0],g=n[1*4+1],A=n[1*4+2],T=n[1*4+3],R=n[2*4+0],E=n[2*4+1],V=n[2*4+2],X=n[2*4+3],W=n[3*4+0],v=n[3*4+1],nn=n[3*4+2],tn=n[3*4+3];return n!==s&&(s[0]=c,s[1]=r,s[2]=h,s[3]=l,s[4]=y,s[5]=g,s[6]=A,s[7]=T,s[8]=R,s[9]=E,s[10]=V,s[11]=X),s[12]=c*u+y*D+R*z+W,s[13]=r*u+g*D+E*z+v,s[14]=h*u+A*D+V*z+nn,s[15]=l*u+T*D+X*z+tn,s}function U(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=u,t[7]=0,t[8]=0,t[9]=-u,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Y(n,e,t){const s=t??new f(16),u=n[4],D=n[5],z=n[6],c=n[7],r=n[8],h=n[9],l=n[10],y=n[11],g=Math.cos(e),A=Math.sin(e);return s[4]=g*u+A*r,s[5]=g*D+A*h,s[6]=g*z+A*l,s[7]=g*c+A*y,s[8]=g*r-A*u,s[9]=g*h-A*D,s[10]=g*l-A*z,s[11]=g*y-A*c,n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function Z(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=s,t[1]=0,t[2]=-u,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=u,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(n,e,t){const s=t??new f(16),u=n[0*4+0],D=n[0*4+1],z=n[0*4+2],c=n[0*4+3],r=n[2*4+0],h=n[2*4+1],l=n[2*4+2],y=n[2*4+3],g=Math.cos(e),A=Math.sin(e);return s[0]=g*u-A*r,s[1]=g*D-A*h,s[2]=g*z-A*l,s[3]=g*c-A*y,s[8]=g*r+A*u,s[9]=g*h+A*D,s[10]=g*l+A*z,s[11]=g*y+A*c,n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function F(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=s,t[1]=u,t[2]=0,t[3]=0,t[4]=-u,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G(n,e,t){const s=t??new f(16),u=n[0*4+0],D=n[0*4+1],z=n[0*4+2],c=n[0*4+3],r=n[1*4+0],h=n[1*4+1],l=n[1*4+2],y=n[1*4+3],g=Math.cos(e),A=Math.sin(e);return s[0]=g*u+A*r,s[1]=g*D+A*h,s[2]=g*z+A*l,s[3]=g*c+A*y,s[4]=g*r-A*u,s[5]=g*h-A*D,s[6]=g*l-A*z,s[7]=g*y-A*c,n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function H(n,e,t){const s=t??new f(16);let u=n[0],D=n[1],z=n[2];const c=Math.sqrt(u*u+D*D+z*z);u/=c,D/=c,z/=c;const r=u*u,h=D*D,l=z*z,y=Math.cos(e),g=Math.sin(e),A=1-y;return s[0]=r+(1-r)*y,s[1]=u*D*A+z*g,s[2]=u*z*A-D*g,s[3]=0,s[4]=u*D*A-z*g,s[5]=h+(1-h)*y,s[6]=D*z*A+u*g,s[7]=0,s[8]=u*z*A+D*g,s[9]=D*z*A-u*g,s[10]=l+(1-l)*y,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}const d=H;function q(n,e,t,s){const u=s??new f(16);let D=e[0],z=e[1],c=e[2];const r=Math.sqrt(D*D+z*z+c*c);D/=r,z/=r,c/=r;const h=D*D,l=z*z,y=c*c,g=Math.cos(t),A=Math.sin(t),T=1-g,R=h+(1-h)*g,E=D*z*T+c*A,V=D*c*T-z*A,X=D*z*T-c*A,W=l+(1-l)*g,v=z*c*T+D*A,nn=D*c*T+z*A,tn=z*c*T-D*A,cn=y+(1-y)*g,rn=n[0],un=n[1],fn=n[2],an=n[3],wn=n[4],xn=n[5],yn=n[6],gn=n[7],zn=n[8],Vn=n[9],$n=n[10],Tn=n[11];return u[0]=R*rn+E*wn+V*zn,u[1]=R*un+E*xn+V*Vn,u[2]=R*fn+E*yn+V*$n,u[3]=R*an+E*gn+V*Tn,u[4]=X*rn+W*wn+v*zn,u[5]=X*un+W*xn+v*Vn,u[6]=X*fn+W*yn+v*$n,u[7]=X*an+W*gn+v*Tn,u[8]=nn*rn+tn*wn+cn*zn,u[9]=nn*un+tn*xn+cn*Vn,u[10]=nn*fn+tn*yn+cn*$n,u[11]=nn*an+tn*gn+cn*Tn,n!==u&&(u[12]=n[12],u[13]=n[13],u[14]=n[14],u[15]=n[15]),u}const o=q;function i(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(n,e,t){const s=t??new f(16),u=e[0],D=e[1],z=e[2];return s[0]=u*n[0*4+0],s[1]=u*n[0*4+1],s[2]=u*n[0*4+2],s[3]=u*n[0*4+3],s[4]=D*n[1*4+0],s[5]=D*n[1*4+1],s[6]=D*n[1*4+2],s[7]=D*n[1*4+3],s[8]=z*n[2*4+0],s[9]=z*n[2*4+1],s[10]=z*n[2*4+2],s[11]=z*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function M(n,e){const t=e??new f(16);return t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(n,e,t){const s=t??new f(16);return s[0]=e*n[0*4+0],s[1]=e*n[0*4+1],s[2]=e*n[0*4+2],s[3]=e*n[0*4+3],s[4]=e*n[1*4+0],s[5]=e*n[1*4+1],s[6]=e*n[1*4+2],s[7]=e*n[1*4+3],s[8]=e*n[2*4+0],s[9]=e*n[2*4+1],s[10]=e*n[2*4+2],s[11]=e*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}return{create:O,set:K,fromMat3:k,fromQuat:b,negate:en,copy:C,clone:Mn,equalsApproximately:An,equals:Dn,identity:dn,transpose:Yn,inverse:on,determinant:Fn,invert:qn,multiply:Bn,mul:Zn,setTranslation:Sn,getTranslation:pn,getAxis:_n,setAxis:Pn,getScaling:In,perspective:Gn,perspectiveReverseZ:Un,ortho:En,frustum:sn,frustumReverseZ:Xn,aim:w,cameraAim:B,lookAt:p,translation:S,translate:$,rotationX:U,rotateX:Y,rotationY:Z,rotateY:L,rotationZ:F,rotateZ:G,axisRotation:H,rotation:d,axisRotate:q,rotate:o,scaling:i,scale:a,uniformScaling:M,uniformScale:P}}const Tt=new Map;function vt(f){let x=Tt.get(f);return x||(x=kt(f),Tt.set(f,x)),x}function bt(f){const x=zt(f);function O(d,q,o,i){const a=new f(4);return d!==void 0&&(a[0]=d,q!==void 0&&(a[1]=q,o!==void 0&&(a[2]=o,i!==void 0&&(a[3]=i)))),a}const K=O;function k(d,q,o,i,a){const M=a??new f(4);return M[0]=d,M[1]=q,M[2]=o,M[3]=i,M}function b(d,q,o){const i=o??new f(4),a=q*.5,M=Math.sin(a);return i[0]=M*d[0],i[1]=M*d[1],i[2]=M*d[2],i[3]=Math.cos(a),i}function en(d,q){const o=q??x.create(3),i=Math.acos(d[3])*2,a=Math.sin(i*.5);return a>_?(o[0]=d[0]/a,o[1]=d[1]/a,o[2]=d[2]/a):(o[0]=1,o[1]=0,o[2]=0),{angle:i,axis:o}}function C(d,q){const o=sn(d,q);return Math.acos(2*o*o-1)}function Mn(d,q,o){const i=o??new f(4),a=d[0],M=d[1],P=d[2],n=d[3],e=q[0],t=q[1],s=q[2],u=q[3];return i[0]=a*u+n*e+M*s-P*t,i[1]=M*u+n*t+P*e-a*s,i[2]=P*u+n*s+a*t-M*e,i[3]=n*u-a*e-M*t-P*s,i}const An=Mn;function Dn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s+e*t,i[1]=P*s+n*t,i[2]=n*s-P*t,i[3]=e*s-M*t,i}function dn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s-n*t,i[1]=P*s+e*t,i[2]=n*s+M*t,i[3]=e*s-P*t,i}function Yn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s+P*t,i[1]=P*s-M*t,i[2]=n*s+e*t,i[3]=e*s-n*t,i}function on(d,q,o,i){const a=i??new f(4),M=d[0],P=d[1],n=d[2],e=d[3];let t=q[0],s=q[1],u=q[2],D=q[3],z=M*t+P*s+n*u+e*D;z<0&&(z=-z,t=-t,s=-s,u=-u,D=-D);let c,r;if(1-z>_){const h=Math.acos(z),l=Math.sin(h);c=Math.sin((1-o)*h)/l,r=Math.sin(o*h)/l}else c=1-o,r=o;return a[0]=c*M+r*t,a[1]=c*P+r*s,a[2]=c*n+r*u,a[3]=c*e+r*D,a}function Fn(d,q){const o=q??new f(4),i=d[0],a=d[1],M=d[2],P=d[3],n=i*i+a*a+M*M+P*P,e=n?1/n:0;return o[0]=-i*e,o[1]=-a*e,o[2]=-M*e,o[3]=P*e,o}function qn(d,q){const o=q??new f(4);return o[0]=-d[0],o[1]=-d[1],o[2]=-d[2],o[3]=d[3],o}function Bn(d,q){const o=q??new f(4),i=d[0]+d[5]+d[10];if(i>0){const a=Math.sqrt(i+1);o[3]=.5*a;const M=.5/a;o[0]=(d[6]-d[9])*M,o[1]=(d[8]-d[2])*M,o[2]=(d[1]-d[4])*M}else{let a=0;d[5]>d[0]&&(a=1),d[10]>d[a*4+a]&&(a=2);const M=(a+1)%3,P=(a+2)%3,n=Math.sqrt(d[a*4+a]-d[M*4+M]-d[P*4+P]+1);o[a]=.5*n;const e=.5/n;o[3]=(d[M*4+P]-d[P*4+M])*e,o[M]=(d[M*4+a]+d[a*4+M])*e,o[P]=(d[P*4+a]+d[a*4+P])*e}return o}function Zn(d,q,o,i,a){const M=a??new f(4),P=d*.5,n=q*.5,e=o*.5,t=Math.sin(P),s=Math.cos(P),u=Math.sin(n),D=Math.cos(n),z=Math.sin(e),c=Math.cos(e);switch(i){case"xyz":M[0]=t*D*c+s*u*z,M[1]=s*u*c-t*D*z,M[2]=s*D*z+t*u*c,M[3]=s*D*c-t*u*z;break;case"xzy":M[0]=t*D*c-s*u*z,M[1]=s*u*c-t*D*z,M[2]=s*D*z+t*u*c,M[3]=s*D*c+t*u*z;break;case"yxz":M[0]=t*D*c+s*u*z,M[1]=s*u*c-t*D*z,M[2]=s*D*z-t*u*c,M[3]=s*D*c+t*u*z;break;case"yzx":M[0]=t*D*c+s*u*z,M[1]=s*u*c+t*D*z,M[2]=s*D*z-t*u*c,M[3]=s*D*c-t*u*z;break;case"zxy":M[0]=t*D*c-s*u*z,M[1]=s*u*c+t*D*z,M[2]=s*D*z+t*u*c,M[3]=s*D*c-t*u*z;break;case"zyx":M[0]=t*D*c-s*u*z,M[1]=s*u*c+t*D*z,M[2]=s*D*z-t*u*c,M[3]=s*D*c+t*u*z;break;default:throw new Error(`Unknown rotation order: ${i}`)}return M}function Sn(d,q){const o=q??new f(4);return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o}const pn=Sn;function _n(d,q,o){const i=o??new f(4);return i[0]=d[0]+q[0],i[1]=d[1]+q[1],i[2]=d[2]+q[2],i[3]=d[3]+q[3],i}function Pn(d,q,o){const i=o??new f(4);return i[0]=d[0]-q[0],i[1]=d[1]-q[1],i[2]=d[2]-q[2],i[3]=d[3]-q[3],i}const In=Pn;function Gn(d,q,o){const i=o??new f(4);return i[0]=d[0]*q,i[1]=d[1]*q,i[2]=d[2]*q,i[3]=d[3]*q,i}const Un=Gn;function En(d,q,o){const i=o??new f(4);return i[0]=d[0]/q,i[1]=d[1]/q,i[2]=d[2]/q,i[3]=d[3]/q,i}function sn(d,q){return d[0]*q[0]+d[1]*q[1]+d[2]*q[2]+d[3]*q[3]}function Xn(d,q,o,i){const a=i??new f(4);return a[0]=d[0]+o*(q[0]-d[0]),a[1]=d[1]+o*(q[1]-d[1]),a[2]=d[2]+o*(q[2]-d[2]),a[3]=d[3]+o*(q[3]-d[3]),a}function j(d){const q=d[0],o=d[1],i=d[2],a=d[3];return Math.sqrt(q*q+o*o+i*i+a*a)}const N=j;function Q(d){const q=d[0],o=d[1],i=d[2],a=d[3];return q*q+o*o+i*i+a*a}const w=Q;function B(d,q){const o=q??new f(4),i=d[0],a=d[1],M=d[2],P=d[3],n=Math.sqrt(i*i+a*a+M*M+P*P);return n>1e-5?(o[0]=i/n,o[1]=a/n,o[2]=M/n,o[3]=P/n):(o[0]=0,o[1]=0,o[2]=0,o[3]=0),o}function p(d,q){return Math.abs(d[0]-q[0])<_&&Math.abs(d[1]-q[1])<_&&Math.abs(d[2]-q[2])<_&&Math.abs(d[3]-q[3])<_}function S(d,q){return d[0]===q[0]&&d[1]===q[1]&&d[2]===q[2]&&d[3]===q[3]}function $(d){const q=d??new f(4);return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q}const U=x.create(),Y=x.create(),Z=x.create();function L(d,q,o){const i=o??new f(4),a=x.dot(d,q);return a<-.999999?(x.cross(Y,d,U),x.len(U)<1e-6&&x.cross(Z,d,U),x.normalize(U,U),b(U,Math.PI,i),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(x.cross(d,q,U),i[0]=U[0],i[1]=U[1],i[2]=U[2],i[3]=1+a,B(i,i))}const F=new f(4),G=new f(4);function H(d,q,o,i,a,M){const P=M??new f(4);return on(d,i,a,F),on(q,o,a,G),on(F,G,2*a*(1-a),P),P}return{create:O,fromValues:K,set:k,fromAxisAngle:b,toAxisAngle:en,angle:C,multiply:Mn,mul:An,rotateX:Dn,rotateY:dn,rotateZ:Yn,slerp:on,inverse:Fn,conjugate:qn,fromMat:Bn,fromEuler:Zn,copy:Sn,clone:pn,add:_n,subtract:Pn,sub:In,mulScalar:Gn,scale:Un,divScalar:En,dot:sn,lerp:Xn,length:j,len:N,lengthSq:Q,lenSq:w,normalize:B,equalsApproximately:p,equals:S,identity:$,rotationTo:L,sqlerp:H}}const Ft=new Map;function mt(f){let x=Ft.get(f);return x||(x=bt(f),Ft.set(f,x)),x}function Ct(f){function x(o,i,a,M){const P=new f(4);return o!==void 0&&(P[0]=o,i!==void 0&&(P[1]=i,a!==void 0&&(P[2]=a,M!==void 0&&(P[3]=M)))),P}const O=x;function K(o,i,a,M,P){const n=P??new f(4);return n[0]=o,n[1]=i,n[2]=a,n[3]=M,n}function k(o,i){const a=i??new f(4);return a[0]=Math.ceil(o[0]),a[1]=Math.ceil(o[1]),a[2]=Math.ceil(o[2]),a[3]=Math.ceil(o[3]),a}function b(o,i){const a=i??new f(4);return a[0]=Math.floor(o[0]),a[1]=Math.floor(o[1]),a[2]=Math.floor(o[2]),a[3]=Math.floor(o[3]),a}function en(o,i){const a=i??new f(4);return a[0]=Math.round(o[0]),a[1]=Math.round(o[1]),a[2]=Math.round(o[2]),a[3]=Math.round(o[3]),a}function C(o,i=0,a=1,M){const P=M??new f(4);return P[0]=Math.min(a,Math.max(i,o[0])),P[1]=Math.min(a,Math.max(i,o[1])),P[2]=Math.min(a,Math.max(i,o[2])),P[3]=Math.min(a,Math.max(i,o[3])),P}function Mn(o,i,a){const M=a??new f(4);return M[0]=o[0]+i[0],M[1]=o[1]+i[1],M[2]=o[2]+i[2],M[3]=o[3]+i[3],M}function An(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+i[0]*a,P[1]=o[1]+i[1]*a,P[2]=o[2]+i[2]*a,P[3]=o[3]+i[3]*a,P}function Dn(o,i,a){const M=a??new f(4);return M[0]=o[0]-i[0],M[1]=o[1]-i[1],M[2]=o[2]-i[2],M[3]=o[3]-i[3],M}const dn=Dn;function Yn(o,i){return Math.abs(o[0]-i[0])<_&&Math.abs(o[1]-i[1])<_&&Math.abs(o[2]-i[2])<_&&Math.abs(o[3]-i[3])<_}function on(o,i){return o[0]===i[0]&&o[1]===i[1]&&o[2]===i[2]&&o[3]===i[3]}function Fn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+a*(i[0]-o[0]),P[1]=o[1]+a*(i[1]-o[1]),P[2]=o[2]+a*(i[2]-o[2]),P[3]=o[3]+a*(i[3]-o[3]),P}function qn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+a[0]*(i[0]-o[0]),P[1]=o[1]+a[1]*(i[1]-o[1]),P[2]=o[2]+a[2]*(i[2]-o[2]),P[3]=o[3]+a[3]*(i[3]-o[3]),P}function Bn(o,i,a){const M=a??new f(4);return M[0]=Math.max(o[0],i[0]),M[1]=Math.max(o[1],i[1]),M[2]=Math.max(o[2],i[2]),M[3]=Math.max(o[3],i[3]),M}function Zn(o,i,a){const M=a??new f(4);return M[0]=Math.min(o[0],i[0]),M[1]=Math.min(o[1],i[1]),M[2]=Math.min(o[2],i[2]),M[3]=Math.min(o[3],i[3]),M}function Sn(o,i,a){const M=a??new f(4);return M[0]=o[0]*i,M[1]=o[1]*i,M[2]=o[2]*i,M[3]=o[3]*i,M}const pn=Sn;function _n(o,i,a){const M=a??new f(4);return M[0]=o[0]/i,M[1]=o[1]/i,M[2]=o[2]/i,M[3]=o[3]/i,M}function Pn(o,i){const a=i??new f(4);return a[0]=1/o[0],a[1]=1/o[1],a[2]=1/o[2],a[3]=1/o[3],a}const In=Pn;function Gn(o,i){return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]*i[3]}function Un(o){const i=o[0],a=o[1],M=o[2],P=o[3];return Math.sqrt(i*i+a*a+M*M+P*P)}const En=Un;function sn(o){const i=o[0],a=o[1],M=o[2],P=o[3];return i*i+a*a+M*M+P*P}const Xn=sn;function j(o,i){const a=o[0]-i[0],M=o[1]-i[1],P=o[2]-i[2],n=o[3]-i[3];return Math.sqrt(a*a+M*M+P*P+n*n)}const N=j;function Q(o,i){const a=o[0]-i[0],M=o[1]-i[1],P=o[2]-i[2],n=o[3]-i[3];return a*a+M*M+P*P+n*n}const w=Q;function B(o,i){const a=i??new f(4),M=o[0],P=o[1],n=o[2],e=o[3],t=Math.sqrt(M*M+P*P+n*n+e*e);return t>1e-5?(a[0]=M/t,a[1]=P/t,a[2]=n/t,a[3]=e/t):(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function p(o,i){const a=i??new f(4);return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=-o[3],a}function S(o,i){const a=i??new f(4);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a}const $=S;function U(o,i,a){const M=a??new f(4);return M[0]=o[0]*i[0],M[1]=o[1]*i[1],M[2]=o[2]*i[2],M[3]=o[3]*i[3],M}const Y=U;function Z(o,i,a){const M=a??new f(4);return M[0]=o[0]/i[0],M[1]=o[1]/i[1],M[2]=o[2]/i[2],M[3]=o[3]/i[3],M}const L=Z;function F(o){const i=o??new f(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function G(o,i,a){const M=a??new f(4),P=o[0],n=o[1],e=o[2],t=o[3];return M[0]=i[0]*P+i[4]*n+i[8]*e+i[12]*t,M[1]=i[1]*P+i[5]*n+i[9]*e+i[13]*t,M[2]=i[2]*P+i[6]*n+i[10]*e+i[14]*t,M[3]=i[3]*P+i[7]*n+i[11]*e+i[15]*t,M}function H(o,i,a){const M=a??new f(4);return B(o,M),Sn(M,i,M)}function d(o,i,a){const M=a??new f(4);return Un(o)>i?H(o,i,M):S(o,M)}function q(o,i,a){const M=a??new f(4);return Fn(o,i,.5,M)}return{create:x,fromValues:O,set:K,ceil:k,floor:b,round:en,clamp:C,add:Mn,addScaled:An,subtract:Dn,sub:dn,equalsApproximately:Yn,equals:on,lerp:Fn,lerpV:qn,max:Bn,min:Zn,mulScalar:Sn,scale:pn,divScalar:_n,inverse:Pn,invert:In,dot:Gn,length:Un,len:En,lengthSq:sn,lenSq:Xn,distance:j,dist:N,distanceSq:Q,distSq:w,normalize:B,negate:p,copy:S,clone:$,multiply:U,mul:Y,divide:Z,div:L,zero:F,transformMat4:G,setLength:H,truncate:d,midpoint:q}}const Gt=new Map;function ns(f){let x=Gt.get(f);return x||(x=Ct(f),Gt.set(f,x)),x}function At(f,x,O,K,k,b){return{mat4:vt(f),mat3:Jt(x),quat:mt(O),vec2:Ot(K),vec3:zt(k),vec4:ns(b)}}const{mat4:es,mat3:Qn,quat:os,vec2:Rt,vec3:is,vec4:rs}=At(Float32Array,Float32Array,Float32Array,Float32Array,Float32Array,Float32Array);At(Float64Array,Float64Array,Float64Array,Float64Array,Float64Array,Float64Array);At(jt,Array,Array,Array,Array,Array);var m,Rn,tt,jn,it,rt,ut,ft,Nn,Hn,st,ct,et,kn,at,Jn,vn,bn,mn,On,ot,Cn,Kn,wt,Ln,Wn,Yt,Zt,_t,gt;class us{constructor(x){J(this,Wn);J(this,m);J(this,Rn);J(this,tt,0);J(this,jn,!1);J(this,it,Qn.create());J(this,rt,Qn.create());J(this,ut,Qn.create());J(this,ft,Qn.create());J(this,Nn);J(this,Hn);J(this,st);J(this,ct);J(this,et);J(this,kn);J(this,at);J(this,Jn,{min:Rt.create(),max:Rt.create()});J(this,vn,Ut({color:4,matrix:12}));J(this,bn,Ut({color:0,matrix:4}));J(this,mn,new Float32Array([1,1]));J(this,On,new Float32Array([0,0]));J(this,ot,new Float32Array([0,0]));J(this,Cn,new Float32Array([0,0]));J(this,Kn,new Float32Array(I(this,vn).color+I(this,vn).matrix));J(this,wt,I(this,Kn).subarray(I(this,bn).color,I(this,bn).color+I(this,vn).color));J(this,Ln,I(this,Kn).subarray(I(this,bn).matrix,I(this,bn).matrix+I(this,vn).matrix));!x.segments&&Xt(Qt.REQUIRED_SEGMENTS),ln(this,Nn,x.label??"Shape"),ln(this,Rn,x.radius??0),ln(this,m,x.renderer),ln(this,Hn,x.segments);const{startAngle:O,endAngle:K,innerRadius:k}=x;nt(this,Wn,Yt).call(this,O,K,k),nt(this,Wn,Zt).call(this),nt(this,Wn,_t).call(this),this.Scale=I(this,mn),this.Origin=I(this,On),this.Rotation=I(this,tt),this.Position=I(this,Cn)}Update(){return I(this,m).SetVertexBuffers(I(this,et)),I(this,m).SetIndexBuffer(I(this,ct)),I(this,m).SetBindGroups(I(this,at)),nt(this,Wn,gt).call(this)}Render(x=!0){I(this,m).SavePipelineState(),I(this,m).Render(I(this.Update(),st),x),I(this,m).RestorePipelineState()}set Color(x){I(this,wt).set(Array.isArray(x)||ArrayBuffer.isView(x)?x:x.rgba),I(this,m).WriteBuffer(I(this,kn),I(this,Kn))}get Color(){return I(this,wt)}set Position(x){I(this,Cn).set(x),Qn.translation(I(this,Cn),I(this,ft)),ln(this,jn,!0)}get Position(){return I(this,Cn)}set Rotation(x){Qn.rotation(ln(this,tt,x),I(this,ut)),ln(this,jn,!0)}get Rotation(){return I(this,tt)}set Scale(x){I(this,mn).set(x),Qn.scaling(I(this,mn),I(this,rt)),ln(this,jn,!0)}get Scale(){return I(this,mn)}set Origin(x){I(this,On)[0]=x[0],I(this,On)[1]=x[1],I(this,On)[0]*=-I(this,Rn),I(this,On)[1]*=-I(this,Rn),Qn.translation(I(this,On),I(this,it)),I(this,On)[0]=x[0]||0,I(this,On)[1]=x[1]||0,ln(this,jn,!0)}get Origin(){return I(this,On)}get Center(){return I(nt(this,Wn,gt).call(this),ot)}get Vertices(){return I(this,st)}get Transform(){return I(this,Ln)}get BoundingBox(){return I(this,Jn)}}m=new WeakMap,Rn=new WeakMap,tt=new WeakMap,jn=new WeakMap,it=new WeakMap,rt=new WeakMap,ut=new WeakMap,ft=new WeakMap,Nn=new WeakMap,Hn=new WeakMap,st=new WeakMap,ct=new WeakMap,et=new WeakMap,kn=new WeakMap,at=new WeakMap,Jn=new WeakMap,vn=new WeakMap,bn=new WeakMap,mn=new WeakMap,On=new WeakMap,ot=new WeakMap,Cn=new WeakMap,Kn=new WeakMap,wt=new WeakMap,Ln=new WeakMap,Wn=new WeakSet,Yt=function(x=0,O=Lt.TAU,K=0){const k=O-x,b=new Float32Array((I(this,Hn)+1)*2*3);for(let en=0,C=0;C<=I(this,Hn);++C){const Mn=x+C*k/I(this,Hn),An=Math.cos(Mn),Dn=Math.sin(Mn);b[en++]=An*I(this,Rn),b[en++]=Dn*I(this,Rn),b[en++]=An*K,b[en++]=Dn*K}ln(this,et,I(this,m).CreateBuffer({size:b.byteLength,label:`${I(this,Nn)} Vertex Buffer`,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST})),I(this,m).WriteBuffer(I(this,et),b)},Zt=function(){const x=new Uint32Array(ln(this,st,I(this,Hn)*6));for(let O=0,K=0;K<I(this,Hn);++K){const k=K*2;x[O++]=k+1,x[O++]=k+3,x[O++]=k+2,x[O++]=k+2,x[O++]=k+0,x[O++]=k+1}ln(this,ct,I(this,m).CreateBuffer({size:x.byteLength,label:`${I(this,Nn)} Index Buffer`,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST})),I(this,m).WriteBuffer(I(this,ct),x)},_t=function(){ln(this,kn,I(this,m).CreateBuffer({size:I(this,Kn).length*Float32Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,label:`${I(this,Nn)} Uniform Buffer`})),ln(this,at,I(this,m).CreateBindGroup(I(this,m).CreateBindGroupEntries([{buffer:I(this,m).ResolutionBuffer},{buffer:I(this,kn)}]),0,`${I(this,Nn)} Bind Group`))},gt=function(){if(I(this,jn)){Qn.multiply(I(this,ft),I(this,ut),I(this,Ln)),Qn.multiply(I(this,Ln),I(this,rt),I(this,Ln)),Qn.multiply(I(this,Ln),I(this,it),I(this,Ln)),I(this,m).WriteBuffer(I(this,kn),I(this,Kn));const x=I(this,ot)[0]=I(this,Ln)[8],O=I(this,ot)[1]=I(this,Ln)[9];I(this,Jn).min[0]=x-I(this,Rn),I(this,Jn).min[1]=O-I(this,Rn),I(this,Jn).max[0]=x+I(this,Rn),I(this,Jn).max[1]=O+I(this,Rn),ln(this,jn,!1)}return this};export{cs as S,us as a};
