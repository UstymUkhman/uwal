var Bt=f=>{throw TypeError(f)};var pt=(f,x,G)=>x.has(f)||Bt("Cannot "+G);var I=(f,x,G)=>(pt(f,x,"read from private field"),G?G.call(f):x.get(f)),K=(f,x,G)=>x.has(f)?Bt("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(f):x.set(f,G),sn=(f,x,G,J)=>(pt(f,x,"write to private field"),J?J.call(f,G):x.set(f,G),G),mn=(f,x,G)=>(pt(f,x,"access private method"),G);import{a as Pt,T as _t,E as Zt,N as Xt}from"./index-D0d0R1W9.js";var ts="struct Shape{color: vec4f,matrix: mat3x3f};@group(0)@binding(0)var<uniform>resolution: vec2f;fn GetClipSpace(position: vec2f)->vec2f{let clipSpace=position/resolution*2-1;return clipSpace*vec2f(1,-1);}@group(0)@binding(1)var<uniform>shape: Shape;fn GetVertexClipSpace(position: vec2f)->vec4f{let matrixPosition=shape.matrix*vec3f(position,1);let clipSpace=GetClipSpace(matrixPosition.xy);return vec4f(clipSpace,0.0,1.0);}@vertex fn vertex(@location(0)position: vec2f)->@builtin(position)vec4f {return GetVertexClipSpace(position);}";function Lt(f,x){return class extends f{constructor(...G){super(...G),x(this)}}}const Qt=Lt(Array,f=>f.fill(0));let Z=1e-6;function Wt(f){function x(n=0,e=0){const t=new f(2);return n!==void 0&&(t[0]=n,e!==void 0&&(t[1]=e)),t}const G=x;function J(n,e,t){const s=t??new f(2);return s[0]=n,s[1]=e,s}function k(n,e){const t=e??new f(2);return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function b(n,e){const t=e??new f(2);return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function on(n,e){const t=e??new f(2);return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function C(n,e=0,t=1,s){const u=s??new f(2);return u[0]=Math.min(t,Math.max(e,n[0])),u[1]=Math.min(t,Math.max(e,n[1])),u}function Mn(n,e,t){const s=t??new f(2);return s[0]=n[0]+e[0],s[1]=n[1]+e[1],s}function zn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+e[0]*t,u[1]=n[1]+e[1]*t,u}function Dn(n,e){const t=n[0],s=n[1],u=e[0],D=e[1],A=Math.sqrt(t*t+s*s),c=Math.sqrt(u*u+D*D),r=A*c,h=r&&Un(n,e)/r;return Math.acos(h)}function dn(n,e,t){const s=t??new f(2);return s[0]=n[0]-e[0],s[1]=n[1]-e[1],s}const _n=dn;function rn(n,e){return Math.abs(n[0]-e[0])<Z&&Math.abs(n[1]-e[1])<Z}function Rn(n,e){return n[0]===e[0]&&n[1]===e[1]}function qn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+t*(e[0]-n[0]),u[1]=n[1]+t*(e[1]-n[1]),u}function Bn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+t[0]*(e[0]-n[0]),u[1]=n[1]+t[1]*(e[1]-n[1]),u}function Zn(n,e,t){const s=t??new f(2);return s[0]=Math.max(n[0],e[0]),s[1]=Math.max(n[1],e[1]),s}function Sn(n,e,t){const s=t??new f(2);return s[0]=Math.min(n[0],e[0]),s[1]=Math.min(n[1],e[1]),s}function pn(n,e,t){const s=t??new f(2);return s[0]=n[0]*e,s[1]=n[1]*e,s}const Xn=pn;function Pn(n,e,t){const s=t??new f(2);return s[0]=n[0]/e,s[1]=n[1]/e,s}function In(n,e){const t=e??new f(2);return t[0]=1/n[0],t[1]=1/n[1],t}const Gn=In;function En(n,e,t){const s=t??new f(3),u=n[0]*e[1]-n[1]*e[0];return s[0]=0,s[1]=0,s[2]=u,s}function Un(n,e){return n[0]*e[0]+n[1]*e[1]}function cn(n){const e=n[0],t=n[1];return Math.sqrt(e*e+t*t)}const Ln=cn;function j(n){const e=n[0],t=n[1];return e*e+t*t}const N=j;function L(n,e){const t=n[0]-e[0],s=n[1]-e[1];return Math.sqrt(t*t+s*s)}const w=L;function B(n,e){const t=n[0]-e[0],s=n[1]-e[1];return t*t+s*s}const p=B;function S(n,e){const t=e??new f(2),s=n[0],u=n[1],D=Math.sqrt(s*s+u*u);return D>1e-5?(t[0]=s/D,t[1]=u/D):(t[0]=0,t[1]=0),t}function $(n,e){const t=e??new f(2);return t[0]=-n[0],t[1]=-n[1],t}function E(n,e){const t=e??new f(2);return t[0]=n[0],t[1]=n[1],t}const Y=E;function _(n,e,t){const s=t??new f(2);return s[0]=n[0]*e[0],s[1]=n[1]*e[1],s}const Q=_;function F(n,e,t){const s=t??new f(2);return s[0]=n[0]/e[0],s[1]=n[1]/e[1],s}const R=F;function H(n=1,e){const t=e??new f(2),s=Math.random()*2*Math.PI;return t[0]=Math.cos(s)*n,t[1]=Math.sin(s)*n,t}function d(n){const e=n??new f(2);return e[0]=0,e[1]=0,e}function q(n,e,t){const s=t??new f(2),u=n[0],D=n[1];return s[0]=u*e[0]+D*e[4]+e[12],s[1]=u*e[1]+D*e[5]+e[13],s}function o(n,e,t){const s=t??new f(2),u=n[0],D=n[1];return s[0]=e[0]*u+e[4]*D+e[8],s[1]=e[1]*u+e[5]*D+e[9],s}function i(n,e,t,s){const u=s??new f(2),D=n[0]-e[0],A=n[1]-e[1],c=Math.sin(t),r=Math.cos(t);return u[0]=D*r-A*c+e[0],u[1]=D*c+A*r+e[1],u}function a(n,e,t){const s=t??new f(2);return S(n,s),pn(s,e,s)}function M(n,e,t){const s=t??new f(2);return cn(n)>e?a(n,e,s):E(n,s)}function P(n,e,t){const s=t??new f(2);return qn(n,e,.5,s)}return{create:x,fromValues:G,set:J,ceil:k,floor:b,round:on,clamp:C,add:Mn,addScaled:zn,angle:Dn,subtract:dn,sub:_n,equalsApproximately:rn,equals:Rn,lerp:qn,lerpV:Bn,max:Zn,min:Sn,mulScalar:pn,scale:Xn,divScalar:Pn,inverse:In,invert:Gn,cross:En,dot:Un,length:cn,len:Ln,lengthSq:j,lenSq:N,distance:L,dist:w,distanceSq:B,distSq:p,normalize:S,negate:$,copy:E,clone:Y,multiply:_,mul:Q,divide:F,div:R,random:H,zero:d,transformMat4:q,transformMat3:o,rotate:i,setLength:a,truncate:M,midpoint:P}}const It=new Map;function Rt(f){let x=It.get(f);return x||(x=Wt(f),It.set(f,x)),x}function jt(f){const x=Rt(f);function G(w,B,p,S,$,E,Y,_,Q){const F=new f(12);return F[3]=0,F[7]=0,F[11]=0,w!==void 0&&(F[0]=w,B!==void 0&&(F[1]=B,p!==void 0&&(F[2]=p,S!==void 0&&(F[4]=S,$!==void 0&&(F[5]=$,E!==void 0&&(F[6]=E,Y!==void 0&&(F[8]=Y,_!==void 0&&(F[9]=_,Q!==void 0&&(F[10]=Q))))))))),F}function J(w,B,p,S,$,E,Y,_,Q,F){const R=F??new f(12);return R[0]=w,R[1]=B,R[2]=p,R[3]=0,R[4]=S,R[5]=$,R[6]=E,R[7]=0,R[8]=Y,R[9]=_,R[10]=Q,R[11]=0,R}function k(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[3]=0,p[4]=w[4],p[5]=w[5],p[6]=w[6],p[7]=0,p[8]=w[8],p[9]=w[9],p[10]=w[10],p[11]=0,p}function b(w,B){const p=B??new f(12),S=w[0],$=w[1],E=w[2],Y=w[3],_=S+S,Q=$+$,F=E+E,R=S*_,H=$*_,d=$*Q,q=E*_,o=E*Q,i=E*F,a=Y*_,M=Y*Q,P=Y*F;return p[0]=1-d-i,p[1]=H+P,p[2]=q-M,p[3]=0,p[4]=H-P,p[5]=1-R-i,p[6]=o+a,p[7]=0,p[8]=q+M,p[9]=o-a,p[10]=1-R-d,p[11]=0,p}function on(w,B){const p=B??new f(12);return p[0]=-w[0],p[1]=-w[1],p[2]=-w[2],p[4]=-w[4],p[5]=-w[5],p[6]=-w[6],p[8]=-w[8],p[9]=-w[9],p[10]=-w[10],p}function C(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[4]=w[4],p[5]=w[5],p[6]=w[6],p[8]=w[8],p[9]=w[9],p[10]=w[10],p}const Mn=C;function zn(w,B){return Math.abs(w[0]-B[0])<Z&&Math.abs(w[1]-B[1])<Z&&Math.abs(w[2]-B[2])<Z&&Math.abs(w[4]-B[4])<Z&&Math.abs(w[5]-B[5])<Z&&Math.abs(w[6]-B[6])<Z&&Math.abs(w[8]-B[8])<Z&&Math.abs(w[9]-B[9])<Z&&Math.abs(w[10]-B[10])<Z}function Dn(w,B){return w[0]===B[0]&&w[1]===B[1]&&w[2]===B[2]&&w[4]===B[4]&&w[5]===B[5]&&w[6]===B[6]&&w[8]===B[8]&&w[9]===B[9]&&w[10]===B[10]}function dn(w){const B=w??new f(12);return B[0]=1,B[1]=0,B[2]=0,B[4]=0,B[5]=1,B[6]=0,B[8]=0,B[9]=0,B[10]=1,B}function _n(w,B){const p=B??new f(12);if(p===w){let d;return d=w[1],w[1]=w[4],w[4]=d,d=w[2],w[2]=w[8],w[8]=d,d=w[6],w[6]=w[9],w[9]=d,p}const S=w[0*4+0],$=w[0*4+1],E=w[0*4+2],Y=w[1*4+0],_=w[1*4+1],Q=w[1*4+2],F=w[2*4+0],R=w[2*4+1],H=w[2*4+2];return p[0]=S,p[1]=Y,p[2]=F,p[4]=$,p[5]=_,p[6]=R,p[8]=E,p[9]=Q,p[10]=H,p}function rn(w,B){const p=B??new f(12),S=w[0*4+0],$=w[0*4+1],E=w[0*4+2],Y=w[1*4+0],_=w[1*4+1],Q=w[1*4+2],F=w[2*4+0],R=w[2*4+1],H=w[2*4+2],d=H*_-Q*R,q=-H*Y+Q*F,o=R*Y-_*F,i=1/(S*d+$*q+E*o);return p[0]=d*i,p[1]=(-H*$+E*R)*i,p[2]=(Q*$-E*_)*i,p[4]=q*i,p[5]=(H*S-E*F)*i,p[6]=(-Q*S+E*Y)*i,p[8]=o*i,p[9]=(-R*S+$*F)*i,p[10]=(_*S-$*Y)*i,p}function Rn(w){const B=w[0],p=w[0*4+1],S=w[0*4+2],$=w[1*4+0],E=w[1*4+1],Y=w[1*4+2],_=w[2*4+0],Q=w[2*4+1],F=w[2*4+2];return B*(E*F-Q*Y)-$*(p*F-Q*S)+_*(p*Y-E*S)}const qn=rn;function Bn(w,B,p){const S=p??new f(12),$=w[0],E=w[1],Y=w[2],_=w[4],Q=w[5],F=w[6],R=w[8],H=w[9],d=w[10],q=B[0],o=B[1],i=B[2],a=B[4],M=B[5],P=B[6],n=B[8],e=B[9],t=B[10];return S[0]=$*q+_*o+R*i,S[1]=E*q+Q*o+H*i,S[2]=Y*q+F*o+d*i,S[4]=$*a+_*M+R*P,S[5]=E*a+Q*M+H*P,S[6]=Y*a+F*M+d*P,S[8]=$*n+_*e+R*t,S[9]=E*n+Q*e+H*t,S[10]=Y*n+F*e+d*t,S}const Zn=Bn;function Sn(w,B,p){const S=p??dn();return w!==S&&(S[0]=w[0],S[1]=w[1],S[2]=w[2],S[4]=w[4],S[5]=w[5],S[6]=w[6]),S[8]=B[0],S[9]=B[1],S[10]=1,S}function pn(w,B){const p=B??x.create();return p[0]=w[8],p[1]=w[9],p}function Xn(w,B,p){const S=p??x.create(),$=B*4;return S[0]=w[$+0],S[1]=w[$+1],S}function Pn(w,B,p,S){const $=S===w?w:C(w,S),E=p*4;return $[E+0]=B[0],$[E+1]=B[1],$}function In(w,B){const p=B??x.create(),S=w[0],$=w[1],E=w[4],Y=w[5];return p[0]=Math.sqrt(S*S+$*$),p[1]=Math.sqrt(E*E+Y*Y),p}function Gn(w,B){const p=B??new f(12);return p[0]=1,p[1]=0,p[2]=0,p[4]=0,p[5]=1,p[6]=0,p[8]=w[0],p[9]=w[1],p[10]=1,p}function En(w,B,p){const S=p??new f(12),$=B[0],E=B[1],Y=w[0],_=w[1],Q=w[2],F=w[1*4+0],R=w[1*4+1],H=w[1*4+2],d=w[2*4+0],q=w[2*4+1],o=w[2*4+2];return w!==S&&(S[0]=Y,S[1]=_,S[2]=Q,S[4]=F,S[5]=R,S[6]=H),S[8]=Y*$+F*E+d,S[9]=_*$+R*E+q,S[10]=Q*$+H*E+o,S}function Un(w,B){const p=B??new f(12),S=Math.cos(w),$=Math.sin(w);return p[0]=S,p[1]=$,p[2]=0,p[4]=-$,p[5]=S,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function cn(w,B,p){const S=p??new f(12),$=w[0*4+0],E=w[0*4+1],Y=w[0*4+2],_=w[1*4+0],Q=w[1*4+1],F=w[1*4+2],R=Math.cos(B),H=Math.sin(B);return S[0]=R*$+H*_,S[1]=R*E+H*Q,S[2]=R*Y+H*F,S[4]=R*_-H*$,S[5]=R*Q-H*E,S[6]=R*F-H*Y,w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function Ln(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=0,p[2]=0,p[4]=0,p[5]=w[1],p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function j(w,B,p){const S=p??new f(12),$=B[0],E=B[1];return S[0]=$*w[0*4+0],S[1]=$*w[0*4+1],S[2]=$*w[0*4+2],S[4]=E*w[1*4+0],S[5]=E*w[1*4+1],S[6]=E*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function N(w,B){const p=B??new f(12);return p[0]=w,p[1]=0,p[2]=0,p[4]=0,p[5]=w,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function L(w,B,p){const S=p??new f(12);return S[0]=B*w[0*4+0],S[1]=B*w[0*4+1],S[2]=B*w[0*4+2],S[4]=B*w[1*4+0],S[5]=B*w[1*4+1],S[6]=B*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}return{clone:Mn,create:G,set:J,fromMat4:k,fromQuat:b,negate:on,copy:C,equalsApproximately:zn,equals:Dn,identity:dn,transpose:_n,inverse:rn,invert:qn,determinant:Rn,mul:Zn,multiply:Bn,setTranslation:Sn,getTranslation:pn,getAxis:Xn,setAxis:Pn,getScaling:In,translation:Gn,translate:En,rotation:Un,rotate:cn,scaling:Ln,scale:j,uniformScaling:N,uniformScale:L}}const Et=new Map;function Ht(f){let x=Et.get(f);return x||(x=jt(f),Et.set(f,x)),x}function Nt(f){function x(c,r,h){const l=new f(3);return c!==void 0&&(l[0]=c,r!==void 0&&(l[1]=r,h!==void 0&&(l[2]=h))),l}const G=x;function J(c,r,h,l){const y=l??new f(3);return y[0]=c,y[1]=r,y[2]=h,y}function k(c,r){const h=r??new f(3);return h[0]=Math.ceil(c[0]),h[1]=Math.ceil(c[1]),h[2]=Math.ceil(c[2]),h}function b(c,r){const h=r??new f(3);return h[0]=Math.floor(c[0]),h[1]=Math.floor(c[1]),h[2]=Math.floor(c[2]),h}function on(c,r){const h=r??new f(3);return h[0]=Math.round(c[0]),h[1]=Math.round(c[1]),h[2]=Math.round(c[2]),h}function C(c,r=0,h=1,l){const y=l??new f(3);return y[0]=Math.min(h,Math.max(r,c[0])),y[1]=Math.min(h,Math.max(r,c[1])),y[2]=Math.min(h,Math.max(r,c[2])),y}function Mn(c,r,h){const l=h??new f(3);return l[0]=c[0]+r[0],l[1]=c[1]+r[1],l[2]=c[2]+r[2],l}function zn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+r[0]*h,y[1]=c[1]+r[1]*h,y[2]=c[2]+r[2]*h,y}function Dn(c,r){const h=c[0],l=c[1],y=c[2],g=r[0],z=r[1],T=r[2],O=Math.sqrt(h*h+l*l+y*y),U=Math.sqrt(g*g+z*z+T*T),V=O*U,X=V&&Un(c,r)/V;return Math.acos(X)}function dn(c,r,h){const l=h??new f(3);return l[0]=c[0]-r[0],l[1]=c[1]-r[1],l[2]=c[2]-r[2],l}const _n=dn;function rn(c,r){return Math.abs(c[0]-r[0])<Z&&Math.abs(c[1]-r[1])<Z&&Math.abs(c[2]-r[2])<Z}function Rn(c,r){return c[0]===r[0]&&c[1]===r[1]&&c[2]===r[2]}function qn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+h*(r[0]-c[0]),y[1]=c[1]+h*(r[1]-c[1]),y[2]=c[2]+h*(r[2]-c[2]),y}function Bn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+h[0]*(r[0]-c[0]),y[1]=c[1]+h[1]*(r[1]-c[1]),y[2]=c[2]+h[2]*(r[2]-c[2]),y}function Zn(c,r,h){const l=h??new f(3);return l[0]=Math.max(c[0],r[0]),l[1]=Math.max(c[1],r[1]),l[2]=Math.max(c[2],r[2]),l}function Sn(c,r,h){const l=h??new f(3);return l[0]=Math.min(c[0],r[0]),l[1]=Math.min(c[1],r[1]),l[2]=Math.min(c[2],r[2]),l}function pn(c,r,h){const l=h??new f(3);return l[0]=c[0]*r,l[1]=c[1]*r,l[2]=c[2]*r,l}const Xn=pn;function Pn(c,r,h){const l=h??new f(3);return l[0]=c[0]/r,l[1]=c[1]/r,l[2]=c[2]/r,l}function In(c,r){const h=r??new f(3);return h[0]=1/c[0],h[1]=1/c[1],h[2]=1/c[2],h}const Gn=In;function En(c,r,h){const l=h??new f(3),y=c[2]*r[0]-c[0]*r[2],g=c[0]*r[1]-c[1]*r[0];return l[0]=c[1]*r[2]-c[2]*r[1],l[1]=y,l[2]=g,l}function Un(c,r){return c[0]*r[0]+c[1]*r[1]+c[2]*r[2]}function cn(c){const r=c[0],h=c[1],l=c[2];return Math.sqrt(r*r+h*h+l*l)}const Ln=cn;function j(c){const r=c[0],h=c[1],l=c[2];return r*r+h*h+l*l}const N=j;function L(c,r){const h=c[0]-r[0],l=c[1]-r[1],y=c[2]-r[2];return Math.sqrt(h*h+l*l+y*y)}const w=L;function B(c,r){const h=c[0]-r[0],l=c[1]-r[1],y=c[2]-r[2];return h*h+l*l+y*y}const p=B;function S(c,r){const h=r??new f(3),l=c[0],y=c[1],g=c[2],z=Math.sqrt(l*l+y*y+g*g);return z>1e-5?(h[0]=l/z,h[1]=y/z,h[2]=g/z):(h[0]=0,h[1]=0,h[2]=0),h}function $(c,r){const h=r??new f(3);return h[0]=-c[0],h[1]=-c[1],h[2]=-c[2],h}function E(c,r){const h=r??new f(3);return h[0]=c[0],h[1]=c[1],h[2]=c[2],h}const Y=E;function _(c,r,h){const l=h??new f(3);return l[0]=c[0]*r[0],l[1]=c[1]*r[1],l[2]=c[2]*r[2],l}const Q=_;function F(c,r,h){const l=h??new f(3);return l[0]=c[0]/r[0],l[1]=c[1]/r[1],l[2]=c[2]/r[2],l}const R=F;function H(c=1,r){const h=r??new f(3),l=Math.random()*2*Math.PI,y=Math.random()*2-1,g=Math.sqrt(1-y*y)*c;return h[0]=Math.cos(l)*g,h[1]=Math.sin(l)*g,h[2]=y*c,h}function d(c){const r=c??new f(3);return r[0]=0,r[1]=0,r[2]=0,r}function q(c,r,h){const l=h??new f(3),y=c[0],g=c[1],z=c[2],T=r[3]*y+r[7]*g+r[11]*z+r[15]||1;return l[0]=(r[0]*y+r[4]*g+r[8]*z+r[12])/T,l[1]=(r[1]*y+r[5]*g+r[9]*z+r[13])/T,l[2]=(r[2]*y+r[6]*g+r[10]*z+r[14])/T,l}function o(c,r,h){const l=h??new f(3),y=c[0],g=c[1],z=c[2];return l[0]=y*r[0*4+0]+g*r[1*4+0]+z*r[2*4+0],l[1]=y*r[0*4+1]+g*r[1*4+1]+z*r[2*4+1],l[2]=y*r[0*4+2]+g*r[1*4+2]+z*r[2*4+2],l}function i(c,r,h){const l=h??new f(3),y=c[0],g=c[1],z=c[2];return l[0]=y*r[0]+g*r[4]+z*r[8],l[1]=y*r[1]+g*r[5]+z*r[9],l[2]=y*r[2]+g*r[6]+z*r[10],l}function a(c,r,h){const l=h??new f(3),y=r[0],g=r[1],z=r[2],T=r[3]*2,O=c[0],U=c[1],V=c[2],X=g*V-z*U,W=z*O-y*V,v=y*U-g*O;return l[0]=O+X*T+(g*v-z*W)*2,l[1]=U+W*T+(z*X-y*v)*2,l[2]=V+v*T+(y*W-g*X)*2,l}function M(c,r){const h=r??new f(3);return h[0]=c[12],h[1]=c[13],h[2]=c[14],h}function P(c,r,h){const l=h??new f(3),y=r*4;return l[0]=c[y+0],l[1]=c[y+1],l[2]=c[y+2],l}function n(c,r){const h=r??new f(3),l=c[0],y=c[1],g=c[2],z=c[4],T=c[5],O=c[6],U=c[8],V=c[9],X=c[10];return h[0]=Math.sqrt(l*l+y*y+g*g),h[1]=Math.sqrt(z*z+T*T+O*O),h[2]=Math.sqrt(U*U+V*V+X*X),h}function e(c,r,h,l){const y=l??new f(3),g=[],z=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],z[0]=g[0],z[1]=g[1]*Math.cos(h)-g[2]*Math.sin(h),z[2]=g[1]*Math.sin(h)+g[2]*Math.cos(h),y[0]=z[0]+r[0],y[1]=z[1]+r[1],y[2]=z[2]+r[2],y}function t(c,r,h,l){const y=l??new f(3),g=[],z=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],z[0]=g[2]*Math.sin(h)+g[0]*Math.cos(h),z[1]=g[1],z[2]=g[2]*Math.cos(h)-g[0]*Math.sin(h),y[0]=z[0]+r[0],y[1]=z[1]+r[1],y[2]=z[2]+r[2],y}function s(c,r,h,l){const y=l??new f(3),g=[],z=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],z[0]=g[0]*Math.cos(h)-g[1]*Math.sin(h),z[1]=g[0]*Math.sin(h)+g[1]*Math.cos(h),z[2]=g[2],y[0]=z[0]+r[0],y[1]=z[1]+r[1],y[2]=z[2]+r[2],y}function u(c,r,h){const l=h??new f(3);return S(c,l),pn(l,r,l)}function D(c,r,h){const l=h??new f(3);return cn(c)>r?u(c,r,l):E(c,l)}function A(c,r,h){const l=h??new f(3);return qn(c,r,.5,l)}return{create:x,fromValues:G,set:J,ceil:k,floor:b,round:on,clamp:C,add:Mn,addScaled:zn,angle:Dn,subtract:dn,sub:_n,equalsApproximately:rn,equals:Rn,lerp:qn,lerpV:Bn,max:Zn,min:Sn,mulScalar:pn,scale:Xn,divScalar:Pn,inverse:In,invert:Gn,cross:En,dot:Un,length:cn,len:Ln,lengthSq:j,lenSq:N,distance:L,dist:w,distanceSq:B,distSq:p,normalize:S,negate:$,copy:E,clone:Y,multiply:_,mul:Q,divide:F,div:R,random:H,zero:d,transformMat4:q,transformMat4Upper3x3:o,transformMat3:i,transformQuat:a,getTranslation:M,getAxis:P,getScaling:n,rotateX:e,rotateY:t,rotateZ:s,setLength:u,truncate:D,midpoint:A}}const Ut=new Map;function yt(f){let x=Ut.get(f);return x||(x=Nt(f),Ut.set(f,x)),x}function Jt(f){const x=yt(f);function G(n,e,t,s,u,D,A,c,r,h,l,y,g,z,T,O){const U=new f(16);return n!==void 0&&(U[0]=n,e!==void 0&&(U[1]=e,t!==void 0&&(U[2]=t,s!==void 0&&(U[3]=s,u!==void 0&&(U[4]=u,D!==void 0&&(U[5]=D,A!==void 0&&(U[6]=A,c!==void 0&&(U[7]=c,r!==void 0&&(U[8]=r,h!==void 0&&(U[9]=h,l!==void 0&&(U[10]=l,y!==void 0&&(U[11]=y,g!==void 0&&(U[12]=g,z!==void 0&&(U[13]=z,T!==void 0&&(U[14]=T,O!==void 0&&(U[15]=O)))))))))))))))),U}function J(n,e,t,s,u,D,A,c,r,h,l,y,g,z,T,O,U){const V=U??new f(16);return V[0]=n,V[1]=e,V[2]=t,V[3]=s,V[4]=u,V[5]=D,V[6]=A,V[7]=c,V[8]=r,V[9]=h,V[10]=l,V[11]=y,V[12]=g,V[13]=z,V[14]=T,V[15]=O,V}function k(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=0,t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(n,e){const t=e??new f(16),s=n[0],u=n[1],D=n[2],A=n[3],c=s+s,r=u+u,h=D+D,l=s*c,y=u*c,g=u*r,z=D*c,T=D*r,O=D*h,U=A*c,V=A*r,X=A*h;return t[0]=1-g-O,t[1]=y+X,t[2]=z-V,t[3]=0,t[4]=y-X,t[5]=1-l-O,t[6]=T+U,t[7]=0,t[8]=z+V,t[9]=T-U,t[10]=1-l-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function on(n,e){const t=e??new f(16);return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t}function C(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}const Mn=C;function zn(n,e){return Math.abs(n[0]-e[0])<Z&&Math.abs(n[1]-e[1])<Z&&Math.abs(n[2]-e[2])<Z&&Math.abs(n[3]-e[3])<Z&&Math.abs(n[4]-e[4])<Z&&Math.abs(n[5]-e[5])<Z&&Math.abs(n[6]-e[6])<Z&&Math.abs(n[7]-e[7])<Z&&Math.abs(n[8]-e[8])<Z&&Math.abs(n[9]-e[9])<Z&&Math.abs(n[10]-e[10])<Z&&Math.abs(n[11]-e[11])<Z&&Math.abs(n[12]-e[12])<Z&&Math.abs(n[13]-e[13])<Z&&Math.abs(n[14]-e[14])<Z&&Math.abs(n[15]-e[15])<Z}function Dn(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]}function dn(n){const e=n??new f(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _n(n,e){const t=e??new f(16);if(t===n){let W;return W=n[1],n[1]=n[4],n[4]=W,W=n[2],n[2]=n[8],n[8]=W,W=n[3],n[3]=n[12],n[12]=W,W=n[6],n[6]=n[9],n[9]=W,W=n[7],n[7]=n[13],n[13]=W,W=n[11],n[11]=n[14],n[14]=W,t}const s=n[0*4+0],u=n[0*4+1],D=n[0*4+2],A=n[0*4+3],c=n[1*4+0],r=n[1*4+1],h=n[1*4+2],l=n[1*4+3],y=n[2*4+0],g=n[2*4+1],z=n[2*4+2],T=n[2*4+3],O=n[3*4+0],U=n[3*4+1],V=n[3*4+2],X=n[3*4+3];return t[0]=s,t[1]=c,t[2]=y,t[3]=O,t[4]=u,t[5]=r,t[6]=g,t[7]=U,t[8]=D,t[9]=h,t[10]=z,t[11]=V,t[12]=A,t[13]=l,t[14]=T,t[15]=X,t}function rn(n,e){const t=e??new f(16),s=n[0*4+0],u=n[0*4+1],D=n[0*4+2],A=n[0*4+3],c=n[1*4+0],r=n[1*4+1],h=n[1*4+2],l=n[1*4+3],y=n[2*4+0],g=n[2*4+1],z=n[2*4+2],T=n[2*4+3],O=n[3*4+0],U=n[3*4+1],V=n[3*4+2],X=n[3*4+3],W=z*X,v=V*T,nn=h*X,tn=V*l,en=h*T,un=z*l,fn=D*X,an=V*A,wn=D*T,hn=z*A,xn=D*l,yn=h*A,gn=y*U,An=O*g,Vn=c*U,$n=O*r,Tn=c*g,at=y*r,wt=s*U,ht=O*u,lt=s*g,Mt=y*u,Dt=s*r,dt=c*u,At=W*r+tn*g+en*U-(v*r+nn*g+un*U),zt=v*u+fn*g+hn*U-(W*u+an*g+wn*U),St=nn*u+an*r+xn*U-(tn*u+fn*r+yn*U),qt=un*u+wn*r+yn*g-(en*u+hn*r+xn*g),ln=1/(s*At+c*zt+y*St+O*qt);return t[0]=ln*At,t[1]=ln*zt,t[2]=ln*St,t[3]=ln*qt,t[4]=ln*(v*c+nn*y+un*O-(W*c+tn*y+en*O)),t[5]=ln*(W*s+an*y+wn*O-(v*s+fn*y+hn*O)),t[6]=ln*(tn*s+fn*c+yn*O-(nn*s+an*c+xn*O)),t[7]=ln*(en*s+hn*c+xn*y-(un*s+wn*c+yn*y)),t[8]=ln*(gn*l+$n*T+Tn*X-(An*l+Vn*T+at*X)),t[9]=ln*(An*A+wt*T+Mt*X-(gn*A+ht*T+lt*X)),t[10]=ln*(Vn*A+ht*l+Dt*X-($n*A+wt*l+dt*X)),t[11]=ln*(at*A+lt*l+dt*T-(Tn*A+Mt*l+Dt*T)),t[12]=ln*(Vn*z+at*V+An*h-(Tn*V+gn*h+$n*z)),t[13]=ln*(lt*V+gn*D+ht*z-(wt*z+Mt*V+An*D)),t[14]=ln*(wt*h+dt*V+$n*D-(Dt*V+Vn*D+ht*h)),t[15]=ln*(Dt*z+Tn*D+Mt*h-(lt*h+dt*z+at*D)),t}function Rn(n){const e=n[0],t=n[0*4+1],s=n[0*4+2],u=n[0*4+3],D=n[1*4+0],A=n[1*4+1],c=n[1*4+2],r=n[1*4+3],h=n[2*4+0],l=n[2*4+1],y=n[2*4+2],g=n[2*4+3],z=n[3*4+0],T=n[3*4+1],O=n[3*4+2],U=n[3*4+3],V=y*U,X=O*g,W=c*U,v=O*r,nn=c*g,tn=y*r,en=s*U,un=O*u,fn=s*g,an=y*u,wn=s*r,hn=c*u,xn=V*A+v*l+nn*T-(X*A+W*l+tn*T),yn=X*t+en*l+an*T-(V*t+un*l+fn*T),gn=W*t+un*A+wn*T-(v*t+en*A+hn*T),An=tn*t+fn*A+hn*l-(nn*t+an*A+wn*l);return e*xn+D*yn+h*gn+z*An}const qn=rn;function Bn(n,e,t){const s=t??new f(16),u=n[0],D=n[1],A=n[2],c=n[3],r=n[4],h=n[5],l=n[6],y=n[7],g=n[8],z=n[9],T=n[10],O=n[11],U=n[12],V=n[13],X=n[14],W=n[15],v=e[0],nn=e[1],tn=e[2],en=e[3],un=e[4],fn=e[5],an=e[6],wn=e[7],hn=e[8],xn=e[9],yn=e[10],gn=e[11],An=e[12],Vn=e[13],$n=e[14],Tn=e[15];return s[0]=u*v+r*nn+g*tn+U*en,s[1]=D*v+h*nn+z*tn+V*en,s[2]=A*v+l*nn+T*tn+X*en,s[3]=c*v+y*nn+O*tn+W*en,s[4]=u*un+r*fn+g*an+U*wn,s[5]=D*un+h*fn+z*an+V*wn,s[6]=A*un+l*fn+T*an+X*wn,s[7]=c*un+y*fn+O*an+W*wn,s[8]=u*hn+r*xn+g*yn+U*gn,s[9]=D*hn+h*xn+z*yn+V*gn,s[10]=A*hn+l*xn+T*yn+X*gn,s[11]=c*hn+y*xn+O*yn+W*gn,s[12]=u*An+r*Vn+g*$n+U*Tn,s[13]=D*An+h*Vn+z*$n+V*Tn,s[14]=A*An+l*Vn+T*$n+X*Tn,s[15]=c*An+y*Vn+O*$n+W*Tn,s}const Zn=Bn;function Sn(n,e,t){const s=t??dn();return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11]),s[12]=e[0],s[13]=e[1],s[14]=e[2],s[15]=1,s}function pn(n,e){const t=e??x.create();return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function Xn(n,e,t){const s=t??x.create(),u=e*4;return s[0]=n[u+0],s[1]=n[u+1],s[2]=n[u+2],s}function Pn(n,e,t,s){const u=s===n?s:C(n,s),D=t*4;return u[D+0]=e[0],u[D+1]=e[1],u[D+2]=e[2],u}function In(n,e){const t=e??x.create(),s=n[0],u=n[1],D=n[2],A=n[4],c=n[5],r=n[6],h=n[8],l=n[9],y=n[10];return t[0]=Math.sqrt(s*s+u*u+D*D),t[1]=Math.sqrt(A*A+c*c+r*r),t[2]=Math.sqrt(h*h+l*l+y*y),t}function Gn(n,e,t,s,u){const D=u??new f(16),A=Math.tan(Math.PI*.5-.5*n);if(D[0]=A/e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=A,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,Number.isFinite(s)){const c=1/(t-s);D[10]=s*c,D[14]=s*t*c}else D[10]=-1,D[14]=-t;return D}function En(n,e,t,s=1/0,u){const D=u??new f(16),A=1/Math.tan(n*.5);if(D[0]=A/e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=A,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,s===1/0)D[10]=0,D[14]=t;else{const c=1/(s-t);D[10]=t*c,D[14]=s*t*c}return D}function Un(n,e,t,s,u,D,A){const c=A??new f(16);return c[0]=2/(e-n),c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2/(s-t),c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1/(u-D),c[11]=0,c[12]=(e+n)/(n-e),c[13]=(s+t)/(t-s),c[14]=u/(u-D),c[15]=1,c}function cn(n,e,t,s,u,D,A){const c=A??new f(16),r=e-n,h=s-t,l=u-D;return c[0]=2*u/r,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*u/h,c[6]=0,c[7]=0,c[8]=(n+e)/r,c[9]=(s+t)/h,c[10]=D/l,c[11]=-1,c[12]=0,c[13]=0,c[14]=u*D/l,c[15]=0,c}function Ln(n,e,t,s,u,D=1/0,A){const c=A??new f(16),r=e-n,h=s-t;if(c[0]=2*u/r,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*u/h,c[6]=0,c[7]=0,c[8]=(n+e)/r,c[9]=(s+t)/h,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,D===1/0)c[10]=0,c[14]=u;else{const l=1/(D-u);c[10]=u*l,c[14]=D*u*l}return c}const j=x.create(),N=x.create(),L=x.create();function w(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(e,n,L),L),x.normalize(x.cross(t,L,j),j),x.normalize(x.cross(L,j,N),N),u[0]=j[0],u[1]=j[1],u[2]=j[2],u[3]=0,u[4]=N[0],u[5]=N[1],u[6]=N[2],u[7]=0,u[8]=L[0],u[9]=L[1],u[10]=L[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function B(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(n,e,L),L),x.normalize(x.cross(t,L,j),j),x.normalize(x.cross(L,j,N),N),u[0]=j[0],u[1]=j[1],u[2]=j[2],u[3]=0,u[4]=N[0],u[5]=N[1],u[6]=N[2],u[7]=0,u[8]=L[0],u[9]=L[1],u[10]=L[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function p(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(n,e,L),L),x.normalize(x.cross(t,L,j),j),x.normalize(x.cross(L,j,N),N),u[0]=j[0],u[1]=N[0],u[2]=L[0],u[3]=0,u[4]=j[1],u[5]=N[1],u[6]=L[1],u[7]=0,u[8]=j[2],u[9]=N[2],u[10]=L[2],u[11]=0,u[12]=-(j[0]*n[0]+j[1]*n[1]+j[2]*n[2]),u[13]=-(N[0]*n[0]+N[1]*n[1]+N[2]*n[2]),u[14]=-(L[0]*n[0]+L[1]*n[1]+L[2]*n[2]),u[15]=1,u}function S(n,e){const t=e??new f(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function $(n,e,t){const s=t??new f(16),u=e[0],D=e[1],A=e[2],c=n[0],r=n[1],h=n[2],l=n[3],y=n[1*4+0],g=n[1*4+1],z=n[1*4+2],T=n[1*4+3],O=n[2*4+0],U=n[2*4+1],V=n[2*4+2],X=n[2*4+3],W=n[3*4+0],v=n[3*4+1],nn=n[3*4+2],tn=n[3*4+3];return n!==s&&(s[0]=c,s[1]=r,s[2]=h,s[3]=l,s[4]=y,s[5]=g,s[6]=z,s[7]=T,s[8]=O,s[9]=U,s[10]=V,s[11]=X),s[12]=c*u+y*D+O*A+W,s[13]=r*u+g*D+U*A+v,s[14]=h*u+z*D+V*A+nn,s[15]=l*u+T*D+X*A+tn,s}function E(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=u,t[7]=0,t[8]=0,t[9]=-u,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Y(n,e,t){const s=t??new f(16),u=n[4],D=n[5],A=n[6],c=n[7],r=n[8],h=n[9],l=n[10],y=n[11],g=Math.cos(e),z=Math.sin(e);return s[4]=g*u+z*r,s[5]=g*D+z*h,s[6]=g*A+z*l,s[7]=g*c+z*y,s[8]=g*r-z*u,s[9]=g*h-z*D,s[10]=g*l-z*A,s[11]=g*y-z*c,n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function _(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=s,t[1]=0,t[2]=-u,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=u,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Q(n,e,t){const s=t??new f(16),u=n[0*4+0],D=n[0*4+1],A=n[0*4+2],c=n[0*4+3],r=n[2*4+0],h=n[2*4+1],l=n[2*4+2],y=n[2*4+3],g=Math.cos(e),z=Math.sin(e);return s[0]=g*u-z*r,s[1]=g*D-z*h,s[2]=g*A-z*l,s[3]=g*c-z*y,s[8]=g*r+z*u,s[9]=g*h+z*D,s[10]=g*l+z*A,s[11]=g*y+z*c,n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function F(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=s,t[1]=u,t[2]=0,t[3]=0,t[4]=-u,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(n,e,t){const s=t??new f(16),u=n[0*4+0],D=n[0*4+1],A=n[0*4+2],c=n[0*4+3],r=n[1*4+0],h=n[1*4+1],l=n[1*4+2],y=n[1*4+3],g=Math.cos(e),z=Math.sin(e);return s[0]=g*u+z*r,s[1]=g*D+z*h,s[2]=g*A+z*l,s[3]=g*c+z*y,s[4]=g*r-z*u,s[5]=g*h-z*D,s[6]=g*l-z*A,s[7]=g*y-z*c,n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function H(n,e,t){const s=t??new f(16);let u=n[0],D=n[1],A=n[2];const c=Math.sqrt(u*u+D*D+A*A);u/=c,D/=c,A/=c;const r=u*u,h=D*D,l=A*A,y=Math.cos(e),g=Math.sin(e),z=1-y;return s[0]=r+(1-r)*y,s[1]=u*D*z+A*g,s[2]=u*A*z-D*g,s[3]=0,s[4]=u*D*z-A*g,s[5]=h+(1-h)*y,s[6]=D*A*z+u*g,s[7]=0,s[8]=u*A*z+D*g,s[9]=D*A*z-u*g,s[10]=l+(1-l)*y,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}const d=H;function q(n,e,t,s){const u=s??new f(16);let D=e[0],A=e[1],c=e[2];const r=Math.sqrt(D*D+A*A+c*c);D/=r,A/=r,c/=r;const h=D*D,l=A*A,y=c*c,g=Math.cos(t),z=Math.sin(t),T=1-g,O=h+(1-h)*g,U=D*A*T+c*z,V=D*c*T-A*z,X=D*A*T-c*z,W=l+(1-l)*g,v=A*c*T+D*z,nn=D*c*T+A*z,tn=A*c*T-D*z,en=y+(1-y)*g,un=n[0],fn=n[1],an=n[2],wn=n[3],hn=n[4],xn=n[5],yn=n[6],gn=n[7],An=n[8],Vn=n[9],$n=n[10],Tn=n[11];return u[0]=O*un+U*hn+V*An,u[1]=O*fn+U*xn+V*Vn,u[2]=O*an+U*yn+V*$n,u[3]=O*wn+U*gn+V*Tn,u[4]=X*un+W*hn+v*An,u[5]=X*fn+W*xn+v*Vn,u[6]=X*an+W*yn+v*$n,u[7]=X*wn+W*gn+v*Tn,u[8]=nn*un+tn*hn+en*An,u[9]=nn*fn+tn*xn+en*Vn,u[10]=nn*an+tn*yn+en*$n,u[11]=nn*wn+tn*gn+en*Tn,n!==u&&(u[12]=n[12],u[13]=n[13],u[14]=n[14],u[15]=n[15]),u}const o=q;function i(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(n,e,t){const s=t??new f(16),u=e[0],D=e[1],A=e[2];return s[0]=u*n[0*4+0],s[1]=u*n[0*4+1],s[2]=u*n[0*4+2],s[3]=u*n[0*4+3],s[4]=D*n[1*4+0],s[5]=D*n[1*4+1],s[6]=D*n[1*4+2],s[7]=D*n[1*4+3],s[8]=A*n[2*4+0],s[9]=A*n[2*4+1],s[10]=A*n[2*4+2],s[11]=A*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function M(n,e){const t=e??new f(16);return t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(n,e,t){const s=t??new f(16);return s[0]=e*n[0*4+0],s[1]=e*n[0*4+1],s[2]=e*n[0*4+2],s[3]=e*n[0*4+3],s[4]=e*n[1*4+0],s[5]=e*n[1*4+1],s[6]=e*n[1*4+2],s[7]=e*n[1*4+3],s[8]=e*n[2*4+0],s[9]=e*n[2*4+1],s[10]=e*n[2*4+2],s[11]=e*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}return{create:G,set:J,fromMat3:k,fromQuat:b,negate:on,copy:C,clone:Mn,equalsApproximately:zn,equals:Dn,identity:dn,transpose:_n,inverse:rn,determinant:Rn,invert:qn,multiply:Bn,mul:Zn,setTranslation:Sn,getTranslation:pn,getAxis:Xn,setAxis:Pn,getScaling:In,perspective:Gn,perspectiveReverseZ:En,ortho:Un,frustum:cn,frustumReverseZ:Ln,aim:w,cameraAim:B,lookAt:p,translation:S,translate:$,rotationX:E,rotateX:Y,rotationY:_,rotateY:Q,rotationZ:F,rotateZ:R,axisRotation:H,rotation:d,axisRotate:q,rotate:o,scaling:i,scale:a,uniformScaling:M,uniformScale:P}}const Vt=new Map;function Kt(f){let x=Vt.get(f);return x||(x=Jt(f),Vt.set(f,x)),x}function kt(f){const x=yt(f);function G(d,q,o,i){const a=new f(4);return d!==void 0&&(a[0]=d,q!==void 0&&(a[1]=q,o!==void 0&&(a[2]=o,i!==void 0&&(a[3]=i)))),a}const J=G;function k(d,q,o,i,a){const M=a??new f(4);return M[0]=d,M[1]=q,M[2]=o,M[3]=i,M}function b(d,q,o){const i=o??new f(4),a=q*.5,M=Math.sin(a);return i[0]=M*d[0],i[1]=M*d[1],i[2]=M*d[2],i[3]=Math.cos(a),i}function on(d,q){const o=q??x.create(3),i=Math.acos(d[3])*2,a=Math.sin(i*.5);return a>Z?(o[0]=d[0]/a,o[1]=d[1]/a,o[2]=d[2]/a):(o[0]=1,o[1]=0,o[2]=0),{angle:i,axis:o}}function C(d,q){const o=cn(d,q);return Math.acos(2*o*o-1)}function Mn(d,q,o){const i=o??new f(4),a=d[0],M=d[1],P=d[2],n=d[3],e=q[0],t=q[1],s=q[2],u=q[3];return i[0]=a*u+n*e+M*s-P*t,i[1]=M*u+n*t+P*e-a*s,i[2]=P*u+n*s+a*t-M*e,i[3]=n*u-a*e-M*t-P*s,i}const zn=Mn;function Dn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s+e*t,i[1]=P*s+n*t,i[2]=n*s-P*t,i[3]=e*s-M*t,i}function dn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s-n*t,i[1]=P*s+e*t,i[2]=n*s+M*t,i[3]=e*s-P*t,i}function _n(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s+P*t,i[1]=P*s-M*t,i[2]=n*s+e*t,i[3]=e*s-n*t,i}function rn(d,q,o,i){const a=i??new f(4),M=d[0],P=d[1],n=d[2],e=d[3];let t=q[0],s=q[1],u=q[2],D=q[3],A=M*t+P*s+n*u+e*D;A<0&&(A=-A,t=-t,s=-s,u=-u,D=-D);let c,r;if(1-A>Z){const h=Math.acos(A),l=Math.sin(h);c=Math.sin((1-o)*h)/l,r=Math.sin(o*h)/l}else c=1-o,r=o;return a[0]=c*M+r*t,a[1]=c*P+r*s,a[2]=c*n+r*u,a[3]=c*e+r*D,a}function Rn(d,q){const o=q??new f(4),i=d[0],a=d[1],M=d[2],P=d[3],n=i*i+a*a+M*M+P*P,e=n?1/n:0;return o[0]=-i*e,o[1]=-a*e,o[2]=-M*e,o[3]=P*e,o}function qn(d,q){const o=q??new f(4);return o[0]=-d[0],o[1]=-d[1],o[2]=-d[2],o[3]=d[3],o}function Bn(d,q){const o=q??new f(4),i=d[0]+d[5]+d[10];if(i>0){const a=Math.sqrt(i+1);o[3]=.5*a;const M=.5/a;o[0]=(d[6]-d[9])*M,o[1]=(d[8]-d[2])*M,o[2]=(d[1]-d[4])*M}else{let a=0;d[5]>d[0]&&(a=1),d[10]>d[a*4+a]&&(a=2);const M=(a+1)%3,P=(a+2)%3,n=Math.sqrt(d[a*4+a]-d[M*4+M]-d[P*4+P]+1);o[a]=.5*n;const e=.5/n;o[3]=(d[M*4+P]-d[P*4+M])*e,o[M]=(d[M*4+a]+d[a*4+M])*e,o[P]=(d[P*4+a]+d[a*4+P])*e}return o}function Zn(d,q,o,i,a){const M=a??new f(4),P=d*.5,n=q*.5,e=o*.5,t=Math.sin(P),s=Math.cos(P),u=Math.sin(n),D=Math.cos(n),A=Math.sin(e),c=Math.cos(e);switch(i){case"xyz":M[0]=t*D*c+s*u*A,M[1]=s*u*c-t*D*A,M[2]=s*D*A+t*u*c,M[3]=s*D*c-t*u*A;break;case"xzy":M[0]=t*D*c-s*u*A,M[1]=s*u*c-t*D*A,M[2]=s*D*A+t*u*c,M[3]=s*D*c+t*u*A;break;case"yxz":M[0]=t*D*c+s*u*A,M[1]=s*u*c-t*D*A,M[2]=s*D*A-t*u*c,M[3]=s*D*c+t*u*A;break;case"yzx":M[0]=t*D*c+s*u*A,M[1]=s*u*c+t*D*A,M[2]=s*D*A-t*u*c,M[3]=s*D*c-t*u*A;break;case"zxy":M[0]=t*D*c-s*u*A,M[1]=s*u*c+t*D*A,M[2]=s*D*A+t*u*c,M[3]=s*D*c-t*u*A;break;case"zyx":M[0]=t*D*c-s*u*A,M[1]=s*u*c+t*D*A,M[2]=s*D*A-t*u*c,M[3]=s*D*c+t*u*A;break;default:throw new Error(`Unknown rotation order: ${i}`)}return M}function Sn(d,q){const o=q??new f(4);return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o}const pn=Sn;function Xn(d,q,o){const i=o??new f(4);return i[0]=d[0]+q[0],i[1]=d[1]+q[1],i[2]=d[2]+q[2],i[3]=d[3]+q[3],i}function Pn(d,q,o){const i=o??new f(4);return i[0]=d[0]-q[0],i[1]=d[1]-q[1],i[2]=d[2]-q[2],i[3]=d[3]-q[3],i}const In=Pn;function Gn(d,q,o){const i=o??new f(4);return i[0]=d[0]*q,i[1]=d[1]*q,i[2]=d[2]*q,i[3]=d[3]*q,i}const En=Gn;function Un(d,q,o){const i=o??new f(4);return i[0]=d[0]/q,i[1]=d[1]/q,i[2]=d[2]/q,i[3]=d[3]/q,i}function cn(d,q){return d[0]*q[0]+d[1]*q[1]+d[2]*q[2]+d[3]*q[3]}function Ln(d,q,o,i){const a=i??new f(4);return a[0]=d[0]+o*(q[0]-d[0]),a[1]=d[1]+o*(q[1]-d[1]),a[2]=d[2]+o*(q[2]-d[2]),a[3]=d[3]+o*(q[3]-d[3]),a}function j(d){const q=d[0],o=d[1],i=d[2],a=d[3];return Math.sqrt(q*q+o*o+i*i+a*a)}const N=j;function L(d){const q=d[0],o=d[1],i=d[2],a=d[3];return q*q+o*o+i*i+a*a}const w=L;function B(d,q){const o=q??new f(4),i=d[0],a=d[1],M=d[2],P=d[3],n=Math.sqrt(i*i+a*a+M*M+P*P);return n>1e-5?(o[0]=i/n,o[1]=a/n,o[2]=M/n,o[3]=P/n):(o[0]=0,o[1]=0,o[2]=0,o[3]=1),o}function p(d,q){return Math.abs(d[0]-q[0])<Z&&Math.abs(d[1]-q[1])<Z&&Math.abs(d[2]-q[2])<Z&&Math.abs(d[3]-q[3])<Z}function S(d,q){return d[0]===q[0]&&d[1]===q[1]&&d[2]===q[2]&&d[3]===q[3]}function $(d){const q=d??new f(4);return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q}const E=x.create(),Y=x.create(),_=x.create();function Q(d,q,o){const i=o??new f(4),a=x.dot(d,q);return a<-.999999?(x.cross(Y,d,E),x.len(E)<1e-6&&x.cross(_,d,E),x.normalize(E,E),b(E,Math.PI,i),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(x.cross(d,q,E),i[0]=E[0],i[1]=E[1],i[2]=E[2],i[3]=1+a,B(i,i))}const F=new f(4),R=new f(4);function H(d,q,o,i,a,M){const P=M??new f(4);return rn(d,i,a,F),rn(q,o,a,R),rn(F,R,2*a*(1-a),P),P}return{create:G,fromValues:J,set:k,fromAxisAngle:b,toAxisAngle:on,angle:C,multiply:Mn,mul:zn,rotateX:Dn,rotateY:dn,rotateZ:_n,slerp:rn,inverse:Rn,conjugate:qn,fromMat:Bn,fromEuler:Zn,copy:Sn,clone:pn,add:Xn,subtract:Pn,sub:In,mulScalar:Gn,scale:En,divScalar:Un,dot:cn,lerp:Ln,length:j,len:N,lengthSq:L,lenSq:w,normalize:B,equalsApproximately:p,equals:S,identity:$,rotationTo:Q,sqlerp:H}}const $t=new Map;function vt(f){let x=$t.get(f);return x||(x=kt(f),$t.set(f,x)),x}function bt(f){function x(o,i,a,M){const P=new f(4);return o!==void 0&&(P[0]=o,i!==void 0&&(P[1]=i,a!==void 0&&(P[2]=a,M!==void 0&&(P[3]=M)))),P}const G=x;function J(o,i,a,M,P){const n=P??new f(4);return n[0]=o,n[1]=i,n[2]=a,n[3]=M,n}function k(o,i){const a=i??new f(4);return a[0]=Math.ceil(o[0]),a[1]=Math.ceil(o[1]),a[2]=Math.ceil(o[2]),a[3]=Math.ceil(o[3]),a}function b(o,i){const a=i??new f(4);return a[0]=Math.floor(o[0]),a[1]=Math.floor(o[1]),a[2]=Math.floor(o[2]),a[3]=Math.floor(o[3]),a}function on(o,i){const a=i??new f(4);return a[0]=Math.round(o[0]),a[1]=Math.round(o[1]),a[2]=Math.round(o[2]),a[3]=Math.round(o[3]),a}function C(o,i=0,a=1,M){const P=M??new f(4);return P[0]=Math.min(a,Math.max(i,o[0])),P[1]=Math.min(a,Math.max(i,o[1])),P[2]=Math.min(a,Math.max(i,o[2])),P[3]=Math.min(a,Math.max(i,o[3])),P}function Mn(o,i,a){const M=a??new f(4);return M[0]=o[0]+i[0],M[1]=o[1]+i[1],M[2]=o[2]+i[2],M[3]=o[3]+i[3],M}function zn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+i[0]*a,P[1]=o[1]+i[1]*a,P[2]=o[2]+i[2]*a,P[3]=o[3]+i[3]*a,P}function Dn(o,i,a){const M=a??new f(4);return M[0]=o[0]-i[0],M[1]=o[1]-i[1],M[2]=o[2]-i[2],M[3]=o[3]-i[3],M}const dn=Dn;function _n(o,i){return Math.abs(o[0]-i[0])<Z&&Math.abs(o[1]-i[1])<Z&&Math.abs(o[2]-i[2])<Z&&Math.abs(o[3]-i[3])<Z}function rn(o,i){return o[0]===i[0]&&o[1]===i[1]&&o[2]===i[2]&&o[3]===i[3]}function Rn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+a*(i[0]-o[0]),P[1]=o[1]+a*(i[1]-o[1]),P[2]=o[2]+a*(i[2]-o[2]),P[3]=o[3]+a*(i[3]-o[3]),P}function qn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+a[0]*(i[0]-o[0]),P[1]=o[1]+a[1]*(i[1]-o[1]),P[2]=o[2]+a[2]*(i[2]-o[2]),P[3]=o[3]+a[3]*(i[3]-o[3]),P}function Bn(o,i,a){const M=a??new f(4);return M[0]=Math.max(o[0],i[0]),M[1]=Math.max(o[1],i[1]),M[2]=Math.max(o[2],i[2]),M[3]=Math.max(o[3],i[3]),M}function Zn(o,i,a){const M=a??new f(4);return M[0]=Math.min(o[0],i[0]),M[1]=Math.min(o[1],i[1]),M[2]=Math.min(o[2],i[2]),M[3]=Math.min(o[3],i[3]),M}function Sn(o,i,a){const M=a??new f(4);return M[0]=o[0]*i,M[1]=o[1]*i,M[2]=o[2]*i,M[3]=o[3]*i,M}const pn=Sn;function Xn(o,i,a){const M=a??new f(4);return M[0]=o[0]/i,M[1]=o[1]/i,M[2]=o[2]/i,M[3]=o[3]/i,M}function Pn(o,i){const a=i??new f(4);return a[0]=1/o[0],a[1]=1/o[1],a[2]=1/o[2],a[3]=1/o[3],a}const In=Pn;function Gn(o,i){return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]*i[3]}function En(o){const i=o[0],a=o[1],M=o[2],P=o[3];return Math.sqrt(i*i+a*a+M*M+P*P)}const Un=En;function cn(o){const i=o[0],a=o[1],M=o[2],P=o[3];return i*i+a*a+M*M+P*P}const Ln=cn;function j(o,i){const a=o[0]-i[0],M=o[1]-i[1],P=o[2]-i[2],n=o[3]-i[3];return Math.sqrt(a*a+M*M+P*P+n*n)}const N=j;function L(o,i){const a=o[0]-i[0],M=o[1]-i[1],P=o[2]-i[2],n=o[3]-i[3];return a*a+M*M+P*P+n*n}const w=L;function B(o,i){const a=i??new f(4),M=o[0],P=o[1],n=o[2],e=o[3],t=Math.sqrt(M*M+P*P+n*n+e*e);return t>1e-5?(a[0]=M/t,a[1]=P/t,a[2]=n/t,a[3]=e/t):(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function p(o,i){const a=i??new f(4);return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=-o[3],a}function S(o,i){const a=i??new f(4);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a}const $=S;function E(o,i,a){const M=a??new f(4);return M[0]=o[0]*i[0],M[1]=o[1]*i[1],M[2]=o[2]*i[2],M[3]=o[3]*i[3],M}const Y=E;function _(o,i,a){const M=a??new f(4);return M[0]=o[0]/i[0],M[1]=o[1]/i[1],M[2]=o[2]/i[2],M[3]=o[3]/i[3],M}const Q=_;function F(o){const i=o??new f(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function R(o,i,a){const M=a??new f(4),P=o[0],n=o[1],e=o[2],t=o[3];return M[0]=i[0]*P+i[4]*n+i[8]*e+i[12]*t,M[1]=i[1]*P+i[5]*n+i[9]*e+i[13]*t,M[2]=i[2]*P+i[6]*n+i[10]*e+i[14]*t,M[3]=i[3]*P+i[7]*n+i[11]*e+i[15]*t,M}function H(o,i,a){const M=a??new f(4);return B(o,M),Sn(M,i,M)}function d(o,i,a){const M=a??new f(4);return En(o)>i?H(o,i,M):S(o,M)}function q(o,i,a){const M=a??new f(4);return Rn(o,i,.5,M)}return{create:x,fromValues:G,set:J,ceil:k,floor:b,round:on,clamp:C,add:Mn,addScaled:zn,subtract:Dn,sub:dn,equalsApproximately:_n,equals:rn,lerp:Rn,lerpV:qn,max:Bn,min:Zn,mulScalar:Sn,scale:pn,divScalar:Xn,inverse:Pn,invert:In,dot:Gn,length:En,len:Un,lengthSq:cn,lenSq:Ln,distance:j,dist:N,distanceSq:L,distSq:w,normalize:B,negate:p,copy:S,clone:$,multiply:E,mul:Y,divide:_,div:Q,zero:F,transformMat4:R,setLength:H,truncate:d,midpoint:q}}const Tt=new Map;function mt(f){let x=Tt.get(f);return x||(x=bt(f),Tt.set(f,x)),x}function gt(f,x,G,J,k,b){return{mat4:Kt(f),mat3:Ht(x),quat:vt(G),vec2:Rt(J),vec3:yt(k),vec4:mt(b)}}const{mat4:ss,mat3:Qn,quat:cs,vec2:Ft,vec3:es,vec4:os}=gt(Float32Array,Float32Array,Float32Array,Float32Array,Float32Array,Float32Array);gt(Float64Array,Float64Array,Float64Array,Float64Array,Float64Array,Float64Array);gt(Qt,Array,Array,Array,Array,Array);var m,On,Cn,jn,ot,it,rt,ut,Nn,Hn,nt,Kn,Fn,tt,st,kn,ft,vn,Yn,ct,bn,et,Jn,Wn,Gt,Ot,Yt,xt;class is{constructor(x){K(this,Wn);K(this,m);K(this,On);K(this,Cn,0);K(this,jn,!1);K(this,ot,Qn.create());K(this,it,Qn.create());K(this,rt,Qn.create());K(this,ut,Qn.create());K(this,Nn);K(this,Hn);K(this,nt);K(this,Kn);K(this,Fn);K(this,tt);K(this,st);K(this,kn);K(this,ft);K(this,vn,new Float32Array([1,1]));K(this,Yn,new Float32Array([0,0]));K(this,ct,new Float32Array([0,0]));K(this,bn,new Float32Array([0,0]));K(this,et);K(this,Jn,Pt({min:Ft.create(),max:Ft.create()}));!x.segments&&_t(Zt.REQUIRED_SEGMENTS),sn(this,Nn,x.label??"Shape"),sn(this,On,x.radius??0),sn(this,m,x.renderer),sn(this,Hn,x.segments);const{startAngle:G,endAngle:J,innerRadius:k}=x;mn(this,Wn,Gt).call(this,G,J,k),mn(this,Wn,Ot).call(this),mn(this,Wn,Yt).call(this),this.Scale=I(this,vn),this.Origin=I(this,Yn),this.Rotation=I(this,Cn),this.Position=I(this,bn)}Update(){return I(this,m).SetVertexBuffers(I(this,st)),I(this,m).SetIndexBuffer(I(this,tt)),I(this,m).SetBindGroups(I(this,ft)),mn(this,Wn,xt).call(this)}Render(x=!0){I(this,m).SavePipelineState(),I(this,m).Render(I(this.Update(),nt),x),I(this,m).RestorePipelineState()}set Color(x){I(this,Kn).set(Array.isArray(x)||ArrayBuffer.isView(x)?x:x.rgba),I(this,m).WriteBuffer(I(this,kn),I(this,Kn),I(this,et).color)}get Color(){return I(this,Kn)}set Position(x){I(this,bn).set(x),Qn.translation(I(this,bn),I(this,ut)),sn(this,jn,!0)}get Position(){return I(this,bn)}set Rotation(x){Qn.rotation(sn(this,Cn,x),I(this,rt)),sn(this,jn,!0)}get Rotation(){return I(this,Cn)}set Scale(x){I(this,vn).set(x),Qn.scaling(I(this,vn),I(this,it)),sn(this,jn,!0)}get Scale(){return I(this,vn)}set Origin(x){I(this,Yn)[0]=x[0],I(this,Yn)[1]=x[1],I(this,Yn)[0]*=-I(this,On),I(this,Yn)[1]*=-I(this,On),Qn.translation(I(this,Yn),I(this,ot)),I(this,Yn)[0]=x[0]||0,I(this,Yn)[1]=x[1]||0,sn(this,jn,!0)}get Origin(){return I(this,Yn)}get Center(){return I(mn(this,Wn,xt).call(this),ct)}get Vertices(){return I(this,nt)}get Transform(){return I(this,Fn)}get BoundingBox(){return I(this,Jn)}}m=new WeakMap,On=new WeakMap,Cn=new WeakMap,jn=new WeakMap,ot=new WeakMap,it=new WeakMap,rt=new WeakMap,ut=new WeakMap,Nn=new WeakMap,Hn=new WeakMap,nt=new WeakMap,Kn=new WeakMap,Fn=new WeakMap,tt=new WeakMap,st=new WeakMap,kn=new WeakMap,ft=new WeakMap,vn=new WeakMap,Yn=new WeakMap,ct=new WeakMap,bn=new WeakMap,et=new WeakMap,Jn=new WeakMap,Wn=new WeakSet,Gt=function(x=0,G=Xt.TAU,J=0){const k=G-x,b=new Float32Array((I(this,Hn)+1)*2*3);for(let on=0,C=0;C<=I(this,Hn);++C){const Mn=x+C*k/I(this,Hn),zn=Math.cos(Mn),Dn=Math.sin(Mn);b[on++]=zn*I(this,On),b[on++]=Dn*I(this,On),b[on++]=zn*J,b[on++]=Dn*J}sn(this,st,I(this,m).CreateBuffer({size:b.byteLength,label:`${I(this,Nn)} Vertex Buffer`,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST})),I(this,m).WriteBuffer(I(this,st),b)},Ot=function(){const x=new Uint32Array(sn(this,nt,I(this,Hn)*6));for(let G=0,J=0;J<I(this,Hn);++J){const k=J*2;x[G++]=k+1,x[G++]=k+3,x[G++]=k+2,x[G++]=k+2,x[G++]=k+0,x[G++]=k+1}sn(this,tt,I(this,m).CreateBuffer({size:x.byteLength,label:`${I(this,Nn)} Index Buffer`,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST})),I(this,m).WriteBuffer(I(this,tt),x)},Yt=function(){const{buffer:x,shape:{color:G,matrix:J}}=I(this,m).CreateUniformBuffer("shape",{label:`${I(this,Nn)} Uniform Buffer`});sn(this,kn,x),sn(this,Fn,J),sn(this,Kn,G),sn(this,ft,I(this,m).CreateBindGroup(I(this,m).CreateBindGroupEntries([{buffer:I(this,m).ResolutionBuffer},{buffer:I(this,kn)}]),0,`${I(this,Nn)} Bind Group`)),sn(this,et,Pt({matrix:G.length*Float32Array.BYTES_PER_ELEMENT,color:0*Float32Array.BYTES_PER_ELEMENT}))},xt=function(){if(I(this,jn)){Qn.multiply(I(this,ut),I(this,rt),I(this,Fn)),Qn.multiply(I(this,Fn),I(this,it),I(this,Fn)),Qn.multiply(I(this,Fn),I(this,ot),I(this,Fn)),I(this,m).WriteBuffer(I(this,kn),I(this,Fn),I(this,et).matrix);const x=I(this,ct)[0]=I(this,Fn)[8],G=I(this,ct)[1]=I(this,Fn)[9];I(this,Jn).min[0]=x-I(this,On),I(this,Jn).min[1]=G-I(this,On),I(this,Jn).max[0]=x+I(this,On),I(this,Jn).max[1]=G+I(this,On),sn(this,jn,!1)}return this};export{ts as S,is as a};
