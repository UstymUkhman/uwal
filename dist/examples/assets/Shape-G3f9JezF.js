var Bt=f=>{throw TypeError(f)};var pt=(f,x,G)=>x.has(f)||Bt("Cannot "+G);var I=(f,x,G)=>(pt(f,x,"read from private field"),G?G.call(f):x.get(f)),K=(f,x,G)=>x.has(f)?Bt("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(f):x.set(f,G),b=(f,x,G,J)=>(pt(f,x,"write to private field"),J?J.call(f,G):x.set(f,G),G),nt=(f,x,G)=>(pt(f,x,"access private method"),G);import{a as Pt,T as Yt,E as _t,N as Qt}from"./index-DhAsEbgo.js";var ts="struct Shape{color: vec4f,matrix: mat3x3f};@group(0)@binding(0)var<uniform>resolution: vec2f;fn GetClipSpace(position: vec2f)->vec2f{let clipSpace=position/resolution*2-1;return clipSpace*vec2f(1,-1);}@group(0)@binding(1)var<uniform>shape: Shape;fn GetVertexClipSpace(position: vec2f)->vec4f{let matrixPosition=shape.matrix*vec3f(position,1);let clipSpace=GetClipSpace(matrixPosition.xy);return vec4f(clipSpace,0.0,1.0);}@vertex fn vertex(@location(0)position: vec2f)->@builtin(position)vec4f {return GetVertexClipSpace(position);}";function Xt(f,x){return class extends f{constructor(...G){super(...G),x(this)}}}const Lt=Xt(Array,f=>f.fill(0));let _=1e-6;function Wt(f){function x(n=0,e=0){const t=new f(2);return n!==void 0&&(t[0]=n,e!==void 0&&(t[1]=e)),t}const G=x;function J(n,e,t){const s=t??new f(2);return s[0]=n,s[1]=e,s}function k(n,e){const t=e??new f(2);return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function m(n,e){const t=e??new f(2);return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function on(n,e){const t=e??new f(2);return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function nn(n,e=0,t=1,s){const u=s??new f(2);return u[0]=Math.min(t,Math.max(e,n[0])),u[1]=Math.min(t,Math.max(e,n[1])),u}function Mn(n,e,t){const s=t??new f(2);return s[0]=n[0]+e[0],s[1]=n[1]+e[1],s}function zn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+e[0]*t,u[1]=n[1]+e[1]*t,u}function Dn(n,e){const t=n[0],s=n[1],u=e[0],D=e[1],A=Math.sqrt(t*t+s*s),c=Math.sqrt(u*u+D*D),r=A*c,h=r&&Vn(n,e)/r;return Math.acos(h)}function dn(n,e,t){const s=t??new f(2);return s[0]=n[0]-e[0],s[1]=n[1]-e[1],s}const Yn=dn;function rn(n,e){return Math.abs(n[0]-e[0])<_&&Math.abs(n[1]-e[1])<_}function Un(n,e){return n[0]===e[0]&&n[1]===e[1]}function qn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+t*(e[0]-n[0]),u[1]=n[1]+t*(e[1]-n[1]),u}function Bn(n,e,t,s){const u=s??new f(2);return u[0]=n[0]+t[0]*(e[0]-n[0]),u[1]=n[1]+t[1]*(e[1]-n[1]),u}function _n(n,e,t){const s=t??new f(2);return s[0]=Math.max(n[0],e[0]),s[1]=Math.max(n[1],e[1]),s}function Sn(n,e,t){const s=t??new f(2);return s[0]=Math.min(n[0],e[0]),s[1]=Math.min(n[1],e[1]),s}function pn(n,e,t){const s=t??new f(2);return s[0]=n[0]*e,s[1]=n[1]*e,s}const Qn=pn;function Pn(n,e,t){const s=t??new f(2);return s[0]=n[0]/e,s[1]=n[1]/e,s}function In(n,e){const t=e??new f(2);return t[0]=1/n[0],t[1]=1/n[1],t}const Gn=In;function En(n,e,t){const s=t??new f(3),u=n[0]*e[1]-n[1]*e[0];return s[0]=0,s[1]=0,s[2]=u,s}function Vn(n,e){return n[0]*e[0]+n[1]*e[1]}function cn(n){const e=n[0],t=n[1];return Math.sqrt(e*e+t*t)}const Xn=cn;function j(n){const e=n[0],t=n[1];return e*e+t*t}const N=j;function X(n,e){const t=n[0]-e[0],s=n[1]-e[1];return Math.sqrt(t*t+s*s)}const w=X;function B(n,e){const t=n[0]-e[0],s=n[1]-e[1];return t*t+s*s}const p=B;function S(n,e){const t=e??new f(2),s=n[0],u=n[1],D=Math.sqrt(s*s+u*u);return D>1e-5?(t[0]=s/D,t[1]=u/D):(t[0]=0,t[1]=0),t}function T(n,e){const t=e??new f(2);return t[0]=-n[0],t[1]=-n[1],t}function E(n,e){const t=e??new f(2);return t[0]=n[0],t[1]=n[1],t}const Z=E;function Y(n,e,t){const s=t??new f(2);return s[0]=n[0]*e[0],s[1]=n[1]*e[1],s}const L=Y;function R(n,e,t){const s=t??new f(2);return s[0]=n[0]/e[0],s[1]=n[1]/e[1],s}const U=R;function H(n=1,e){const t=e??new f(2),s=Math.random()*2*Math.PI;return t[0]=Math.cos(s)*n,t[1]=Math.sin(s)*n,t}function d(n){const e=n??new f(2);return e[0]=0,e[1]=0,e}function q(n,e,t){const s=t??new f(2),u=n[0],D=n[1];return s[0]=u*e[0]+D*e[4]+e[12],s[1]=u*e[1]+D*e[5]+e[13],s}function o(n,e,t){const s=t??new f(2),u=n[0],D=n[1];return s[0]=e[0]*u+e[4]*D+e[8],s[1]=e[1]*u+e[5]*D+e[9],s}function i(n,e,t,s){const u=s??new f(2),D=n[0]-e[0],A=n[1]-e[1],c=Math.sin(t),r=Math.cos(t);return u[0]=D*r-A*c+e[0],u[1]=D*c+A*r+e[1],u}function a(n,e,t){const s=t??new f(2);return S(n,s),pn(s,e,s)}function M(n,e,t){const s=t??new f(2);return cn(n)>e?a(n,e,s):E(n,s)}function P(n,e,t){const s=t??new f(2);return qn(n,e,.5,s)}return{create:x,fromValues:G,set:J,ceil:k,floor:m,round:on,clamp:nn,add:Mn,addScaled:zn,angle:Dn,subtract:dn,sub:Yn,equalsApproximately:rn,equals:Un,lerp:qn,lerpV:Bn,max:_n,min:Sn,mulScalar:pn,scale:Qn,divScalar:Pn,inverse:In,invert:Gn,cross:En,dot:Vn,length:cn,len:Xn,lengthSq:j,lenSq:N,distance:X,dist:w,distanceSq:B,distSq:p,normalize:S,negate:T,copy:E,clone:Z,multiply:Y,mul:L,divide:R,div:U,random:H,zero:d,transformMat4:q,transformMat3:o,rotate:i,setLength:a,truncate:M,midpoint:P}}const It=new Map;function Ut(f){let x=It.get(f);return x||(x=Wt(f),It.set(f,x)),x}function jt(f){const x=Ut(f);function G(w,B,p,S,T,E,Z,Y,L){const R=new f(12);return R[3]=0,R[7]=0,R[11]=0,w!==void 0&&(R[0]=w,B!==void 0&&(R[1]=B,p!==void 0&&(R[2]=p,S!==void 0&&(R[4]=S,T!==void 0&&(R[5]=T,E!==void 0&&(R[6]=E,Z!==void 0&&(R[8]=Z,Y!==void 0&&(R[9]=Y,L!==void 0&&(R[10]=L))))))))),R}function J(w,B,p,S,T,E,Z,Y,L,R){const U=R??new f(12);return U[0]=w,U[1]=B,U[2]=p,U[3]=0,U[4]=S,U[5]=T,U[6]=E,U[7]=0,U[8]=Z,U[9]=Y,U[10]=L,U[11]=0,U}function k(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[3]=0,p[4]=w[4],p[5]=w[5],p[6]=w[6],p[7]=0,p[8]=w[8],p[9]=w[9],p[10]=w[10],p[11]=0,p}function m(w,B){const p=B??new f(12),S=w[0],T=w[1],E=w[2],Z=w[3],Y=S+S,L=T+T,R=E+E,U=S*Y,H=T*Y,d=T*L,q=E*Y,o=E*L,i=E*R,a=Z*Y,M=Z*L,P=Z*R;return p[0]=1-d-i,p[1]=H+P,p[2]=q-M,p[3]=0,p[4]=H-P,p[5]=1-U-i,p[6]=o+a,p[7]=0,p[8]=q+M,p[9]=o-a,p[10]=1-U-d,p[11]=0,p}function on(w,B){const p=B??new f(12);return p[0]=-w[0],p[1]=-w[1],p[2]=-w[2],p[4]=-w[4],p[5]=-w[5],p[6]=-w[6],p[8]=-w[8],p[9]=-w[9],p[10]=-w[10],p}function nn(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=w[1],p[2]=w[2],p[4]=w[4],p[5]=w[5],p[6]=w[6],p[8]=w[8],p[9]=w[9],p[10]=w[10],p}const Mn=nn;function zn(w,B){return Math.abs(w[0]-B[0])<_&&Math.abs(w[1]-B[1])<_&&Math.abs(w[2]-B[2])<_&&Math.abs(w[4]-B[4])<_&&Math.abs(w[5]-B[5])<_&&Math.abs(w[6]-B[6])<_&&Math.abs(w[8]-B[8])<_&&Math.abs(w[9]-B[9])<_&&Math.abs(w[10]-B[10])<_}function Dn(w,B){return w[0]===B[0]&&w[1]===B[1]&&w[2]===B[2]&&w[4]===B[4]&&w[5]===B[5]&&w[6]===B[6]&&w[8]===B[8]&&w[9]===B[9]&&w[10]===B[10]}function dn(w){const B=w??new f(12);return B[0]=1,B[1]=0,B[2]=0,B[4]=0,B[5]=1,B[6]=0,B[8]=0,B[9]=0,B[10]=1,B}function Yn(w,B){const p=B??new f(12);if(p===w){let d;return d=w[1],w[1]=w[4],w[4]=d,d=w[2],w[2]=w[8],w[8]=d,d=w[6],w[6]=w[9],w[9]=d,p}const S=w[0*4+0],T=w[0*4+1],E=w[0*4+2],Z=w[1*4+0],Y=w[1*4+1],L=w[1*4+2],R=w[2*4+0],U=w[2*4+1],H=w[2*4+2];return p[0]=S,p[1]=Z,p[2]=R,p[4]=T,p[5]=Y,p[6]=U,p[8]=E,p[9]=L,p[10]=H,p}function rn(w,B){const p=B??new f(12),S=w[0*4+0],T=w[0*4+1],E=w[0*4+2],Z=w[1*4+0],Y=w[1*4+1],L=w[1*4+2],R=w[2*4+0],U=w[2*4+1],H=w[2*4+2],d=H*Y-L*U,q=-H*Z+L*R,o=U*Z-Y*R,i=1/(S*d+T*q+E*o);return p[0]=d*i,p[1]=(-H*T+E*U)*i,p[2]=(L*T-E*Y)*i,p[4]=q*i,p[5]=(H*S-E*R)*i,p[6]=(-L*S+E*Z)*i,p[8]=o*i,p[9]=(-U*S+T*R)*i,p[10]=(Y*S-T*Z)*i,p}function Un(w){const B=w[0],p=w[0*4+1],S=w[0*4+2],T=w[1*4+0],E=w[1*4+1],Z=w[1*4+2],Y=w[2*4+0],L=w[2*4+1],R=w[2*4+2];return B*(E*R-L*Z)-T*(p*R-L*S)+Y*(p*Z-E*S)}const qn=rn;function Bn(w,B,p){const S=p??new f(12),T=w[0],E=w[1],Z=w[2],Y=w[4],L=w[5],R=w[6],U=w[8],H=w[9],d=w[10],q=B[0],o=B[1],i=B[2],a=B[4],M=B[5],P=B[6],n=B[8],e=B[9],t=B[10];return S[0]=T*q+Y*o+U*i,S[1]=E*q+L*o+H*i,S[2]=Z*q+R*o+d*i,S[4]=T*a+Y*M+U*P,S[5]=E*a+L*M+H*P,S[6]=Z*a+R*M+d*P,S[8]=T*n+Y*e+U*t,S[9]=E*n+L*e+H*t,S[10]=Z*n+R*e+d*t,S}const _n=Bn;function Sn(w,B,p){const S=p??dn();return w!==S&&(S[0]=w[0],S[1]=w[1],S[2]=w[2],S[4]=w[4],S[5]=w[5],S[6]=w[6]),S[8]=B[0],S[9]=B[1],S[10]=1,S}function pn(w,B){const p=B??x.create();return p[0]=w[8],p[1]=w[9],p}function Qn(w,B,p){const S=p??x.create(),T=B*4;return S[0]=w[T+0],S[1]=w[T+1],S}function Pn(w,B,p,S){const T=S===w?w:nn(w,S),E=p*4;return T[E+0]=B[0],T[E+1]=B[1],T}function In(w,B){const p=B??x.create(),S=w[0],T=w[1],E=w[4],Z=w[5];return p[0]=Math.sqrt(S*S+T*T),p[1]=Math.sqrt(E*E+Z*Z),p}function Gn(w,B){const p=B??new f(12);return p[0]=1,p[1]=0,p[2]=0,p[4]=0,p[5]=1,p[6]=0,p[8]=w[0],p[9]=w[1],p[10]=1,p}function En(w,B,p){const S=p??new f(12),T=B[0],E=B[1],Z=w[0],Y=w[1],L=w[2],R=w[1*4+0],U=w[1*4+1],H=w[1*4+2],d=w[2*4+0],q=w[2*4+1],o=w[2*4+2];return w!==S&&(S[0]=Z,S[1]=Y,S[2]=L,S[4]=R,S[5]=U,S[6]=H),S[8]=Z*T+R*E+d,S[9]=Y*T+U*E+q,S[10]=L*T+H*E+o,S}function Vn(w,B){const p=B??new f(12),S=Math.cos(w),T=Math.sin(w);return p[0]=S,p[1]=T,p[2]=0,p[4]=-T,p[5]=S,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function cn(w,B,p){const S=p??new f(12),T=w[0*4+0],E=w[0*4+1],Z=w[0*4+2],Y=w[1*4+0],L=w[1*4+1],R=w[1*4+2],U=Math.cos(B),H=Math.sin(B);return S[0]=U*T+H*Y,S[1]=U*E+H*L,S[2]=U*Z+H*R,S[4]=U*Y-H*T,S[5]=U*L-H*E,S[6]=U*R-H*Z,w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function Xn(w,B){const p=B??new f(12);return p[0]=w[0],p[1]=0,p[2]=0,p[4]=0,p[5]=w[1],p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function j(w,B,p){const S=p??new f(12),T=B[0],E=B[1];return S[0]=T*w[0*4+0],S[1]=T*w[0*4+1],S[2]=T*w[0*4+2],S[4]=E*w[1*4+0],S[5]=E*w[1*4+1],S[6]=E*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}function N(w,B){const p=B??new f(12);return p[0]=w,p[1]=0,p[2]=0,p[4]=0,p[5]=w,p[6]=0,p[8]=0,p[9]=0,p[10]=1,p}function X(w,B,p){const S=p??new f(12);return S[0]=B*w[0*4+0],S[1]=B*w[0*4+1],S[2]=B*w[0*4+2],S[4]=B*w[1*4+0],S[5]=B*w[1*4+1],S[6]=B*w[1*4+2],w!==S&&(S[8]=w[8],S[9]=w[9],S[10]=w[10]),S}return{clone:Mn,create:G,set:J,fromMat4:k,fromQuat:m,negate:on,copy:nn,equalsApproximately:zn,equals:Dn,identity:dn,transpose:Yn,inverse:rn,invert:qn,determinant:Un,mul:_n,multiply:Bn,setTranslation:Sn,getTranslation:pn,getAxis:Qn,setAxis:Pn,getScaling:In,translation:Gn,translate:En,rotation:Vn,rotate:cn,scaling:Xn,scale:j,uniformScaling:N,uniformScale:X}}const Et=new Map;function Ht(f){let x=Et.get(f);return x||(x=jt(f),Et.set(f,x)),x}function Nt(f){function x(c,r,h){const l=new f(3);return c!==void 0&&(l[0]=c,r!==void 0&&(l[1]=r,h!==void 0&&(l[2]=h))),l}const G=x;function J(c,r,h,l){const y=l??new f(3);return y[0]=c,y[1]=r,y[2]=h,y}function k(c,r){const h=r??new f(3);return h[0]=Math.ceil(c[0]),h[1]=Math.ceil(c[1]),h[2]=Math.ceil(c[2]),h}function m(c,r){const h=r??new f(3);return h[0]=Math.floor(c[0]),h[1]=Math.floor(c[1]),h[2]=Math.floor(c[2]),h}function on(c,r){const h=r??new f(3);return h[0]=Math.round(c[0]),h[1]=Math.round(c[1]),h[2]=Math.round(c[2]),h}function nn(c,r=0,h=1,l){const y=l??new f(3);return y[0]=Math.min(h,Math.max(r,c[0])),y[1]=Math.min(h,Math.max(r,c[1])),y[2]=Math.min(h,Math.max(r,c[2])),y}function Mn(c,r,h){const l=h??new f(3);return l[0]=c[0]+r[0],l[1]=c[1]+r[1],l[2]=c[2]+r[2],l}function zn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+r[0]*h,y[1]=c[1]+r[1]*h,y[2]=c[2]+r[2]*h,y}function Dn(c,r){const h=c[0],l=c[1],y=c[2],g=r[0],z=r[1],F=r[2],O=Math.sqrt(h*h+l*l+y*y),V=Math.sqrt(g*g+z*z+F*F),$=O*V,Q=$&&Vn(c,r)/$;return Math.acos(Q)}function dn(c,r,h){const l=h??new f(3);return l[0]=c[0]-r[0],l[1]=c[1]-r[1],l[2]=c[2]-r[2],l}const Yn=dn;function rn(c,r){return Math.abs(c[0]-r[0])<_&&Math.abs(c[1]-r[1])<_&&Math.abs(c[2]-r[2])<_}function Un(c,r){return c[0]===r[0]&&c[1]===r[1]&&c[2]===r[2]}function qn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+h*(r[0]-c[0]),y[1]=c[1]+h*(r[1]-c[1]),y[2]=c[2]+h*(r[2]-c[2]),y}function Bn(c,r,h,l){const y=l??new f(3);return y[0]=c[0]+h[0]*(r[0]-c[0]),y[1]=c[1]+h[1]*(r[1]-c[1]),y[2]=c[2]+h[2]*(r[2]-c[2]),y}function _n(c,r,h){const l=h??new f(3);return l[0]=Math.max(c[0],r[0]),l[1]=Math.max(c[1],r[1]),l[2]=Math.max(c[2],r[2]),l}function Sn(c,r,h){const l=h??new f(3);return l[0]=Math.min(c[0],r[0]),l[1]=Math.min(c[1],r[1]),l[2]=Math.min(c[2],r[2]),l}function pn(c,r,h){const l=h??new f(3);return l[0]=c[0]*r,l[1]=c[1]*r,l[2]=c[2]*r,l}const Qn=pn;function Pn(c,r,h){const l=h??new f(3);return l[0]=c[0]/r,l[1]=c[1]/r,l[2]=c[2]/r,l}function In(c,r){const h=r??new f(3);return h[0]=1/c[0],h[1]=1/c[1],h[2]=1/c[2],h}const Gn=In;function En(c,r,h){const l=h??new f(3),y=c[2]*r[0]-c[0]*r[2],g=c[0]*r[1]-c[1]*r[0];return l[0]=c[1]*r[2]-c[2]*r[1],l[1]=y,l[2]=g,l}function Vn(c,r){return c[0]*r[0]+c[1]*r[1]+c[2]*r[2]}function cn(c){const r=c[0],h=c[1],l=c[2];return Math.sqrt(r*r+h*h+l*l)}const Xn=cn;function j(c){const r=c[0],h=c[1],l=c[2];return r*r+h*h+l*l}const N=j;function X(c,r){const h=c[0]-r[0],l=c[1]-r[1],y=c[2]-r[2];return Math.sqrt(h*h+l*l+y*y)}const w=X;function B(c,r){const h=c[0]-r[0],l=c[1]-r[1],y=c[2]-r[2];return h*h+l*l+y*y}const p=B;function S(c,r){const h=r??new f(3),l=c[0],y=c[1],g=c[2],z=Math.sqrt(l*l+y*y+g*g);return z>1e-5?(h[0]=l/z,h[1]=y/z,h[2]=g/z):(h[0]=0,h[1]=0,h[2]=0),h}function T(c,r){const h=r??new f(3);return h[0]=-c[0],h[1]=-c[1],h[2]=-c[2],h}function E(c,r){const h=r??new f(3);return h[0]=c[0],h[1]=c[1],h[2]=c[2],h}const Z=E;function Y(c,r,h){const l=h??new f(3);return l[0]=c[0]*r[0],l[1]=c[1]*r[1],l[2]=c[2]*r[2],l}const L=Y;function R(c,r,h){const l=h??new f(3);return l[0]=c[0]/r[0],l[1]=c[1]/r[1],l[2]=c[2]/r[2],l}const U=R;function H(c=1,r){const h=r??new f(3),l=Math.random()*2*Math.PI,y=Math.random()*2-1,g=Math.sqrt(1-y*y)*c;return h[0]=Math.cos(l)*g,h[1]=Math.sin(l)*g,h[2]=y*c,h}function d(c){const r=c??new f(3);return r[0]=0,r[1]=0,r[2]=0,r}function q(c,r,h){const l=h??new f(3),y=c[0],g=c[1],z=c[2],F=r[3]*y+r[7]*g+r[11]*z+r[15]||1;return l[0]=(r[0]*y+r[4]*g+r[8]*z+r[12])/F,l[1]=(r[1]*y+r[5]*g+r[9]*z+r[13])/F,l[2]=(r[2]*y+r[6]*g+r[10]*z+r[14])/F,l}function o(c,r,h){const l=h??new f(3),y=c[0],g=c[1],z=c[2];return l[0]=y*r[0*4+0]+g*r[1*4+0]+z*r[2*4+0],l[1]=y*r[0*4+1]+g*r[1*4+1]+z*r[2*4+1],l[2]=y*r[0*4+2]+g*r[1*4+2]+z*r[2*4+2],l}function i(c,r,h){const l=h??new f(3),y=c[0],g=c[1],z=c[2];return l[0]=y*r[0]+g*r[4]+z*r[8],l[1]=y*r[1]+g*r[5]+z*r[9],l[2]=y*r[2]+g*r[6]+z*r[10],l}function a(c,r,h){const l=h??new f(3),y=r[0],g=r[1],z=r[2],F=r[3]*2,O=c[0],V=c[1],$=c[2],Q=g*$-z*V,W=z*O-y*$,v=y*V-g*O;return l[0]=O+Q*F+(g*v-z*W)*2,l[1]=V+W*F+(z*Q-y*v)*2,l[2]=$+v*F+(y*W-g*Q)*2,l}function M(c,r){const h=r??new f(3);return h[0]=c[12],h[1]=c[13],h[2]=c[14],h}function P(c,r,h){const l=h??new f(3),y=r*4;return l[0]=c[y+0],l[1]=c[y+1],l[2]=c[y+2],l}function n(c,r){const h=r??new f(3),l=c[0],y=c[1],g=c[2],z=c[4],F=c[5],O=c[6],V=c[8],$=c[9],Q=c[10];return h[0]=Math.sqrt(l*l+y*y+g*g),h[1]=Math.sqrt(z*z+F*F+O*O),h[2]=Math.sqrt(V*V+$*$+Q*Q),h}function e(c,r,h,l){const y=l??new f(3),g=[],z=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],z[0]=g[0],z[1]=g[1]*Math.cos(h)-g[2]*Math.sin(h),z[2]=g[1]*Math.sin(h)+g[2]*Math.cos(h),y[0]=z[0]+r[0],y[1]=z[1]+r[1],y[2]=z[2]+r[2],y}function t(c,r,h,l){const y=l??new f(3),g=[],z=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],z[0]=g[2]*Math.sin(h)+g[0]*Math.cos(h),z[1]=g[1],z[2]=g[2]*Math.cos(h)-g[0]*Math.sin(h),y[0]=z[0]+r[0],y[1]=z[1]+r[1],y[2]=z[2]+r[2],y}function s(c,r,h,l){const y=l??new f(3),g=[],z=[];return g[0]=c[0]-r[0],g[1]=c[1]-r[1],g[2]=c[2]-r[2],z[0]=g[0]*Math.cos(h)-g[1]*Math.sin(h),z[1]=g[0]*Math.sin(h)+g[1]*Math.cos(h),z[2]=g[2],y[0]=z[0]+r[0],y[1]=z[1]+r[1],y[2]=z[2]+r[2],y}function u(c,r,h){const l=h??new f(3);return S(c,l),pn(l,r,l)}function D(c,r,h){const l=h??new f(3);return cn(c)>r?u(c,r,l):E(c,l)}function A(c,r,h){const l=h??new f(3);return qn(c,r,.5,l)}return{create:x,fromValues:G,set:J,ceil:k,floor:m,round:on,clamp:nn,add:Mn,addScaled:zn,angle:Dn,subtract:dn,sub:Yn,equalsApproximately:rn,equals:Un,lerp:qn,lerpV:Bn,max:_n,min:Sn,mulScalar:pn,scale:Qn,divScalar:Pn,inverse:In,invert:Gn,cross:En,dot:Vn,length:cn,len:Xn,lengthSq:j,lenSq:N,distance:X,dist:w,distanceSq:B,distSq:p,normalize:S,negate:T,copy:E,clone:Z,multiply:Y,mul:L,divide:R,div:U,random:H,zero:d,transformMat4:q,transformMat4Upper3x3:o,transformMat3:i,transformQuat:a,getTranslation:M,getAxis:P,getScaling:n,rotateX:e,rotateY:t,rotateZ:s,setLength:u,truncate:D,midpoint:A}}const Vt=new Map;function yt(f){let x=Vt.get(f);return x||(x=Nt(f),Vt.set(f,x)),x}function Jt(f){const x=yt(f);function G(n,e,t,s,u,D,A,c,r,h,l,y,g,z,F,O){const V=new f(16);return n!==void 0&&(V[0]=n,e!==void 0&&(V[1]=e,t!==void 0&&(V[2]=t,s!==void 0&&(V[3]=s,u!==void 0&&(V[4]=u,D!==void 0&&(V[5]=D,A!==void 0&&(V[6]=A,c!==void 0&&(V[7]=c,r!==void 0&&(V[8]=r,h!==void 0&&(V[9]=h,l!==void 0&&(V[10]=l,y!==void 0&&(V[11]=y,g!==void 0&&(V[12]=g,z!==void 0&&(V[13]=z,F!==void 0&&(V[14]=F,O!==void 0&&(V[15]=O)))))))))))))))),V}function J(n,e,t,s,u,D,A,c,r,h,l,y,g,z,F,O,V){const $=V??new f(16);return $[0]=n,$[1]=e,$[2]=t,$[3]=s,$[4]=u,$[5]=D,$[6]=A,$[7]=c,$[8]=r,$[9]=h,$[10]=l,$[11]=y,$[12]=g,$[13]=z,$[14]=F,$[15]=O,$}function k(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=0,t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function m(n,e){const t=e??new f(16),s=n[0],u=n[1],D=n[2],A=n[3],c=s+s,r=u+u,h=D+D,l=s*c,y=u*c,g=u*r,z=D*c,F=D*r,O=D*h,V=A*c,$=A*r,Q=A*h;return t[0]=1-g-O,t[1]=y+Q,t[2]=z-$,t[3]=0,t[4]=y-Q,t[5]=1-l-O,t[6]=F+V,t[7]=0,t[8]=z+$,t[9]=F-V,t[10]=1-l-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function on(n,e){const t=e??new f(16);return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t}function nn(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}const Mn=nn;function zn(n,e){return Math.abs(n[0]-e[0])<_&&Math.abs(n[1]-e[1])<_&&Math.abs(n[2]-e[2])<_&&Math.abs(n[3]-e[3])<_&&Math.abs(n[4]-e[4])<_&&Math.abs(n[5]-e[5])<_&&Math.abs(n[6]-e[6])<_&&Math.abs(n[7]-e[7])<_&&Math.abs(n[8]-e[8])<_&&Math.abs(n[9]-e[9])<_&&Math.abs(n[10]-e[10])<_&&Math.abs(n[11]-e[11])<_&&Math.abs(n[12]-e[12])<_&&Math.abs(n[13]-e[13])<_&&Math.abs(n[14]-e[14])<_&&Math.abs(n[15]-e[15])<_}function Dn(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]}function dn(n){const e=n??new f(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Yn(n,e){const t=e??new f(16);if(t===n){let W;return W=n[1],n[1]=n[4],n[4]=W,W=n[2],n[2]=n[8],n[8]=W,W=n[3],n[3]=n[12],n[12]=W,W=n[6],n[6]=n[9],n[9]=W,W=n[7],n[7]=n[13],n[13]=W,W=n[11],n[11]=n[14],n[14]=W,t}const s=n[0*4+0],u=n[0*4+1],D=n[0*4+2],A=n[0*4+3],c=n[1*4+0],r=n[1*4+1],h=n[1*4+2],l=n[1*4+3],y=n[2*4+0],g=n[2*4+1],z=n[2*4+2],F=n[2*4+3],O=n[3*4+0],V=n[3*4+1],$=n[3*4+2],Q=n[3*4+3];return t[0]=s,t[1]=c,t[2]=y,t[3]=O,t[4]=u,t[5]=r,t[6]=g,t[7]=V,t[8]=D,t[9]=h,t[10]=z,t[11]=$,t[12]=A,t[13]=l,t[14]=F,t[15]=Q,t}function rn(n,e){const t=e??new f(16),s=n[0*4+0],u=n[0*4+1],D=n[0*4+2],A=n[0*4+3],c=n[1*4+0],r=n[1*4+1],h=n[1*4+2],l=n[1*4+3],y=n[2*4+0],g=n[2*4+1],z=n[2*4+2],F=n[2*4+3],O=n[3*4+0],V=n[3*4+1],$=n[3*4+2],Q=n[3*4+3],W=z*Q,v=$*F,tn=h*Q,sn=$*l,en=h*F,un=z*l,fn=D*Q,an=$*A,wn=D*F,hn=z*A,xn=D*l,yn=h*A,gn=y*V,An=O*g,$n=c*V,Tn=O*r,Fn=c*g,at=y*r,wt=s*V,ht=O*u,lt=s*g,Mt=y*u,Dt=s*r,dt=c*u,At=W*r+sn*g+en*V-(v*r+tn*g+un*V),zt=v*u+fn*g+hn*V-(W*u+an*g+wn*V),St=tn*u+an*r+xn*V-(sn*u+fn*r+yn*V),qt=un*u+wn*r+yn*g-(en*u+hn*r+xn*g),ln=1/(s*At+c*zt+y*St+O*qt);return t[0]=ln*At,t[1]=ln*zt,t[2]=ln*St,t[3]=ln*qt,t[4]=ln*(v*c+tn*y+un*O-(W*c+sn*y+en*O)),t[5]=ln*(W*s+an*y+wn*O-(v*s+fn*y+hn*O)),t[6]=ln*(sn*s+fn*c+yn*O-(tn*s+an*c+xn*O)),t[7]=ln*(en*s+hn*c+xn*y-(un*s+wn*c+yn*y)),t[8]=ln*(gn*l+Tn*F+Fn*Q-(An*l+$n*F+at*Q)),t[9]=ln*(An*A+wt*F+Mt*Q-(gn*A+ht*F+lt*Q)),t[10]=ln*($n*A+ht*l+Dt*Q-(Tn*A+wt*l+dt*Q)),t[11]=ln*(at*A+lt*l+dt*F-(Fn*A+Mt*l+Dt*F)),t[12]=ln*($n*z+at*$+An*h-(Fn*$+gn*h+Tn*z)),t[13]=ln*(lt*$+gn*D+ht*z-(wt*z+Mt*$+An*D)),t[14]=ln*(wt*h+dt*$+Tn*D-(Dt*$+$n*D+ht*h)),t[15]=ln*(Dt*z+Fn*D+Mt*h-(lt*h+dt*z+at*D)),t}function Un(n){const e=n[0],t=n[0*4+1],s=n[0*4+2],u=n[0*4+3],D=n[1*4+0],A=n[1*4+1],c=n[1*4+2],r=n[1*4+3],h=n[2*4+0],l=n[2*4+1],y=n[2*4+2],g=n[2*4+3],z=n[3*4+0],F=n[3*4+1],O=n[3*4+2],V=n[3*4+3],$=y*V,Q=O*g,W=c*V,v=O*r,tn=c*g,sn=y*r,en=s*V,un=O*u,fn=s*g,an=y*u,wn=s*r,hn=c*u,xn=$*A+v*l+tn*F-(Q*A+W*l+sn*F),yn=Q*t+en*l+an*F-($*t+un*l+fn*F),gn=W*t+un*A+wn*F-(v*t+en*A+hn*F),An=sn*t+fn*A+hn*l-(tn*t+an*A+wn*l);return e*xn+D*yn+h*gn+z*An}const qn=rn;function Bn(n,e,t){const s=t??new f(16),u=n[0],D=n[1],A=n[2],c=n[3],r=n[4],h=n[5],l=n[6],y=n[7],g=n[8],z=n[9],F=n[10],O=n[11],V=n[12],$=n[13],Q=n[14],W=n[15],v=e[0],tn=e[1],sn=e[2],en=e[3],un=e[4],fn=e[5],an=e[6],wn=e[7],hn=e[8],xn=e[9],yn=e[10],gn=e[11],An=e[12],$n=e[13],Tn=e[14],Fn=e[15];return s[0]=u*v+r*tn+g*sn+V*en,s[1]=D*v+h*tn+z*sn+$*en,s[2]=A*v+l*tn+F*sn+Q*en,s[3]=c*v+y*tn+O*sn+W*en,s[4]=u*un+r*fn+g*an+V*wn,s[5]=D*un+h*fn+z*an+$*wn,s[6]=A*un+l*fn+F*an+Q*wn,s[7]=c*un+y*fn+O*an+W*wn,s[8]=u*hn+r*xn+g*yn+V*gn,s[9]=D*hn+h*xn+z*yn+$*gn,s[10]=A*hn+l*xn+F*yn+Q*gn,s[11]=c*hn+y*xn+O*yn+W*gn,s[12]=u*An+r*$n+g*Tn+V*Fn,s[13]=D*An+h*$n+z*Tn+$*Fn,s[14]=A*An+l*$n+F*Tn+Q*Fn,s[15]=c*An+y*$n+O*Tn+W*Fn,s}const _n=Bn;function Sn(n,e,t){const s=t??dn();return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11]),s[12]=e[0],s[13]=e[1],s[14]=e[2],s[15]=1,s}function pn(n,e){const t=e??x.create();return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function Qn(n,e,t){const s=t??x.create(),u=e*4;return s[0]=n[u+0],s[1]=n[u+1],s[2]=n[u+2],s}function Pn(n,e,t,s){const u=s===n?s:nn(n,s),D=t*4;return u[D+0]=e[0],u[D+1]=e[1],u[D+2]=e[2],u}function In(n,e){const t=e??x.create(),s=n[0],u=n[1],D=n[2],A=n[4],c=n[5],r=n[6],h=n[8],l=n[9],y=n[10];return t[0]=Math.sqrt(s*s+u*u+D*D),t[1]=Math.sqrt(A*A+c*c+r*r),t[2]=Math.sqrt(h*h+l*l+y*y),t}function Gn(n,e,t,s,u){const D=u??new f(16),A=Math.tan(Math.PI*.5-.5*n);if(D[0]=A/e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=A,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,Number.isFinite(s)){const c=1/(t-s);D[10]=s*c,D[14]=s*t*c}else D[10]=-1,D[14]=-t;return D}function En(n,e,t,s=1/0,u){const D=u??new f(16),A=1/Math.tan(n*.5);if(D[0]=A/e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=A,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,s===1/0)D[10]=0,D[14]=t;else{const c=1/(s-t);D[10]=t*c,D[14]=s*t*c}return D}function Vn(n,e,t,s,u,D,A){const c=A??new f(16);return c[0]=2/(e-n),c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2/(s-t),c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1/(u-D),c[11]=0,c[12]=(e+n)/(n-e),c[13]=(s+t)/(t-s),c[14]=u/(u-D),c[15]=1,c}function cn(n,e,t,s,u,D,A){const c=A??new f(16),r=e-n,h=s-t,l=u-D;return c[0]=2*u/r,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*u/h,c[6]=0,c[7]=0,c[8]=(n+e)/r,c[9]=(s+t)/h,c[10]=D/l,c[11]=-1,c[12]=0,c[13]=0,c[14]=u*D/l,c[15]=0,c}function Xn(n,e,t,s,u,D=1/0,A){const c=A??new f(16),r=e-n,h=s-t;if(c[0]=2*u/r,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*u/h,c[6]=0,c[7]=0,c[8]=(n+e)/r,c[9]=(s+t)/h,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,D===1/0)c[10]=0,c[14]=u;else{const l=1/(D-u);c[10]=u*l,c[14]=D*u*l}return c}const j=x.create(),N=x.create(),X=x.create();function w(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(e,n,X),X),x.normalize(x.cross(t,X,j),j),x.normalize(x.cross(X,j,N),N),u[0]=j[0],u[1]=j[1],u[2]=j[2],u[3]=0,u[4]=N[0],u[5]=N[1],u[6]=N[2],u[7]=0,u[8]=X[0],u[9]=X[1],u[10]=X[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function B(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(n,e,X),X),x.normalize(x.cross(t,X,j),j),x.normalize(x.cross(X,j,N),N),u[0]=j[0],u[1]=j[1],u[2]=j[2],u[3]=0,u[4]=N[0],u[5]=N[1],u[6]=N[2],u[7]=0,u[8]=X[0],u[9]=X[1],u[10]=X[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function p(n,e,t,s){const u=s??new f(16);return x.normalize(x.subtract(n,e,X),X),x.normalize(x.cross(t,X,j),j),x.normalize(x.cross(X,j,N),N),u[0]=j[0],u[1]=N[0],u[2]=X[0],u[3]=0,u[4]=j[1],u[5]=N[1],u[6]=X[1],u[7]=0,u[8]=j[2],u[9]=N[2],u[10]=X[2],u[11]=0,u[12]=-(j[0]*n[0]+j[1]*n[1]+j[2]*n[2]),u[13]=-(N[0]*n[0]+N[1]*n[1]+N[2]*n[2]),u[14]=-(X[0]*n[0]+X[1]*n[1]+X[2]*n[2]),u[15]=1,u}function S(n,e){const t=e??new f(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function T(n,e,t){const s=t??new f(16),u=e[0],D=e[1],A=e[2],c=n[0],r=n[1],h=n[2],l=n[3],y=n[1*4+0],g=n[1*4+1],z=n[1*4+2],F=n[1*4+3],O=n[2*4+0],V=n[2*4+1],$=n[2*4+2],Q=n[2*4+3],W=n[3*4+0],v=n[3*4+1],tn=n[3*4+2],sn=n[3*4+3];return n!==s&&(s[0]=c,s[1]=r,s[2]=h,s[3]=l,s[4]=y,s[5]=g,s[6]=z,s[7]=F,s[8]=O,s[9]=V,s[10]=$,s[11]=Q),s[12]=c*u+y*D+O*A+W,s[13]=r*u+g*D+V*A+v,s[14]=h*u+z*D+$*A+tn,s[15]=l*u+F*D+Q*A+sn,s}function E(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=u,t[7]=0,t[8]=0,t[9]=-u,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Z(n,e,t){const s=t??new f(16),u=n[4],D=n[5],A=n[6],c=n[7],r=n[8],h=n[9],l=n[10],y=n[11],g=Math.cos(e),z=Math.sin(e);return s[4]=g*u+z*r,s[5]=g*D+z*h,s[6]=g*A+z*l,s[7]=g*c+z*y,s[8]=g*r-z*u,s[9]=g*h-z*D,s[10]=g*l-z*A,s[11]=g*y-z*c,n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function Y(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=s,t[1]=0,t[2]=-u,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=u,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(n,e,t){const s=t??new f(16),u=n[0*4+0],D=n[0*4+1],A=n[0*4+2],c=n[0*4+3],r=n[2*4+0],h=n[2*4+1],l=n[2*4+2],y=n[2*4+3],g=Math.cos(e),z=Math.sin(e);return s[0]=g*u-z*r,s[1]=g*D-z*h,s[2]=g*A-z*l,s[3]=g*c-z*y,s[8]=g*r+z*u,s[9]=g*h+z*D,s[10]=g*l+z*A,s[11]=g*y+z*c,n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function R(n,e){const t=e??new f(16),s=Math.cos(n),u=Math.sin(n);return t[0]=s,t[1]=u,t[2]=0,t[3]=0,t[4]=-u,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(n,e,t){const s=t??new f(16),u=n[0*4+0],D=n[0*4+1],A=n[0*4+2],c=n[0*4+3],r=n[1*4+0],h=n[1*4+1],l=n[1*4+2],y=n[1*4+3],g=Math.cos(e),z=Math.sin(e);return s[0]=g*u+z*r,s[1]=g*D+z*h,s[2]=g*A+z*l,s[3]=g*c+z*y,s[4]=g*r-z*u,s[5]=g*h-z*D,s[6]=g*l-z*A,s[7]=g*y-z*c,n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function H(n,e,t){const s=t??new f(16);let u=n[0],D=n[1],A=n[2];const c=Math.sqrt(u*u+D*D+A*A);u/=c,D/=c,A/=c;const r=u*u,h=D*D,l=A*A,y=Math.cos(e),g=Math.sin(e),z=1-y;return s[0]=r+(1-r)*y,s[1]=u*D*z+A*g,s[2]=u*A*z-D*g,s[3]=0,s[4]=u*D*z-A*g,s[5]=h+(1-h)*y,s[6]=D*A*z+u*g,s[7]=0,s[8]=u*A*z+D*g,s[9]=D*A*z-u*g,s[10]=l+(1-l)*y,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}const d=H;function q(n,e,t,s){const u=s??new f(16);let D=e[0],A=e[1],c=e[2];const r=Math.sqrt(D*D+A*A+c*c);D/=r,A/=r,c/=r;const h=D*D,l=A*A,y=c*c,g=Math.cos(t),z=Math.sin(t),F=1-g,O=h+(1-h)*g,V=D*A*F+c*z,$=D*c*F-A*z,Q=D*A*F-c*z,W=l+(1-l)*g,v=A*c*F+D*z,tn=D*c*F+A*z,sn=A*c*F-D*z,en=y+(1-y)*g,un=n[0],fn=n[1],an=n[2],wn=n[3],hn=n[4],xn=n[5],yn=n[6],gn=n[7],An=n[8],$n=n[9],Tn=n[10],Fn=n[11];return u[0]=O*un+V*hn+$*An,u[1]=O*fn+V*xn+$*$n,u[2]=O*an+V*yn+$*Tn,u[3]=O*wn+V*gn+$*Fn,u[4]=Q*un+W*hn+v*An,u[5]=Q*fn+W*xn+v*$n,u[6]=Q*an+W*yn+v*Tn,u[7]=Q*wn+W*gn+v*Fn,u[8]=tn*un+sn*hn+en*An,u[9]=tn*fn+sn*xn+en*$n,u[10]=tn*an+sn*yn+en*Tn,u[11]=tn*wn+sn*gn+en*Fn,n!==u&&(u[12]=n[12],u[13]=n[13],u[14]=n[14],u[15]=n[15]),u}const o=q;function i(n,e){const t=e??new f(16);return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(n,e,t){const s=t??new f(16),u=e[0],D=e[1],A=e[2];return s[0]=u*n[0*4+0],s[1]=u*n[0*4+1],s[2]=u*n[0*4+2],s[3]=u*n[0*4+3],s[4]=D*n[1*4+0],s[5]=D*n[1*4+1],s[6]=D*n[1*4+2],s[7]=D*n[1*4+3],s[8]=A*n[2*4+0],s[9]=A*n[2*4+1],s[10]=A*n[2*4+2],s[11]=A*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}function M(n,e){const t=e??new f(16);return t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(n,e,t){const s=t??new f(16);return s[0]=e*n[0*4+0],s[1]=e*n[0*4+1],s[2]=e*n[0*4+2],s[3]=e*n[0*4+3],s[4]=e*n[1*4+0],s[5]=e*n[1*4+1],s[6]=e*n[1*4+2],s[7]=e*n[1*4+3],s[8]=e*n[2*4+0],s[9]=e*n[2*4+1],s[10]=e*n[2*4+2],s[11]=e*n[2*4+3],n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s}return{create:G,set:J,fromMat3:k,fromQuat:m,negate:on,copy:nn,clone:Mn,equalsApproximately:zn,equals:Dn,identity:dn,transpose:Yn,inverse:rn,determinant:Un,invert:qn,multiply:Bn,mul:_n,setTranslation:Sn,getTranslation:pn,getAxis:Qn,setAxis:Pn,getScaling:In,perspective:Gn,perspectiveReverseZ:En,ortho:Vn,frustum:cn,frustumReverseZ:Xn,aim:w,cameraAim:B,lookAt:p,translation:S,translate:T,rotationX:E,rotateX:Z,rotationY:Y,rotateY:L,rotationZ:R,rotateZ:U,axisRotation:H,rotation:d,axisRotate:q,rotate:o,scaling:i,scale:a,uniformScaling:M,uniformScale:P}}const $t=new Map;function Kt(f){let x=$t.get(f);return x||(x=Jt(f),$t.set(f,x)),x}function kt(f){const x=yt(f);function G(d,q,o,i){const a=new f(4);return d!==void 0&&(a[0]=d,q!==void 0&&(a[1]=q,o!==void 0&&(a[2]=o,i!==void 0&&(a[3]=i)))),a}const J=G;function k(d,q,o,i,a){const M=a??new f(4);return M[0]=d,M[1]=q,M[2]=o,M[3]=i,M}function m(d,q,o){const i=o??new f(4),a=q*.5,M=Math.sin(a);return i[0]=M*d[0],i[1]=M*d[1],i[2]=M*d[2],i[3]=Math.cos(a),i}function on(d,q){const o=q??x.create(3),i=Math.acos(d[3])*2,a=Math.sin(i*.5);return a>_?(o[0]=d[0]/a,o[1]=d[1]/a,o[2]=d[2]/a):(o[0]=1,o[1]=0,o[2]=0),{angle:i,axis:o}}function nn(d,q){const o=cn(d,q);return Math.acos(2*o*o-1)}function Mn(d,q,o){const i=o??new f(4),a=d[0],M=d[1],P=d[2],n=d[3],e=q[0],t=q[1],s=q[2],u=q[3];return i[0]=a*u+n*e+M*s-P*t,i[1]=M*u+n*t+P*e-a*s,i[2]=P*u+n*s+a*t-M*e,i[3]=n*u-a*e-M*t-P*s,i}const zn=Mn;function Dn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s+e*t,i[1]=P*s+n*t,i[2]=n*s-P*t,i[3]=e*s-M*t,i}function dn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s-n*t,i[1]=P*s+e*t,i[2]=n*s+M*t,i[3]=e*s-P*t,i}function Yn(d,q,o){const i=o??new f(4),a=q*.5,M=d[0],P=d[1],n=d[2],e=d[3],t=Math.sin(a),s=Math.cos(a);return i[0]=M*s+P*t,i[1]=P*s-M*t,i[2]=n*s+e*t,i[3]=e*s-n*t,i}function rn(d,q,o,i){const a=i??new f(4),M=d[0],P=d[1],n=d[2],e=d[3];let t=q[0],s=q[1],u=q[2],D=q[3],A=M*t+P*s+n*u+e*D;A<0&&(A=-A,t=-t,s=-s,u=-u,D=-D);let c,r;if(1-A>_){const h=Math.acos(A),l=Math.sin(h);c=Math.sin((1-o)*h)/l,r=Math.sin(o*h)/l}else c=1-o,r=o;return a[0]=c*M+r*t,a[1]=c*P+r*s,a[2]=c*n+r*u,a[3]=c*e+r*D,a}function Un(d,q){const o=q??new f(4),i=d[0],a=d[1],M=d[2],P=d[3],n=i*i+a*a+M*M+P*P,e=n?1/n:0;return o[0]=-i*e,o[1]=-a*e,o[2]=-M*e,o[3]=P*e,o}function qn(d,q){const o=q??new f(4);return o[0]=-d[0],o[1]=-d[1],o[2]=-d[2],o[3]=d[3],o}function Bn(d,q){const o=q??new f(4),i=d[0]+d[5]+d[10];if(i>0){const a=Math.sqrt(i+1);o[3]=.5*a;const M=.5/a;o[0]=(d[6]-d[9])*M,o[1]=(d[8]-d[2])*M,o[2]=(d[1]-d[4])*M}else{let a=0;d[5]>d[0]&&(a=1),d[10]>d[a*4+a]&&(a=2);const M=(a+1)%3,P=(a+2)%3,n=Math.sqrt(d[a*4+a]-d[M*4+M]-d[P*4+P]+1);o[a]=.5*n;const e=.5/n;o[3]=(d[M*4+P]-d[P*4+M])*e,o[M]=(d[M*4+a]+d[a*4+M])*e,o[P]=(d[P*4+a]+d[a*4+P])*e}return o}function _n(d,q,o,i,a){const M=a??new f(4),P=d*.5,n=q*.5,e=o*.5,t=Math.sin(P),s=Math.cos(P),u=Math.sin(n),D=Math.cos(n),A=Math.sin(e),c=Math.cos(e);switch(i){case"xyz":M[0]=t*D*c+s*u*A,M[1]=s*u*c-t*D*A,M[2]=s*D*A+t*u*c,M[3]=s*D*c-t*u*A;break;case"xzy":M[0]=t*D*c-s*u*A,M[1]=s*u*c-t*D*A,M[2]=s*D*A+t*u*c,M[3]=s*D*c+t*u*A;break;case"yxz":M[0]=t*D*c+s*u*A,M[1]=s*u*c-t*D*A,M[2]=s*D*A-t*u*c,M[3]=s*D*c+t*u*A;break;case"yzx":M[0]=t*D*c+s*u*A,M[1]=s*u*c+t*D*A,M[2]=s*D*A-t*u*c,M[3]=s*D*c-t*u*A;break;case"zxy":M[0]=t*D*c-s*u*A,M[1]=s*u*c+t*D*A,M[2]=s*D*A+t*u*c,M[3]=s*D*c-t*u*A;break;case"zyx":M[0]=t*D*c-s*u*A,M[1]=s*u*c+t*D*A,M[2]=s*D*A-t*u*c,M[3]=s*D*c+t*u*A;break;default:throw new Error(`Unknown rotation order: ${i}`)}return M}function Sn(d,q){const o=q??new f(4);return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o}const pn=Sn;function Qn(d,q,o){const i=o??new f(4);return i[0]=d[0]+q[0],i[1]=d[1]+q[1],i[2]=d[2]+q[2],i[3]=d[3]+q[3],i}function Pn(d,q,o){const i=o??new f(4);return i[0]=d[0]-q[0],i[1]=d[1]-q[1],i[2]=d[2]-q[2],i[3]=d[3]-q[3],i}const In=Pn;function Gn(d,q,o){const i=o??new f(4);return i[0]=d[0]*q,i[1]=d[1]*q,i[2]=d[2]*q,i[3]=d[3]*q,i}const En=Gn;function Vn(d,q,o){const i=o??new f(4);return i[0]=d[0]/q,i[1]=d[1]/q,i[2]=d[2]/q,i[3]=d[3]/q,i}function cn(d,q){return d[0]*q[0]+d[1]*q[1]+d[2]*q[2]+d[3]*q[3]}function Xn(d,q,o,i){const a=i??new f(4);return a[0]=d[0]+o*(q[0]-d[0]),a[1]=d[1]+o*(q[1]-d[1]),a[2]=d[2]+o*(q[2]-d[2]),a[3]=d[3]+o*(q[3]-d[3]),a}function j(d){const q=d[0],o=d[1],i=d[2],a=d[3];return Math.sqrt(q*q+o*o+i*i+a*a)}const N=j;function X(d){const q=d[0],o=d[1],i=d[2],a=d[3];return q*q+o*o+i*i+a*a}const w=X;function B(d,q){const o=q??new f(4),i=d[0],a=d[1],M=d[2],P=d[3],n=Math.sqrt(i*i+a*a+M*M+P*P);return n>1e-5?(o[0]=i/n,o[1]=a/n,o[2]=M/n,o[3]=P/n):(o[0]=0,o[1]=0,o[2]=0,o[3]=1),o}function p(d,q){return Math.abs(d[0]-q[0])<_&&Math.abs(d[1]-q[1])<_&&Math.abs(d[2]-q[2])<_&&Math.abs(d[3]-q[3])<_}function S(d,q){return d[0]===q[0]&&d[1]===q[1]&&d[2]===q[2]&&d[3]===q[3]}function T(d){const q=d??new f(4);return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q}const E=x.create(),Z=x.create(),Y=x.create();function L(d,q,o){const i=o??new f(4),a=x.dot(d,q);return a<-.999999?(x.cross(Z,d,E),x.len(E)<1e-6&&x.cross(Y,d,E),x.normalize(E,E),m(E,Math.PI,i),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(x.cross(d,q,E),i[0]=E[0],i[1]=E[1],i[2]=E[2],i[3]=1+a,B(i,i))}const R=new f(4),U=new f(4);function H(d,q,o,i,a,M){const P=M??new f(4);return rn(d,i,a,R),rn(q,o,a,U),rn(R,U,2*a*(1-a),P),P}return{create:G,fromValues:J,set:k,fromAxisAngle:m,toAxisAngle:on,angle:nn,multiply:Mn,mul:zn,rotateX:Dn,rotateY:dn,rotateZ:Yn,slerp:rn,inverse:Un,conjugate:qn,fromMat:Bn,fromEuler:_n,copy:Sn,clone:pn,add:Qn,subtract:Pn,sub:In,mulScalar:Gn,scale:En,divScalar:Vn,dot:cn,lerp:Xn,length:j,len:N,lengthSq:X,lenSq:w,normalize:B,equalsApproximately:p,equals:S,identity:T,rotationTo:L,sqlerp:H}}const Tt=new Map;function vt(f){let x=Tt.get(f);return x||(x=kt(f),Tt.set(f,x)),x}function bt(f){function x(o,i,a,M){const P=new f(4);return o!==void 0&&(P[0]=o,i!==void 0&&(P[1]=i,a!==void 0&&(P[2]=a,M!==void 0&&(P[3]=M)))),P}const G=x;function J(o,i,a,M,P){const n=P??new f(4);return n[0]=o,n[1]=i,n[2]=a,n[3]=M,n}function k(o,i){const a=i??new f(4);return a[0]=Math.ceil(o[0]),a[1]=Math.ceil(o[1]),a[2]=Math.ceil(o[2]),a[3]=Math.ceil(o[3]),a}function m(o,i){const a=i??new f(4);return a[0]=Math.floor(o[0]),a[1]=Math.floor(o[1]),a[2]=Math.floor(o[2]),a[3]=Math.floor(o[3]),a}function on(o,i){const a=i??new f(4);return a[0]=Math.round(o[0]),a[1]=Math.round(o[1]),a[2]=Math.round(o[2]),a[3]=Math.round(o[3]),a}function nn(o,i=0,a=1,M){const P=M??new f(4);return P[0]=Math.min(a,Math.max(i,o[0])),P[1]=Math.min(a,Math.max(i,o[1])),P[2]=Math.min(a,Math.max(i,o[2])),P[3]=Math.min(a,Math.max(i,o[3])),P}function Mn(o,i,a){const M=a??new f(4);return M[0]=o[0]+i[0],M[1]=o[1]+i[1],M[2]=o[2]+i[2],M[3]=o[3]+i[3],M}function zn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+i[0]*a,P[1]=o[1]+i[1]*a,P[2]=o[2]+i[2]*a,P[3]=o[3]+i[3]*a,P}function Dn(o,i,a){const M=a??new f(4);return M[0]=o[0]-i[0],M[1]=o[1]-i[1],M[2]=o[2]-i[2],M[3]=o[3]-i[3],M}const dn=Dn;function Yn(o,i){return Math.abs(o[0]-i[0])<_&&Math.abs(o[1]-i[1])<_&&Math.abs(o[2]-i[2])<_&&Math.abs(o[3]-i[3])<_}function rn(o,i){return o[0]===i[0]&&o[1]===i[1]&&o[2]===i[2]&&o[3]===i[3]}function Un(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+a*(i[0]-o[0]),P[1]=o[1]+a*(i[1]-o[1]),P[2]=o[2]+a*(i[2]-o[2]),P[3]=o[3]+a*(i[3]-o[3]),P}function qn(o,i,a,M){const P=M??new f(4);return P[0]=o[0]+a[0]*(i[0]-o[0]),P[1]=o[1]+a[1]*(i[1]-o[1]),P[2]=o[2]+a[2]*(i[2]-o[2]),P[3]=o[3]+a[3]*(i[3]-o[3]),P}function Bn(o,i,a){const M=a??new f(4);return M[0]=Math.max(o[0],i[0]),M[1]=Math.max(o[1],i[1]),M[2]=Math.max(o[2],i[2]),M[3]=Math.max(o[3],i[3]),M}function _n(o,i,a){const M=a??new f(4);return M[0]=Math.min(o[0],i[0]),M[1]=Math.min(o[1],i[1]),M[2]=Math.min(o[2],i[2]),M[3]=Math.min(o[3],i[3]),M}function Sn(o,i,a){const M=a??new f(4);return M[0]=o[0]*i,M[1]=o[1]*i,M[2]=o[2]*i,M[3]=o[3]*i,M}const pn=Sn;function Qn(o,i,a){const M=a??new f(4);return M[0]=o[0]/i,M[1]=o[1]/i,M[2]=o[2]/i,M[3]=o[3]/i,M}function Pn(o,i){const a=i??new f(4);return a[0]=1/o[0],a[1]=1/o[1],a[2]=1/o[2],a[3]=1/o[3],a}const In=Pn;function Gn(o,i){return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]*i[3]}function En(o){const i=o[0],a=o[1],M=o[2],P=o[3];return Math.sqrt(i*i+a*a+M*M+P*P)}const Vn=En;function cn(o){const i=o[0],a=o[1],M=o[2],P=o[3];return i*i+a*a+M*M+P*P}const Xn=cn;function j(o,i){const a=o[0]-i[0],M=o[1]-i[1],P=o[2]-i[2],n=o[3]-i[3];return Math.sqrt(a*a+M*M+P*P+n*n)}const N=j;function X(o,i){const a=o[0]-i[0],M=o[1]-i[1],P=o[2]-i[2],n=o[3]-i[3];return a*a+M*M+P*P+n*n}const w=X;function B(o,i){const a=i??new f(4),M=o[0],P=o[1],n=o[2],e=o[3],t=Math.sqrt(M*M+P*P+n*n+e*e);return t>1e-5?(a[0]=M/t,a[1]=P/t,a[2]=n/t,a[3]=e/t):(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function p(o,i){const a=i??new f(4);return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=-o[3],a}function S(o,i){const a=i??new f(4);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a}const T=S;function E(o,i,a){const M=a??new f(4);return M[0]=o[0]*i[0],M[1]=o[1]*i[1],M[2]=o[2]*i[2],M[3]=o[3]*i[3],M}const Z=E;function Y(o,i,a){const M=a??new f(4);return M[0]=o[0]/i[0],M[1]=o[1]/i[1],M[2]=o[2]/i[2],M[3]=o[3]/i[3],M}const L=Y;function R(o){const i=o??new f(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}function U(o,i,a){const M=a??new f(4),P=o[0],n=o[1],e=o[2],t=o[3];return M[0]=i[0]*P+i[4]*n+i[8]*e+i[12]*t,M[1]=i[1]*P+i[5]*n+i[9]*e+i[13]*t,M[2]=i[2]*P+i[6]*n+i[10]*e+i[14]*t,M[3]=i[3]*P+i[7]*n+i[11]*e+i[15]*t,M}function H(o,i,a){const M=a??new f(4);return B(o,M),Sn(M,i,M)}function d(o,i,a){const M=a??new f(4);return En(o)>i?H(o,i,M):S(o,M)}function q(o,i,a){const M=a??new f(4);return Un(o,i,.5,M)}return{create:x,fromValues:G,set:J,ceil:k,floor:m,round:on,clamp:nn,add:Mn,addScaled:zn,subtract:Dn,sub:dn,equalsApproximately:Yn,equals:rn,lerp:Un,lerpV:qn,max:Bn,min:_n,mulScalar:Sn,scale:pn,divScalar:Qn,inverse:Pn,invert:In,dot:Gn,length:En,len:Vn,lengthSq:cn,lenSq:Xn,distance:j,dist:N,distanceSq:X,distSq:w,normalize:B,negate:p,copy:S,clone:T,multiply:E,mul:Z,divide:Y,div:L,zero:R,transformMat4:U,setLength:H,truncate:d,midpoint:q}}const Ft=new Map;function mt(f){let x=Ft.get(f);return x||(x=bt(f),Ft.set(f,x)),x}function gt(f,x,G,J,k,m){return{mat4:Kt(f),mat3:Ht(x),quat:vt(G),vec2:Ut(J),vec3:yt(k),vec4:mt(m)}}const{mat4:ss,mat3:Ln,quat:cs,vec2:Rt,vec3:es,vec4:os}=gt(Float32Array,Float32Array,Float32Array,Float32Array,Float32Array,Float32Array);gt(Float64Array,Float64Array,Float64Array,Float64Array,Float64Array,Float64Array);gt(Lt,Array,Array,Array,Array,Array);var On,tt,jn,ot,it,rt,ut,Jn,Hn,st,C,bn,Rn,Kn,kn,Nn,ft,mn,Zn,ct,Cn,et,vn,Wn,Gt,Ot,Zt,xt;class is{constructor(x){K(this,Wn);K(this,On);K(this,tt,0);K(this,jn,!1);K(this,ot,Ln.create());K(this,it,Ln.create());K(this,rt,Ln.create());K(this,ut,Ln.create());K(this,Jn);K(this,Hn);K(this,st);K(this,C);K(this,bn);K(this,Rn);K(this,Kn);K(this,kn);K(this,Nn);K(this,ft);K(this,mn,new Float32Array([1,1]));K(this,Zn,new Float32Array([0,0]));K(this,ct,new Float32Array([0,0]));K(this,Cn,new Float32Array([0,0]));K(this,et);K(this,vn,Pt({min:Rt.create(),max:Rt.create()}));!x.segments&&Yt(_t.REQUIRED_SEGMENTS),b(this,Jn,x.label??"Shape"),b(this,On,x.radius??0),b(this,C,x.renderer),b(this,Hn,x.segments);const{startAngle:G,endAngle:J,innerRadius:k}=x;nt(this,Wn,Gt).call(this,G,J,k),nt(this,Wn,Ot).call(this),nt(this,Wn,Zt).call(this),this.Scale=I(this,mn),this.Origin=I(this,Zn),this.Rotation=I(this,tt),this.Position=I(this,Cn)}Update(){return I(this,C).SetVertexBuffers(I(this,kn)),I(this,C).SetIndexBuffer(I(this,Kn)),I(this,C).SetBindGroups(I(this,ft)),nt(this,Wn,xt).call(this)}Render(x=!0){I(this,C).SavePipelineState(),I(this,C).Render(I(this.Update(),st),x),I(this,C).RestorePipelineState()}set Color(x){I(this,bn).set(Array.isArray(x)||ArrayBuffer.isView(x)?x:x.rgba),I(this,C).WriteBuffer(I(this,Nn),I(this,bn),I(this,et).color)}get Color(){return I(this,bn)}set Position(x){I(this,Cn).set(x),Ln.translation(I(this,Cn),I(this,ut)),b(this,jn,!0)}get Position(){return I(this,Cn)}set Rotation(x){Ln.rotation(b(this,tt,x),I(this,rt)),b(this,jn,!0)}get Rotation(){return I(this,tt)}set Scale(x){I(this,mn).set(x),Ln.scaling(I(this,mn),I(this,it)),b(this,jn,!0)}get Scale(){return I(this,mn)}set Origin(x){I(this,Zn)[0]=x[0],I(this,Zn)[1]=x[1],I(this,Zn)[0]*=-I(this,On),I(this,Zn)[1]*=-I(this,On),Ln.translation(I(this,Zn),I(this,ot)),I(this,Zn)[0]=x[0]||0,I(this,Zn)[1]=x[1]||0,b(this,jn,!0)}get Origin(){return I(this,Zn)}get Center(){return I(nt(this,Wn,xt).call(this),ct)}get Vertices(){return I(this,st)}get Transform(){return I(this,Rn)}get BoundingBox(){return I(this,vn)}Destroy(){b(this,Kn,I(this,Kn).destroy()),b(this,kn,I(this,kn).destroy()),b(this,Nn,I(this,Nn).destroy())}}On=new WeakMap,tt=new WeakMap,jn=new WeakMap,ot=new WeakMap,it=new WeakMap,rt=new WeakMap,ut=new WeakMap,Jn=new WeakMap,Hn=new WeakMap,st=new WeakMap,C=new WeakMap,bn=new WeakMap,Rn=new WeakMap,Kn=new WeakMap,kn=new WeakMap,Nn=new WeakMap,ft=new WeakMap,mn=new WeakMap,Zn=new WeakMap,ct=new WeakMap,Cn=new WeakMap,et=new WeakMap,vn=new WeakMap,Wn=new WeakSet,Gt=function(x=0,G=Qt.TAU,J=0){const k=G-x,m=new Float32Array((I(this,Hn)+1)*2*3);for(let on=0,nn=0;nn<=I(this,Hn);++nn){const Mn=x+nn*k/I(this,Hn),zn=Math.cos(Mn),Dn=Math.sin(Mn);m[on++]=zn*I(this,On),m[on++]=Dn*I(this,On),m[on++]=zn*J,m[on++]=Dn*J}b(this,kn,I(this,C).CreateVertexBuffer(m,{label:`${I(this,Jn)} Vertex Buffer`})),I(this,C).WriteBuffer(I(this,kn),m)},Ot=function(){const x=new Uint32Array(b(this,st,I(this,Hn)*6));for(let G=0,J=0;J<I(this,Hn);++J){const k=J*2;x[G++]=k+1,x[G++]=k+3,x[G++]=k+2,x[G++]=k+2,x[G++]=k+0,x[G++]=k+1}b(this,Kn,I(this,C).CreateIndexBuffer(x,{label:`${I(this,Jn)} Index Buffer`})),I(this,C).WriteBuffer(I(this,Kn),x)},Zt=function(){const{buffer:x,shape:{color:G,matrix:J}}=I(this,C).CreateUniformBuffer("shape",{label:`${I(this,Jn)} Uniform Buffer`});b(this,Nn,x),b(this,Rn,J),b(this,bn,G),b(this,ft,I(this,C).CreateBindGroup(I(this,C).CreateBindGroupEntries([{buffer:I(this,C).ResolutionBuffer},{buffer:I(this,Nn)}]),0,`${I(this,Jn)} Bind Group`)),b(this,et,Pt({matrix:G.length*Float32Array.BYTES_PER_ELEMENT,color:0*Float32Array.BYTES_PER_ELEMENT}))},xt=function(){if(I(this,jn)){Ln.multiply(I(this,ut),I(this,rt),I(this,Rn)),Ln.multiply(I(this,Rn),I(this,it),I(this,Rn)),Ln.multiply(I(this,Rn),I(this,ot),I(this,Rn)),I(this,C).WriteBuffer(I(this,Nn),I(this,Rn),I(this,et).matrix);const x=I(this,ct)[0]=I(this,Rn)[8],G=I(this,ct)[1]=I(this,Rn)[9];I(this,vn).min[0]=x-I(this,On),I(this,vn).min[1]=G-I(this,On),I(this,vn).max[0]=x+I(this,On),I(this,vn).max[1]=G+I(this,On),b(this,jn,!1)}return this};export{ts as S,is as a};
