import{a as s,b as r}from"./index-CWG6eoQD.js";class h{#r;#t=null;Children=[];Label="";#i=s.identity();#e=s.identity();constructor(t="",i){this.#r=i,this.Label=t}Add(t){t.Parent=this}Remove(t){t.Parent=null}Find(t){if(this.Label===t)return this;for(const i of this.Children){const e=i.Find(t);if(e)return e}}UpdateWorldMatrix(t){this.#r?.GetMatrix(this.#i),t?s.multiply(t,this.#i,this.#e):s.copy(this.#i,this.#e),this.Children.forEach(i=>i.UpdateWorldMatrix(this.#e))}set Parent(t){if(this.#t){const i=this.#t.Children.indexOf(this);0<=i&&this.#t.Children.splice(i,1)}t&&t.Children.push(this),this.#t=t}get LocalMatrix(){return this.#i}get WorldMatrix(){return this.#e}get Transform(){return this.#r}}class l{#r=r.create();#t=r.create();#i=r.create();#e="XYZ";constructor(t=r.zero(),i=r.zero(),e=r.set(1,1,1)){r.copy(t,this.#r),r.copy(i,this.#t),r.copy(e,this.#i)}#s(t,i=this.#e){for(let e=0;e<i.length;++e){const o=this.#t[i[e].charCodeAt()-88];s[`rotate${i[e]}`](t,o,t)}}GetMatrix(t){return s.translation(this.#r,t),this.#s(t),s.scale(t,this.#i,t),t}set Translation(t){r.copy(t,this.#r)}get Translation(){return this.#r}set Rotation(t){r.copy(t,this.#t)}get Rotation(){return this.#t}set Scale(t){r.copy(t,this.#i)}get Scale(){return this.#i}}export{h as S,l as T};
